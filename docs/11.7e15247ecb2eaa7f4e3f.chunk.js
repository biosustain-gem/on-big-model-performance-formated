webpackJsonp([11],{"./app/components/EscherC/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/react.js"),a=n.n(s),c=n("./node_modules/escher-vis/js/src/main.js"),u=(n.n(c),n("./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./app/styles/builder.css")),l=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.container.style.height=this.container.clientWidth+"px";var e=this.props.data;if(console.log(e),!e||!e[1]||!e[1].nodes)return void console.warn("corrupted data",e);this.container.style.width=this.container.clientWidth+"px",this.container.style.height=this.container.clientHeight+"px",console.log(c.Builder(e,null,null,this.container,{menu:"zoom",scroll_behavior:"zoom",use_3d_transform:!0,never_ask_before_quit:!0,canvas_size_and_loc:{width:this.container.clientWidth,height:this.container.clientHeight,x:0,y:0}}).zoom_container.get_size())}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{ref:function(t){e.container=t},style:this.props.style,className:"escher-container"})}}]),t}(s.Component);t.default=d},"./node_modules/baconjs/dist/Bacon.js":function(e,t,n){(function(e,r){var i,o;(function(){function s(e,t){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];this.obs=e,this.sync=t,this.lazy=n,this.queue=[]}function a(){s.apply(this,arguments)}function c(e){s.call(this,e,!0)}function u(e,t,n){this.context=e,this.method=t,this.args=n}function l(e){this.value=e}function d(){this.id=++ce}function h(e,t){if(!(this instanceof h))return new h(e,t);d.call(this),!t&&H.isFunction(e)||(null!=e?e._isNext:void 0)?(this.valueF=e,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=e)}function f(e,t){if(!(this instanceof f))return new f(e,t);h.call(this,e,t)}function _(){if(!(this instanceof _))return new _;d.call(this)}function p(e){if(!(this instanceof p))return new p(e);this.error=e,d.call(this)}function m(e){this.desc=e,this.id=++fe,this.initialDesc=this.desc}function g(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.unsubscribe=H.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var t,n=0;n<e.length;n++)t=e[n],this.add(t)}function v(e,t){this._subscribe=e,this._handleEvent=t,this.subscribe=H.bind(this.subscribe,this),this.handleEvent=H.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function b(e,t,n){if(!(this instanceof b))return new b(e,t,n);H.isFunction(e)&&(n=t,t=e,e=u.empty),m.call(this,e),I(t),this.dispatcher=new v(t,n),_e(this)}function y(e,t,n){v.call(this,t,n),this.property=e,this.subscribe=H.bind(this.subscribe,this),this.current=se,this.currentValueRootId=void 0,this.propertyEnded=!1}function w(e,t,n){m.call(this,e),I(t),this.dispatcher=new y(this,t,n),_e(this)}function x(){if(!(this instanceof x))return new x;this.unsubAll=H.bind(this.unsubAll,this),this.subscribeAll=H.bind(this.subscribeAll,this),this.guardedSink=H.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,b.call(this,new E.Desc(E,"Bus",[]),this.subscribeAll)}function j(e){return[e,de()]}function k(e){this.observable=e}var M=Array.prototype.slice,E={toString:function(){return"Bacon"}};E.version="0.7.95";var z=(void 0!==e&&null!==e?e:this).Error,S=function(){},A=function(e,t){return e},T=function(e){return e.slice(0)},O=function(e,t){if(!t)throw new z(e)},C=function(e){if((null!=e?e._isObservable:void 0)&&!(null!=e?e._isProperty:void 0))throw new z("Observable is not a Property : "+e)},N=function(e){if(!(null!=e?e._isEventStream:void 0))throw new z("not an EventStream : "+e)},D=function(e){if(!(null!=e?e._isObservable:void 0))throw new z("not an Observable : "+e)},I=function(e){return O("not a function : "+e,H.isFunction(e))},P=Array.isArray||function(e){return e instanceof Array},F=function(e){return e&&e._isObservable},U=function(e){if(!P(e))throw new z("not an array : "+e)},L=function(e){return O("no arguments supported",0===e.length)},R=function(e){for(var t=arguments.length,n=1;1<t?n<t:n>t;1<t?n++:n--)for(var r in arguments[n])e[r]=arguments[n][r];return e},q=function(e,t){var n={}.hasOwnProperty,r=function(){};r.prototype=t.prototype,e.prototype=new r;for(var i in t)n.call(t,i)&&(e[i]=t[i]);return e},B=function(e){return"undefined"!=typeof Symbol&&Symbol[e]?Symbol[e]:"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol[e]=Symbol.for(e):"@@"+e},H={indexOf:function(){return Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t===n)return r;return-1}}(),indexWhere:function(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n))return r;return-1},head:function(e){return e[0]},always:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},empty:function(e){return 0===e.length},tail:function(e){return e.slice(1,e.length)},filter:function(e,t){for(var n,r=[],i=0;i<t.length;i++)n=t[i],e(n)&&r.push(n);return r},map:function(e,t){return function(){for(var n,r=[],i=0;i<t.length;i++)n=t[i],r.push(e(n));return r}()},each:function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];t(n,r)}},toArray:function(e){return P(e)?e:[e]},contains:function(e,t){return-1!==H.indexOf(e,t)},id:function(e){return e},last:function(e){return e[e.length-1]},all:function(e){for(var t,n=arguments.length<=1||void 0===arguments[1]?H.id:arguments[1],r=0;r<e.length;r++)if(t=e[r],!n(t))return!1;return!0},any:function(e){for(var t,n=arguments.length<=1||void 0===arguments[1]?H.id:arguments[1],r=0;r<e.length;r++)if(t=e[r],n(t))return!0;return!1},without:function(e,t){return H.filter(function(t){return t!==e},t)},remove:function(e,t){var n=H.indexOf(t,e);if(n>=0)return t.splice(n,1)},fold:function(e,t,n){for(var r,i=0;i<e.length;i++)r=e[i],t=n(t,r);return t},flatMap:function(e,t){return H.fold(t,[],function(t,n){return t.concat(e(n))})},cached:function(e){var t=se;return function(){return(void 0!==t&&null!==t?t._isNone:void 0)&&(t=e(),e=void 0),t}},bind:function(e,t){return function(){return e.apply(t,arguments)}},isFunction:function(e){return"function"==typeof e},toString:function(e){var t,n,r={}.hasOwnProperty;try{return V++,null==e?"undefined":H.isFunction(e)?"function":P(e)?V>5?"[..]":"["+H.map(H.toString,e).toString()+"]":null!=(null!=e?e.toString:void 0)&&e.toString!==Object.prototype.toString?e.toString():"object"==typeof e?V>5?"{..}":"{"+function(){var i=[];for(t in e)r.call(e,t)&&(n=function(){try{return e[t]}catch(e){return e}}(),i.push(H.toString(t)+":"+H.toString(n)));return i}()+"}":e}finally{V--}}},V=0;E._=H;var Y=E.UpdateBarrier=function(){function e(e){e<=a||(s[e-1]||(s[e-1]=[[],0]),a=e)}function t(e,t){for(var n=0;n<t.length;n++)if(t[n][0].id==e.id)return!0;return!1}function n(){var t=a;if(t)for(;a>=t;){var n=s[a-1];if(!n)throw new p("Unexpected stack top: "+n);var r=n[0],i=n[1];if(!(i<r.length)){n[0]=[],n[1]=0;break}var o=r[i],c=(o[0],o[1]);n[1]++,e(a+1);var u=!1;try{for(c(),u=!0;a>t&&0==s[a-1][0].length;)a--}finally{u||(s=[],a=0)}}}var r,i=[],o={},s=[],a=0,c={},u=function(i,o){if(!r&&!s.length)return o();e(1);for(var c=0;c<a-1&&!t(i,s[c][0]);)c++;s[c][0].push([i,o]),r||n()},l=function(e,t){if(r){var n=o[e.id];return void 0===n||null===n?(n=o[e.id]=[t],i.push(e)):n.push(t)}return t()},d=function(){for(;i.length>0;)h(0,!0);c={}},h=function(e,t){var n=i[e],r=n.id,s=o[r];i.splice(e,1),delete o[r],t&&i.length>0&&f(n);for(var a=0;a<s.length;a++)(0,s[a])()},f=function(e){if(!c[e.id]){for(var t,n=e.internalDeps(),r=0;r<n.length;r++)if(t=n[r],f(t),o[t.id]){var s=H.indexOf(i,t);h(s,!1)}c[e.id]=!0}},_=function(e,t,i,o){if(r)return i.apply(t,o);r=e;try{var s=i.apply(t,o);d()}finally{r=void 0,n()}return s},m=function(){return r?r.id:void 0},g=function(e,t){var n=!1,r=!1,i=function(){return r=!0},o=function(){return n=!0,i()};return i=e.dispatcher.subscribe(function(r){return u(e,function(){if(!n){if(t(r)===E.noMore)return o()}})}),r&&i(),o};return{whenDoneWith:l,hasWaiters:function(){return i.length>0},inTransaction:_,currentEventId:m,wrappedSubscribe:g,afterTransaction:u}}();R(s.prototype,{_isSource:!0,subscribe:function(e){return this.obs.dispatcher.subscribe(e)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.lazy?{value:H.always(this.queue[0])}:this.queue[0]},push:function(e){return this.queue=[e],[e]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),q(a,s),R(a.prototype,{consume:function(){return this.queue.shift()},push:function(e){return this.queue.push(e)},mayHave:function(e){return!this.ended||this.queue.length>=e},hasAtLeast:function(e){return this.queue.length>=e},flatten:!1}),q(c,s),R(c.prototype,{consume:function(){var e=this.queue;return this.queue=[],{value:function(){return e}}},push:function(e){return this.queue.push(e.value())},hasAtLeast:function(){return!0}}),s.isTrigger=function(e){return(null!=e?e._isSource:void 0)?e.sync:null!=e?e._isEventStream:void 0},s.fromObservable=function(e){return(null!=e?e._isSource:void 0)?e:(null!=e?e._isProperty:void 0)?new s(e,!1):new a(e,!0)},R(u.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=$([this.context].concat(this.args))),this.cached},toString:function(){return H.toString(this.context)+"."+H.toString(this.method)+"("+H.map(H.toString,this.args)+")"}});var W=function(e,t){var n=e||t;if(n&&n._isDesc)return e||t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new u(e,t,i)},X=function(e,t){return t.desc=e,t},$=function(e){return P(e)?H.flatMap($,e):F(e)?[e]:(void 0!==e&&null!==e?e._isSource:void 0)?[e.obs]:[]};E.Desc=u,E.Desc.empty=new E.Desc("","",[]);var J=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if("object"==typeof t&&r.length){var o=t,s=r[0];t=function(){return o[s].apply(o,arguments)},r=r.slice(1)}return e.apply(void 0,[t].concat(r))}},G=function(e){return e=Array.prototype.slice.call(e),te.apply(void 0,e)},Z=function(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(void 0,t.concat(r))}},K=function(e){return function(t){return function(n){if(void 0!==n&&null!==n){var r=n[t];return H.isFunction(r)?r.apply(n,e):r}}}},Q=function(e,t){var n=e.slice(1).split("."),r=H.map(K(t),n);return function(e){for(var t,n=0;n<r.length;n++)t=r[n],e=t(e);return e}},ee=function(e){return"string"==typeof e&&e.length>1&&"."===e.charAt(0)},te=J(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H.isFunction(e)?n.length?Z(e,n):e:ee(e)?Q(e,n):H.always(e)}),ne=function(e,t){return te.apply(void 0,[e].concat(t))},re=function(e,t,n,r){if(void 0!==t&&null!==t?t._isProperty:void 0){var i=t.sampledBy(e,function(e,t){return[e,t]});return r.call(i,function(e){var t=e[0];e[1];return t}).map(function(e){e[0];return e[1]})}return t=ne(t,n),r.call(e,t)},ie=function(e){if(H.isFunction(e))return e;if(ee(e)){var t=oe(e);return function(e,n){return e[t](n)}}throw new z("not a function or a field key: "+e)},oe=function(e){return e.slice(1)};R(l.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(e){return e(this.value)?new l(this.value):se},map:function(e){return new l(e(this.value))},forEach:function(e){return e(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var se={_isNone:!0,getOrElse:function(e){return e},filter:function(){return se},map:function(){return se},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},ae=function(e){return(void 0!==e&&null!==e?e._isSome:void 0)||(void 0!==e&&null!==e?e._isNone:void 0)?e:new l(e)};E.noMore="<no-more>",E.more="<more>";var ce=0;d.prototype._isEvent=!0,d.prototype.isEvent=function(){return!0},d.prototype.isEnd=function(){return!1},d.prototype.isInitial=function(){return!1},d.prototype.isNext=function(){return!1},d.prototype.isError=function(){return!1},d.prototype.hasValue=function(){return!1},d.prototype.filter=function(){return!0},d.prototype.inspect=function(){return this.toString()},d.prototype.log=function(){return this.toString()},q(h,d),h.prototype.isNext=function(){return!0},h.prototype.hasValue=function(){return!0},h.prototype.value=function(){var e;return(null!=(e=this.valueF)?e._isNext:void 0)?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},h.prototype.fmap=function(e){var t,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return e(n)})):(t=this,this.apply(function(){return e(t.value())}))},h.prototype.apply=function(e){return new h(e)},h.prototype.filter=function(e){return e(this.value())},h.prototype.toString=function(){return H.toString(this.value())},h.prototype.log=function(){return this.value()},h.prototype._isNext=!0,q(f,h),f.prototype._isInitial=!0,f.prototype.isInitial=function(){return!0},f.prototype.isNext=function(){return!1},f.prototype.apply=function(e){return new f(e)},f.prototype.toNext=function(){return new h(this)},q(_,d),_.prototype.isEnd=function(){return!0},_.prototype.fmap=function(){return this},_.prototype.apply=function(){return this},_.prototype.toString=function(){return"<end>"},q(p,d),p.prototype.isError=function(){return!0},p.prototype.fmap=function(){return this},p.prototype.apply=function(){return this},p.prototype.toString=function(){return"<error> "+H.toString(this.error)},E.Event=d,E.Initial=f,E.Next=h,E.End=_,E.Error=p;var ue=function(e){return new f(e,!0)},le=function(e){return new h(e,!0)},de=function(){return new _},he=function(e){return e&&e._isEvent?e:le(e)},fe=0,_e=function(){};R(m.prototype,{_isObservable:!0,subscribe:function(e){return Y.wrappedSubscribe(this,e)},subscribeInternal:function(e){return this.dispatcher.subscribe(e)},onValue:function(){var e=G(arguments);return this.subscribe(function(t){if(t.hasValue())return e(t.value())})},onValues:function(e){return this.onValue(function(t){return e.apply(void 0,t)})},onError:function(){var e=G(arguments);return this.subscribe(function(t){if(t.isError())return e(t.error)})},onEnd:function(){var e=G(arguments);return this.subscribe(function(t){if(t.isEnd())return e()})},name:function(e){return this._name=e,this},withDescription:function(){return this.desc=W.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},deps:function(){return this.desc.deps()},internalDeps:function(){return this.initialDesc.deps()}}),m.prototype.assign=m.prototype.onValue,m.prototype.forEach=m.prototype.onValue,m.prototype.inspect=m.prototype.toString,E.Observable=m,R(g.prototype,{add:function(e){var t=this;if(!this.unsubscribed){var n=!1,r=S;this.starting.push(e);var i=function(){if(!t.unsubscribed)return n=!0,t.remove(r),H.remove(e,t.starting)};return r=e(this.unsubscribe,i),this.unsubscribed||n?r():this.subscriptions.push(r),H.remove(e,this.starting),r}},remove:function(e){if(!this.unsubscribed)return void 0!==H.remove(e,this.subscriptions)?e():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var e=this.subscriptions,t=0;t<e.length;t++)e[t]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}}),E.CompositeUnsubscribe=g,v.prototype.hasSubscribers=function(){return this.subscriptions.length>0},v.prototype.removeSub=function(e){return this.subscriptions=H.without(e,this.subscriptions),this.subscriptions},v.prototype.push=function(e){return e.isEnd()&&(this.ended=!0),Y.inTransaction(e,this,this.pushIt,[e])},v.prototype.pushToSubscriptions=function(e){try{for(var t=this.subscriptions,n=t.length,r=0;r<n;r++){var i=t[r];(i.sink(e)===E.noMore||e.isEnd())&&this.removeSub(i)}return!0}catch(e){throw this.pushing=!1,this.queue=[],e}},v.prototype.pushIt=function(e){if(this.pushing)return this.queue.push(e),E.more;if(e!==this.prevError){for(e.isError()&&(this.prevError=e),this.pushing=!0,this.pushToSubscriptions(e),this.pushing=!1;this.queue.length;)e=this.queue.shift(),this.push(e);return this.hasSubscribers()?E.more:(this.unsubscribeFromSource(),E.noMore)}},v.prototype.handleEvent=function(e){return this._handleEvent?this._handleEvent(e):this.push(e)},v.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},v.prototype.subscribe=function(e){var t;return this.ended?(e(de()),S):(I(e),t={sink:e},this.subscriptions.push(t),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),I(this.unsubSrc)),function(e){return function(){if(e.removeSub(t),!e.hasSubscribers())return e.unsubscribeFromSource()}}(this))},E.Dispatcher=v,q(b,m),R(b.prototype,{_isEventStream:!0,toProperty:function(e){var t=0===arguments.length?se:ae(function(){return e}),n=this.dispatcher;return new w(new E.Desc(this,"toProperty",[e]),function(e){var r=!1,i=!1,o=S,s=E.more,a=function(){if(!r)return t.forEach(function(t){if(r=!0,(s=e(new f(t)))===E.noMore)return o(),o=S,S})};return o=n.subscribe(function(n){return n.hasValue()?n.isInitial()&&!i?(t=new l(function(){return n.value()}),E.more):(n.isInitial()||a(),r=!0,t=new l(n),e(n)):(n.isEnd()&&(s=a()),s!==E.noMore?e(n):void 0)}),i=!0,a(),o})},toEventStream:function(){return this},withHandler:function(e){return new b(new E.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)}}),E.EventStream=b,E.never=function(){return new b(W(E,"never"),function(e){return e(de()),S})},E.when=function(){if(0===arguments.length)return E.never();var e=arguments.length;O("when: expecting arguments in the form (Observable+,function)+",e%2==0);for(var t=[],n=[],r=0,i=[];r<e;){i[r]=arguments[r],i[r+1]=arguments[r+1];for(var o,a=H.toArray(arguments[r]),c=me(arguments[r+1]),u={f:c,ixs:[]},l=!1,d=0;d<a.length;d++){o=a[d];var h=H.indexOf(t,o);l||(l=s.isTrigger(o)),h<0&&(t.push(o),h=t.length-1);for(var f,_=0;_<u.ixs.length;_++)f=u.ixs[_],f.index===h&&f.count++;u.ixs.push({index:h,count:1})}O("At least one EventStream required",l||!a.length),a.length>0&&n.push(u),r+=2}if(!t.length)return E.never();t=H.map(s.fromObservable,t);var p=H.any(t,function(e){return e.flatten})&&pe(H.map(function(e){return e.obs},t)),m=new E.Desc(E,"when",i),g=new b(m,function(e){var r=[],i=!1,o=function(e){for(var n,r=0;r<e.ixs.length;r++)if(n=e.ixs[r],!t[n.index].hasAtLeast(n.count))return!1;return!0},s=function(e){return!e.sync||e.ended},a=function(e){for(var n,r=0;r<e.ixs.length;r++)if(n=e.ixs[r],!t[n.index].mayHave(n.count))return!0},c=function(e){return!e.source.flatten},u=function(u){return function(l){var d=function(){return Y.whenDoneWith(g,f)},h=function(){if(!(r.length>0))return E.more;for(var i,s=E.more,a=r.pop(),u=0;u<n.length;u++)if(i=n[u],o(i)){var l=function(){for(var e,n=[],r=0;r<i.ixs.length;r++)e=i.ixs[r],n.push(t[e.index].consume());return n}();return s=e(a.e.apply(function(){var e,t=function(){for(var e,t=[],n=0;n<l.length;n++)e=l[n],t.push(e.value());return t}();return(e=i).f.apply(e,t)})),r.length&&(r=H.filter(c,r)),s===E.noMore?s:h()}},f=function(){var r=h();return i&&(H.all(t,s)||H.all(n,a))&&(r=E.noMore,e(de())),r===E.noMore&&l(),r};return u.subscribe(function(t){if(t.isEnd())i=!0,u.markEnded(),d();else if(t.isError())var n=e(t);else u.push(t),u.sync&&(r.push({source:u,e:t}),p||Y.hasWaiters()?d():f());return n===E.noMore&&l(),n||E.more})}};return new E.CompositeUnsubscribe(function(){for(var e,n=[],r=0;r<t.length;r++)e=t[r],n.push(u(e));return n}()).unsubscribe});return g};var pe=function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=function(e){if(H.contains(t,e))return!0;var r=e.internalDeps();return r.length?(t.push(e),H.any(r,n)):(t.push(e),!1)};return H.any(e,n)},me=function(e){return H.isFunction(e)?e:H.always(e)};E.groupSimultaneous=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&P(t[0])&&(t=t[0]);var r=function(){for(var e,n=[],r=0;r<t.length;r++)e=t[r],n.push(new c(e));return n}();return X(new E.Desc(E,"groupSimultaneous",t),E.when(r,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}))},q(y,v),R(y.prototype,{push:function(e){return e.isEnd()&&(this.propertyEnded=!0),e.hasValue()&&(this.current=new l(e),this.currentValueRootId=Y.currentEventId()),v.prototype.push.call(this,e)},maybeSubSource:function(e,t){return t===E.noMore?S:this.propertyEnded?(e(de()),S):v.prototype.subscribe.call(this,e)},subscribe:function(e){var t=this,n=E.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var r=Y.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&r&&r!==i?(Y.whenDoneWith(this.property,function(){if(t.currentValueRootId===i)return e(ue(t.current.get().value()))}),this.maybeSubSource(e,n)):(Y.inTransaction(void 0,this,function(){return n=e(ue(this.current.get().value()))},[]),this.maybeSubSource(e,n))}return this.maybeSubSource(e,n)}}),q(w,m),R(w.prototype,{_isProperty:!0,changes:function(){var e=this;return new b(new E.Desc(this,"changes",[]),function(t){return e.dispatcher.subscribe(function(e){if(!e.isInitial())return t(e)})})},withHandler:function(e){return new w(new E.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},toProperty:function(){return L(arguments),this},toEventStream:function(){var e=this;return new b(new E.Desc(this,"toEventStream",[]),function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()&&(e=e.toNext()),t(e)})})}}),E.Property=w,E.constant=function(e){return new w(new E.Desc(E,"constant",[e]),function(t){return t(ue(e)),t(de()),S})},E.fromBinder=function(e){var t=arguments.length<=1||void 0===arguments[1]?H.id:arguments[1];return new b(new E.Desc(E,"fromBinder",[e,t]),function(n){var r=!1,i=!1,o=function(){if(!r)return void 0!==s&&null!==s?(s(),r=!0):i=!0},s=e(function(){for(var e,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=t.apply(this,i);P(a)&&(null!=(e=H.last(a))?e._isEvent:void 0)||(a=[a]);for(var c,u=E.more,l=0;l<a.length;l++)if(c=a[l],(u=n(c=he(c)))===E.noMore||c.isEnd())return o(),u;return u});return i&&o(),o})},E.Observable.prototype.map=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return X(new E.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})};var ge=function(e){return P(e[0])?e[0]:Array.prototype.slice.call(e)},ve=function(e){return H.isFunction(e[0])?[ge(Array.prototype.slice.call(e,1)),e[0]]:[ge(Array.prototype.slice.call(e,0,e.length-1)),H.last(e)]};E.combineAsArray=function(){var e=ge(arguments);if(e.length){for(var t=[],n=0;n<e.length;n++){var r=F(e[n])?e[n]:E.constant(e[n]);t.push(new s(r,!0))}return X(new E.Desc(E,"combineAsArray",e),E.when(t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}).toProperty())}return E.constant([])},E.onValues=function(){return E.combineAsArray(Array.prototype.slice.call(arguments,0,arguments.length-1)).onValues(arguments[arguments.length-1])},E.combineWith=function(){var e=ve(arguments),t=e[0],n=e[1],r=new E.Desc(E,"combineWith",[n].concat(t));return X(r,E.combineAsArray(t).map(function(e){return n.apply(void 0,e)}))},E.Observable.prototype.combine=function(e,t){var n=ie(t),r=new E.Desc(this,"combine",[e,t]);return X(r,E.combineAsArray(this,e).map(function(e){return n(e[0],e[1])}))},E.Observable.prototype.withStateMachine=function(e,t){var n=e,r=new E.Desc(this,"withStateMachine",[e,t]);return X(r,this.withHandler(function(e){var r=t(n,e),i=r[0],o=r[1];n=i;for(var s,a=E.more,c=0;c<o.length;c++)if(s=o[c],(a=this.push(s))===E.noMore)return a;return a}))};var be=function(e,t){return e===t},ye=function(e){return void 0!==e&&null!==e&&e._isNone};E.Observable.prototype.skipDuplicates=function(){var e=arguments.length<=0||void 0===arguments[0]?be:arguments[0],t=new E.Desc(this,"skipDuplicates",[]);return X(t,this.withStateMachine(se,function(t,n){return n.hasValue()?n.isInitial()||ye(t)||!e(t.get(),n.value())?[new l(n.value()),[n]]:[t,[]]:[t,[n]]}))},E.Observable.prototype.awaiting=function(e){var t=new E.Desc(this,"awaiting",[e]);return X(t,E.groupSimultaneous(this,e).map(function(e){return 0===e[1].length}).toProperty(!1).skipDuplicates())},E.Observable.prototype.not=function(){return X(new E.Desc(this,"not",[]),this.map(function(e){return!e}))},E.Property.prototype.and=function(e){return X(new E.Desc(this,"and",[e]),this.combine(e,function(e,t){return e&&t}))},E.Property.prototype.or=function(e){return X(new E.Desc(this,"or",[e]),this.combine(e,function(e,t){return e||t}))},E.scheduler={setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},now:function(){return(new Date).getTime()}},E.EventStream.prototype.bufferWithTime=function(e){return X(new E.Desc(this,"bufferWithTime",[e]),this.bufferWithTimeOrCount(e,Number.MAX_VALUE))},E.EventStream.prototype.bufferWithCount=function(e){return X(new E.Desc(this,"bufferWithCount",[e]),this.bufferWithTimeOrCount(void 0,e))},E.EventStream.prototype.bufferWithTimeOrCount=function(e,t){var n=function(n){return n.values.length===t?n.flush():void 0!==e?n.schedule():void 0},r=new E.Desc(this,"bufferWithTimeOrCount",[e,t]);return X(r,this.buffer(e,n,n))},E.EventStream.prototype.buffer=function(e){var t=arguments.length<=1||void 0===arguments[1]?S:arguments[1],n=arguments.length<=2||void 0===arguments[2]?S:arguments[2],r={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(E.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var e=this.values;this.values=[];var t=this.push(le(e));if(null!=this.end)return this.push(this.end);if(t!==E.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var t=this;if(!this.scheduled)return this.scheduled=e(function(){return t.flush()})}},i=E.more;if(!H.isFunction(e)){var o=e;e=function(e){return E.scheduler.setTimeout(e,o)}}return X(new E.Desc(this,"buffer",[]),this.withHandler(function(e){var n=this;return r.push=function(e){return n.push(e)},e.isError()?i=this.push(e):e.isEnd()?(r.end=e,r.scheduled||r.flush()):(r.values.push(e.value()),t(r)),i}))},E.Observable.prototype.filter=function(e){C(e);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return X(new E.Desc(this,"filter",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):E.more}))})},E.once=function(e){return new b(new u(E,"once",[e]),function(t){return t(he(e)),t(de()),S})},E.EventStream.prototype.concat=function(e){var t=this;return new b(new E.Desc(t,"concat",[e]),function(n){var r=S,i=t.dispatcher.subscribe(function(t){return t.isEnd()?r=e.toEventStream().dispatcher.subscribe(n):n(t)});return function(){return i(),r()}})},E.Property.prototype.concat=function(e){return we(this,this.changes().concat(e))},E.concatAll=function(){var e=ge(arguments);return e.length?X(new E.Desc(E,"concatAll",e),H.fold(H.tail(e),H.head(e).toEventStream(),function(e,t){return e.concat(t)})):E.never()};var we=function(e,t){var n=new b(W(e,"justInitValue"),function(t){var r=void 0,i=e.dispatcher.subscribe(function(e){return e.isEnd()||(r=e),E.noMore});return Y.whenDoneWith(n,function(){return void 0!==r&&null!==r&&t(r),t(de())}),i});return n.concat(t).toProperty()};E.Observable.prototype.flatMap=function(){return ke(this,xe(arguments))},E.Observable.prototype.flatMapFirst=function(){return ke(this,xe(arguments),!0)};var xe=function(e){return 1===e.length&&F(e[0])?H.always(e[0]):G(e)},je=function(e){return F(e)?e:E.once(e)},ke=function(e,t,n,r){var i=[e],o=[],s=new E.Desc(e,"flatMap"+(n?"First":""),[t]),a=new b(s,function(i){var s=new g,a=[],c=function(e){var n=je(t(e.value()));return o.push(n),s.add(function(e,t){return n.dispatcher.subscribe(function(r){if(r.isEnd())return H.remove(n,o),u(),l(t),E.noMore;(void 0!==r&&null!==r?r._isInitial:void 0)&&(r=r.toNext());var s=i(r);return s===E.noMore&&e(),s})})},u=function(){var e=a.shift();if(e)return c(e)},l=function(e){if(e(),s.empty())return i(de())};return s.add(function(t,o){return e.dispatcher.subscribe(function(e){return e.isEnd()?l(o):e.isError()?i(e):n&&s.count()>1?E.more:s.unsubscribed?E.noMore:r&&s.count()>r?a.push(e):c(e)})}),s.unsubscribe});return a.internalDeps=function(){return o.length?i.concat(o):i},a};E.Observable.prototype.flatMapWithConcurrencyLimit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new E.Desc(this,"flatMapWithConcurrencyLimit",[e].concat(n));return X(i,ke(this,xe(n),!1,e))},E.Observable.prototype.flatMapConcat=function(){var e=new E.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0));return X(e,this.flatMapWithConcurrencyLimit.apply(this,[1].concat(M.call(arguments))))},E.later=function(e,t){return X(new E.Desc(E,"later",[e,t]),E.fromBinder(function(n){var r=function(){return n([t,de()])},i=E.scheduler.setTimeout(r,e);return function(){return E.scheduler.clearTimeout(i)}}))},E.Observable.prototype.bufferingThrottle=function(e){var t=new E.Desc(this,"bufferingThrottle",[e]);return X(t,this.flatMapConcat(function(t){return E.once(t).concat(E.later(e).filter(!1))}))},E.Property.prototype.bufferingThrottle=function(){return E.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},q(x,b),R(x.prototype,{unsubAll:function(){for(var e,t=this.subscriptions,n=0;n<t.length;n++)e=t[n],"function"==typeof e.unsub&&e.unsub()},subscribeAll:function(e){if(this.ended)e(de());else{this.sink=e;for(var t,n=T(this.subscriptions),r=0;r<n.length;r++)t=n[r],this.subscribeInput(t)}return this.unsubAll},guardedSink:function(e){var t=this;return function(n){return n.isEnd()?(t.unsubscribeInput(e),E.noMore):t.sink(n)}},subscribeInput:function(e){return e.unsub=e.input.dispatcher.subscribe(this.guardedSink(e.input)),e.unsub},unsubscribeInput:function(e){for(var t,n=this.subscriptions,r=0;r<n.length;r++)if(t=n[r],t.input===e)return"function"==typeof t.unsub&&t.unsub(),void this.subscriptions.splice(r,1)},plug:function(e){var t=this;if(D(e),!this.ended){var n={input:e};return this.subscriptions.push(n),void 0!==this.sink&&this.subscribeInput(n),function(){return t.unsubscribeInput(e)}}},end:function(){if(this.ended=!0,this.unsubAll(),"function"==typeof this.sink)return this.sink(de())},push:function(e){if(!this.ended&&"function"==typeof this.sink){var t=!this.pushing;if(!t)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(e);this.pushing=!0;try{return this.sink(le(e))}finally{if(t&&this.pushQueue){for(var n=0;n<this.pushQueue.length;){var e=this.pushQueue[n];this.sink(le(e)),n++}this.pushQueue=null}this.pushing=!1}}},error:function(e){if("function"==typeof this.sink)return this.sink(new p(e))}}),E.Bus=x;var Me=function(e,t){return J(function(n){for(var r=Z(t,[function(e,t){return n.apply(void 0,e.concat([t]))}]),i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return X(new E.Desc(E,e,[n].concat(o)),E.combineAsArray(o).flatMap(r))})};E.fromCallback=Me("fromCallback",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E.fromBinder(function(t){return ne(e,n)(t),S},function(e){return[e,de()]})}),E.fromNodeCallback=Me("fromNodeCallback",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E.fromBinder(function(t){return ne(e,n)(t),S},function(e,t){return e?[new p(e),de()]:[t,de()]})}),E.combineTemplate=function(e){function t(e){return e[e.length-1]}function n(e,n,r){return t(e)[n]=r,r}function r(e,t){return function(r,i){n(r,e,i[t])}}function i(e,t){return function(r){n(r,e,t)}}function o(e){return P(e)?[]:{}}function s(e,t){return function(r){var i=o(t);n(r,e,i),r.push(i)}}function a(e){if(F(e))return!0;if(e&&(e.constructor==Object||e.constructor==Array))for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];if(a(n))return!0}}function c(e,t){if(F(t))h.push(t),d.push(r(e,h.length-1));else if(a(t)){var n=function(e){e.pop()};d.push(s(e,t)),l(t),d.push(n)}else d.push(i(e,t))}function u(t){for(var n=o(e),r=[n],i=0;i<d.length;i++)(0,d[i])(r,t);return n}function l(e){H.each(e,c)}var d=[],h=[],f=a(e)?(l(e),E.combineAsArray(h).map(u)):E.constant(e);return X(new E.Desc(E,"combineTemplate",[e]),f)},E.Observable.prototype.mapEnd=function(){var e=G(arguments);return X(new E.Desc(this,"mapEnd",[e]),this.withHandler(function(t){return t.isEnd()?(this.push(le(e(t))),this.push(de()),E.noMore):this.push(t)}))},E.Observable.prototype.skipErrors=function(){return X(new E.Desc(this,"skipErrors",[]),this.withHandler(function(e){return e.isError()?E.more:this.push(e)}))},E.EventStream.prototype.takeUntil=function(e){var t={};return X(new E.Desc(this,"takeUntil",[e]),E.groupSimultaneous(this.mapEnd(t),e.skipErrors()).withHandler(function(e){if(e.hasValue()){var n=e.value(),r=n[0];if(n[1].length)return this.push(de());for(var i,o=E.more,s=0;s<r.length;s++)i=r[s],o=i===t?this.push(de()):this.push(le(i));return o}return this.push(e)}))},E.Property.prototype.takeUntil=function(e){var t=this.changes().takeUntil(e);return X(new E.Desc(this,"takeUntil",[e]),we(this,t))},E.Observable.prototype.flatMapLatest=function(){var e=xe(arguments),t=this.toEventStream();return X(new E.Desc(this,"flatMapLatest",[e]),t.flatMap(function(n){return je(e(n)).takeUntil(t)}))},E.Property.prototype.delayChanges=function(e,t){return X(e,we(this,t(this.changes())))},E.EventStream.prototype.delayChanges=function(e,t){return X(e,t(this))},E.Observable.prototype.delay=function(e){return this.delayChanges(new E.Desc(this,"delay",[e]),function(t){return t.flatMap(function(t){return E.later(e,t)})})},E.Observable.prototype.debounce=function(e){return this.delayChanges(new E.Desc(this,"debounce",[e]),function(t){return t.flatMapLatest(function(t){return E.later(e,t)})})},E.Observable.prototype.debounceImmediate=function(e){return this.delayChanges(new E.Desc(this,"debounceImmediate",[e]),function(t){return t.flatMapFirst(function(t){return E.once(t).concat(E.later(e).filter(!1))})})},E.Observable.prototype.decode=function(e){return X(new E.Desc(this,"decode",[e]),this.combine(E.combineTemplate(e),function(e,t){return t[e]}))},E.Observable.prototype.scan=function(e,t){var n,r=this;t=ie(t);var i=ae(e),o=!1,s=function(e){var s=!1,a=S,c=E.more,u=function(){if(!s)return i.forEach(function(t){if(s=o=!0,(c=e(new f(function(){return t})))===E.noMore)return a(),a=S})};return a=r.dispatcher.subscribe(function(n){if(n.hasValue()){if(o&&n.isInitial())return E.more;n.isInitial()||u(),s=o=!0;var r=i.getOrElse(void 0),a=t(r,n.value());return i=new l(a),e(n.apply(function(){return a}))}if(n.isEnd()&&(c=u()),c!==E.noMore)return e(n)}),Y.whenDoneWith(n,u),a};return n=new w(new E.Desc(this,"scan",[e,t]),s)},E.Observable.prototype.diff=function(e,t){return t=ie(t),X(new E.Desc(this,"diff",[e,t]),this.scan([e],function(e,n){return[n,t(e[0],n)]}).filter(function(e){return 2===e.length}).map(function(e){return e[1]}))},E.Observable.prototype.doAction=function(){var e=G(arguments);return X(new E.Desc(this,"doAction",[e]),this.withHandler(function(t){return t.hasValue()&&e(t.value()),this.push(t)}))},E.Observable.prototype.doEnd=function(){var e=G(arguments);return X(new E.Desc(this,"doEnd",[e]),this.withHandler(function(t){return t.isEnd()&&e(),this.push(t)}))},E.Observable.prototype.doError=function(){var e=G(arguments);return X(new E.Desc(this,"doError",[e]),this.withHandler(function(t){return t.isError()&&e(t.error),this.push(t)}))},E.Observable.prototype.doLog=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return X(new E.Desc(this,"doLog",t),this.withHandler(function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,t.concat([e.log()])),this.push(e)}))},E.Observable.prototype.endOnError=function(e){void 0!==e&&null!==e||(e=!0);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return X(new E.Desc(this,"endOnError",[]),this.withHandler(function(t){return t.isError()&&e(t.error)?(this.push(t),this.push(de())):this.push(t)}))})},m.prototype.errors=function(){return X(new E.Desc(this,"errors",[]),this.filter(function(){return!1}))},E.Observable.prototype.take=function(e){return e<=0?E.never():X(new E.Desc(this,"take",[e]),this.withHandler(function(t){return t.hasValue()?(e--,e>0?this.push(t):(0===e&&this.push(t),this.push(de()),E.noMore)):this.push(t)}))},E.Observable.prototype.first=function(){return X(new E.Desc(this,"first",[]),this.take(1))},E.Observable.prototype.mapError=function(){var e=G(arguments);return X(new E.Desc(this,"mapError",[e]),this.withHandler(function(t){return t.isError()?this.push(le(e(t.error))):this.push(t)}))},E.Observable.prototype.flatMapError=function(e){var t=new E.Desc(this,"flatMapError",[e]);return X(t,this.mapError(function(e){return new p(e)}).flatMap(function(t){return t instanceof p?e(t.error):E.once(t)}))},E.EventStream.prototype.flatScan=function(e,t){var n=e;return this.flatMapConcat(function(e){return je(t(n,e)).doAction(function(e){return n=e})}).toProperty(e)},E.EventStream.prototype.sampledBy=function(e,t){return X(new E.Desc(this,"sampledBy",[e,t]),this.toProperty().sampledBy(e,t))},E.Property.prototype.sampledBy=function(e,t){var n=!1;void 0!==t&&null!==t?t=ie(t):(n=!0,t=function(e){return e.value()});var r=new s(this,!1,n),i=new s(e,!0,n),o=E.when([r,i],t),a=e._isProperty?o.toProperty():o;return X(new E.Desc(this,"sampledBy",[e,t]),a)},E.Property.prototype.sample=function(e){return X(new E.Desc(this,"sample",[e]),this.sampledBy(E.interval(e,{})))},E.Observable.prototype.map=function(e){if(e&&e._isProperty)return e.sampledBy(this,A);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return X(new E.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})},E.Observable.prototype.fold=function(e,t){return X(new E.Desc(this,"fold",[e,t]),this.scan(e,t).sampledBy(this.filter(!1).mapEnd().toProperty()))},m.prototype.reduce=m.prototype.fold;var Ee=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],ze=function(e){for(var t,n=0;n<Ee.length;n++){t=Ee[n];var r=[e[t[0]],e[t[1]]];if(r[0]&&r[1])return r}for(var i=0;i<Ee.length;i++){t=Ee[i];var o=e[t[0]];if(o)return[o,function(){}]}throw new p("No suitable event methods in "+e)};E.fromEventTarget=function(e,t,n){var r=ze(e),i=r[0],o=r[1],s=new E.Desc(E,"fromEvent",[e,t]);return X(s,E.fromBinder(function(n){return i.call(e,t,n),function(){return o.call(e,t,n)}},n))},E.fromEvent=E.fromEventTarget,E.fromPoll=function(e,t){var n=new E.Desc(E,"fromPoll",[e,t]);return X(n,E.fromBinder(function(t){var n=E.scheduler.setInterval(t,e);return function(){return E.scheduler.clearInterval(n)}},t))},E.fromPromise=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?j:arguments[2];return X(new E.Desc(E,"fromPromise",[e]),E.fromBinder(function(n){var r=e.then(n,function(e){return n(new p(e))});return r&&"function"==typeof r.done&&r.done(),t?function(){if("function"==typeof e.abort)return e.abort()}:function(){}},n))},E.Observable.prototype.groupBy=function(e){var t=arguments.length<=1||void 0===arguments[1]?E._.id:arguments[1],n={},r=this;return r.filter(function(t){return!n[e(t)]}).map(function(i){var o=e(i),s=r.filter(function(t){return e(t)===o}),a=E.once(i).concat(s),c=t(a,i).withHandler(function(e){if(this.push(e),e.isEnd())return delete n[o]});return n[o]=c,c})},E.fromArray=function(e){if(U(e),e.length){var t=0,n=new b(new E.Desc(E,"fromArray",[e]),function(r){function i(){if(c=!0,!a){for(a=!0;c;)if(c=!1,s!==E.noMore&&!o){var u=e[t++];s=r(he(u)),s!==E.noMore&&(t===e.length?r(de()):Y.afterTransaction(n,i))}return a=!1}}var o=!1,s=E.more,a=!1,c=!1;return i(),function(){return o=!0}});return n}return X(new E.Desc(E,"fromArray",e),E.never())},E.EventStream.prototype.holdWhen=function(e){var t=!1,n=[],r=this,i=!1;return new b(new E.Desc(this,"holdWhen",[e]),function(o){var s=new g,a=!1,c=function(e){if("function"==typeof e&&e(),s.empty()&&a)return o(de())};return s.add(function(r,s){return e.subscribeInternal(function(e){if(!e.hasValue())return e.isEnd()?c(s):o(e);if(!(t=e.value())){var r=n;return n=[],function(){for(var e,t=[],n=0;n<r.length;n++)e=r[n],t.push(o(le(e)));return i&&(t.push(o(de())),s()),t}()}})}),s.add(function(e,s){return r.subscribeInternal(function(e){return t&&e.hasValue()?n.push(e.value()):e.isEnd()&&n.length?(i=!0,c(s)):o(e)})}),a=!0,c(),s.unsubscribe})},E.interval=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return X(new E.Desc(E,"interval",[e,t]),E.fromPoll(e,function(){return le(t)}))},E.$={},E.$.asEventStream=function(e,t,n){var r=this;return H.isFunction(t)&&(n=t,t=void 0),X(new E.Desc(this.selector||this,"asEventStream",[e]),E.fromBinder(function(n){return r.on(e,t,n),function(){return r.off(e,t,n)}},n))},"undefined"!=typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=E.$.asEventStream),"undefined"!=typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=E.$.asEventStream),E.Observable.prototype.last=function(){var e;return X(new E.Desc(this,"last",[]),this.withHandler(function(t){if(t.isEnd())return e&&this.push(e),this.push(de()),E.noMore;e=t}))},E.Observable.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.subscribe(function(e){"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,t.concat([e.log()]))}),this},E.EventStream.prototype.merge=function(e){N(e);var t=this;return X(new E.Desc(t,"merge",[e]),E.mergeAll(this,e))},E.mergeAll=function(){var e=ge(arguments);return e.length?new b(new E.Desc(E,"mergeAll",e),function(t){var n=0,r=function(r){return function(i){return r.dispatcher.subscribe(function(r){if(r.isEnd())return n++,n===e.length?t(de()):E.more;var o=t(r);return o===E.noMore&&i(),o})}},i=H.map(r,e);return new E.CompositeUnsubscribe(i).unsubscribe}):E.never()},E.repeatedly=function(e,t){var n=0;return X(new E.Desc(E,"repeatedly",[e,t]),E.fromPoll(e,function(){return t[n++%t.length]}))},E.repeat=function(e){var t=0;return E.fromBinder(function(n){function r(e){return e.isEnd()?o?i():o=!0:s=n(e)}function i(){var i;for(o=!0;o&&s!==E.noMore;)i=e(t++),o=!1,i?a=i.subscribeInternal(r):n(de());return o=!0}var o=!1,s=E.more,a=function(){};return i(),function(){return a()}})},E.retry=function(e){if(!H.isFunction(e.source))throw new z("'source' option has to be a function");var t=e.source,n=e.retries||0,r=0,i=e.delay||function(){return 0},o=e.isRetryable||function(){return!0},s=!1,a=null;return X(new E.Desc(E,"retry",[e]),E.repeat(function(e){function c(){return t(e).endOnError().withHandler(function(e){return e.isError()?(a=e,o(a.error)&&(0===n||r<n)?void 0:(s=!0,this.push(e))):(e.hasValue()&&(a=null,s=!0),this.push(e))})}if(s)return null;if(a){var u={error:a.error,retriesDone:r},l=E.later(i(u)).filter(!1);return r++,l.concat(E.once().flatMap(c))}return c()}))},E.sequentially=function(e,t){var n=0;return X(new E.Desc(E,"sequentially",[e,t]),E.fromPoll(e,function(){var e=t[n++];return n<t.length?e:n===t.length?[e,de()]:de()}))},E.Observable.prototype.skip=function(e){return X(new E.Desc(this,"skip",[e]),this.withHandler(function(t){return t.hasValue()&&e>0?(e--,E.more):this.push(t)}))},E.EventStream.prototype.skipUntil=function(e){var t=e.take(1).map(!0).toProperty(!1);return X(new E.Desc(this,"skipUntil",[e]),this.filter(t))},E.EventStream.prototype.skipWhile=function(e){C(e);for(var t=!1,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return re(this,e,r,function(e){return X(new E.Desc(this,"skipWhile",[e]),this.withHandler(function(n){return!t&&n.hasValue()&&e(n.value())?E.more:(n.hasValue()&&(t=!0),this.push(n))}))})},E.Observable.prototype.slidingWindow=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return X(new E.Desc(this,"slidingWindow",[e,t]),this.scan([],function(t,n){return t.concat([n]).slice(-e)}).filter(function(e){return e.length>=t}))};var Se=[],_e=function(e){if(Se.length&&!_e.running)try{_e.running=!0,Se.forEach(function(t){t(e)})}finally{delete _e.running}};E.spy=function(e){return Se.push(e)},E.Property.prototype.startWith=function(e){return X(new E.Desc(this,"startWith",[e]),this.scan(e,function(e,t){return t}))},E.EventStream.prototype.startWith=function(e){return X(new E.Desc(this,"startWith",[e]),E.once(e).concat(this))},E.Observable.prototype.takeWhile=function(e){C(e);for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return re(this,e,n,function(e){return X(new E.Desc(this,"takeWhile",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):(this.push(de()),E.noMore)}))})},E.Observable.prototype.throttle=function(e){return this.delayChanges(new E.Desc(this,"throttle",[e]),function(t){return t.bufferWithTime(e).map(function(e){return e[e.length-1]})})},m.prototype.firstToPromise=function(e){var t=this;if("function"!=typeof e){if("function"!=typeof Promise)throw new z("There isn't default Promise, use shim or parameter");e=Promise}return new e(function(e,n){return t.subscribe(function(t){return t.hasValue()&&e(t.value()),t.isError()&&n(t.error),E.noMore})})},m.prototype.toPromise=function(e){return this.last().firstToPromise(e)},E.try=function(e){return function(t){try{return E.once(e(t))}catch(e){return new E.Error(e)}}},E.update=function(e){function t(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return e.apply(void 0,[t].concat(n))}}}for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=r.length-1;o>0;)r[o]instanceof Function||(r[o]=H.always(r[o])),r[o]=t(r[o]),o-=2;return X(new E.Desc(E,"update",[e].concat(r)),E.when.apply(E,r).scan(e,function(e,t){return t(e)}))},E.zipAsArray=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ge(t);return X(new E.Desc(E,"zipAsArray",r),E.zipWith(r,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}))},E.zipWith=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ve(t),i=r[0],o=r[1];return i=H.map(function(e){return e.toEventStream()},i),X(new E.Desc(E,"zipWith",[o].concat(i)),E.when(i,o))},E.Observable.prototype.zip=function(e,t){return X(new E.Desc(this,"zip",[e]),E.zipWith([this,e],t||Array))},k.prototype.subscribe=function(e,t,n){var r="function"==typeof e?{next:e,error:t,complete:n}:e,i={closed:!1,unsubscribe:function(){i.closed=!0,o()}},o=this.observable.subscribe(function(e){e.isError()?(r.error&&r.error(e.error),i.unsubscribe()):e.isEnd()?(i.closed=!0,r.complete&&r.complete()):r.next&&r.next(e.value())});return i},k.prototype[B("observable")]=function(){return this},E.Observable.prototype.toESObservable=function(){return new k(this)},E.Observable.prototype[B("observable")]=E.Observable.prototype.toESObservable,E.fromESObservable=function(e){var t;t=e[B("observable")]?e[B("observable")]():e;var n=new E.Desc(E,"fromESObservable",[t]);return new E.EventStream(n,function(e){var n=t.subscribe({error:function(){e(new E.Error),e(new E.End)},next:function(t){e(new E.Next(t,!0))},complete:function(){e(new E.End)}});return n.unsubscribe?function(){n.unsubscribe()}:n})},null!==n("./node_modules/webpack/buildin/amd-define.js")&&null!=n("./node_modules/webpack/buildin/amd-options.js")?(i=[],void 0!==(o=function(){return E}.apply(t,i))&&(r.exports=o),void 0!==this&&null!==this&&(this.Bacon=E)):void 0!==r&&null!==r&&null!=r.exports?(r.exports=E,E.Bacon=E):this.Bacon=E}).call(this)}).call(t,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/css-loader/index.js!./app/styles/builder.css":function(e,t,n){t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(),t.push([e.i,"#button-panel.nav{display:none!important}#canvas{stroke:none!important;fill-opacity:0!important}.escher-container{background:none!important;font-family:Helvetica Neue,Helvetica,Arial,sans-serif!important;background-color:#f3f3f3;text-align:center;position:relative}.escher-container :not(.btn,.glyphicon,.caret,a){font-size:14px;color:#333}body.fill-screen,html.fill-screen{height:100%;width:100%}body.fill-screen{overflow:hidden}.fill-screen-div{margin:0;padding:0;position:fixed;top:0;bottom:0;left:0;right:0}.escher-3d-transform-container,.escher-zoom-container,.full-screen-on,svg.escher-svg{height:100%!important;width:100%!important;overflow:hidden}.escher-container #status{position:absolute;bottom:10px;left:20px;color:red;background-color:#fff;font-size:16px}.escher-container #menu{display:block;margin:5px auto 0;border:1px solid #ddd;background-color:hsla(0,0%,100%,.95);border-radius:0}.escher-container .help-button{float:right;padding:0 5px;font-size:12px;background-color:#f5f5f5}.escher-container .dropdown-menu{border:1px solid #ddd;background-color:hsla(0,0%,100%,.95);border-radius:0;margin:0;text-align:left}.escher-container .dropdown-menu>li>a{font-size:15px}.escher-container .dropdown-menu>.escher-disabled>a{color:#e0e0e0;pointer-events:none}.escher-container .dropdown{background-color:hsla(0,0%,100%,.95)}@media (max-width:550px){.escher-container .dropdown-button{padding:5px 9px}}@media (min-width:550px){.escher-container .dropdown-button{font-size:18px}.escher-container .help-button{font-size:16px}}.escher-container .search-menu-container{position:absolute;width:100%;top:0;left:0;margin:0;text-align:center;pointer-events:none}.escher-container .search-menu-container-inline{width:320px;display:inline-block;text-align:left;pointer-events:auto}@media (min-width:550px){.escher-container .search-menu-container-inline{width:410px}}.escher-container .search-container{display:block;background:hsla(0,0%,100%,.95);padding:3px;border:1px solid #ddd;margin:2px 0 0}.escher-container .search-bar{display:inline-block;border:1px solid #ddd;margin-right:4px;width:114px;height:29px;border-radius:3px}.escher-container .search-counter{display:inline-block;padding:0 8px}.escher-container .settings-box-background{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:9;background:rgba(0,0,0,.4);padding:5% 0;text-align:center}.escher-container .settings-box-container{display:inline-block;position:relative;width:90%;max-width:520px;height:100%;z-index:10}.escher-container .settings-button{position:absolute;top:5px;right:20px;z-index:10}.escher-container .settings-button-close{right:60px}.escher-container .settings-box{display:inline-block;max-height:100%;width:100%;overflow-y:scroll;overflow-x:hidden;background:hsla(0,0%,100%,.95);padding:8px;margin:0;border:1px solid #ddd;text-align:left}.escher-container .settings-section-heading-large{font-size:17px;font-weight:700;margin-top:15px}.escher-container .settings-section-heading{font-weight:700;margin-top:15px}.escher-container .settings-table{width:100%}.escher-container .settings-table td{padding:3px 5px}.escher-container td.options-label{width:88px}.escher-container td.options-label-wide{width:192px}.escher-container .settings-number{text-align:center;color:#aaa;font-style:italic}.escher-container .input-cell{width:23%;font-size:13px}.escher-container .scale-bar-input{width:100%;text-align:left}.escher-container .no-data-input{width:23%;margin:0 4px}.escher-container label.option-group{margin:0 10px 0 0}.escher-container label.option-group span{margin:0 0 0 4px}.escher-container label.full-line{width:100%}.escher-container label{font-weight:inherit}.escher-container .settings-tip{font-style:italic}.escher-container .scale-editor{position:relative;width:100%;height:190px;font-size:12px}.escher-container .scale-editor .centered{position:absolute;width:440px;left:35px;top:0}.escher-container .scale-editor .data-not-loaded{position:absolute;z-index:5;left:60px;top:25px;text-align:center;width:400px;font-size:15px;color:#b19ec0}.escher-container .scale-editor .add{position:absolute;top:0;right:0;width:20px;cursor:pointer}.escher-container .scale-editor .trash-container{position:absolute;top:0;left:0;width:420px;height:20px}.escher-container .scale-editor .trash{position:absolute;top:0;left:0;cursor:pointer}.escher-container .scale-editor .scale-svg{position:absolute;width:440px;height:80px;top:20px;left:0}.escher-container .scale-editor .input-container{position:absolute;top:56px;left:0;width:420px}.escher-container .scale-editor .input-container input{position:absolute;left:0;top:0}.escher-container .scale-editor input[disabled]{background-color:#f1ecfa}.escher-container .scale-editor .row-label{position:absolute;left:0}.escher-container .scale-editor .input-set{position:absolute;top:0;box-shadow:0 2px 14px #c5c5c5}.escher-container .scale-editor .input-set.selected-set{z-index:5}.escher-container .scale-editor .domain-type-picker{position:absolute;top:0;right:0;height:14px;background-color:#e8e8e8}.escher-container .scale-editor .picker rect{color:#000;opacity:.4}.escher-container .scale-editor .no-data{position:absolute;left:0;width:100%}.escher-container .scale-editor .no-data-heading{font-weight:700}.escher-container .scale-editor .no-data .input-group{position:absolute;top:0;left:0}.escher-container .scale-editor .no-data .input-group input,.escher-container .scale-editor .no-data .input-group span{position:absolute;top:17px}.escher-container .close-button{margin-left:4px;float:right}.escher-container ul#button-panel{position:absolute;left:4px;top:20%;margin-top:-30px;pointer-events:none;padding-left:0}.escher-container ul#button-panel li{pointer-events:auto;list-style:none}.escher-container .input-close-button{position:absolute;right:0;width:18px;bottom:0;padding:0;border-width:0;margin:0;background:none;font-size:16px;font-weight:400}.escher-container .simple-button{width:40px;height:40px;border:1px solid #2e2f2f;background-image:linear-gradient(#4f5151,#474949 6%,#3f4141);background-color:#474949;border-color:#474949;padding:6px 0 9px;line-height:1.42857143;border-radius:4px;text-align:center;vertical-align:middle;cursor:pointer;margin:3px 0 0}.escher-container .simple-button,.escher-container .simple-button *{color:#fff;font-size:17px}.escher-container .simple-button.active{background-image:linear-gradient(#8f4f3f,#834c3c 6%,#8d3a2d)}.escher-container #rxn-input{z-index:10}.escher-container .input-close-button:hover{color:#f33;font-weight:700}.escher-container .light{color:#8b8b8be;font-weight:400}.escher-container #text-edit-input input{width:500px;border:1px solid #ccc;font-size:22px}.escher-container #quick-jump-menu{position:absolute;right:10px;bottom:10px;width:300px}@media (max-width:550px){.escher-container #quick-jump-menu{display:none}}",""])},"./node_modules/d3-array/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-array/src/bisect.js");n.d(t,"c",function(){return r.a}),n.d(t,"g",function(){return i.a});var i=n("./node_modules/d3-array/src/ascending.js");n.d(t,"e",function(){return o.a});var o=n("./node_modules/d3-array/src/bisector.js"),s=(n("./node_modules/d3-array/src/cross.js"),n("./node_modules/d3-array/src/descending.js"),n("./node_modules/d3-array/src/deviation.js"),n("./node_modules/d3-array/src/extent.js"),n("./node_modules/d3-array/src/histogram.js"),n("./node_modules/d3-array/src/threshold/freedmanDiaconis.js"),n("./node_modules/d3-array/src/threshold/scott.js"),n("./node_modules/d3-array/src/threshold/sturges.js"),n("./node_modules/d3-array/src/max.js"),n("./node_modules/d3-array/src/mean.js"),n("./node_modules/d3-array/src/median.js"),n("./node_modules/d3-array/src/merge.js"),n("./node_modules/d3-array/src/min.js"),n("./node_modules/d3-array/src/pairs.js"),n("./node_modules/d3-array/src/permute.js"),n("./node_modules/d3-array/src/quantile.js"));n.d(t,"f",function(){return s.a});var a=n("./node_modules/d3-array/src/range.js");n.d(t,"h",function(){return a.a});var c=(n("./node_modules/d3-array/src/scan.js"),n("./node_modules/d3-array/src/shuffle.js"),n("./node_modules/d3-array/src/sum.js"),n("./node_modules/d3-array/src/ticks.js"));n.d(t,"a",function(){return c.a}),n.d(t,"b",function(){return c.b}),n.d(t,"d",function(){return c.c});n("./node_modules/d3-array/src/transpose.js"),n("./node_modules/d3-array/src/variance.js"),n("./node_modules/d3-array/src/zip.js")},"./node_modules/d3-array/src/array.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},"./node_modules/d3-array/src/ascending.js":function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},"./node_modules/d3-array/src/bisect.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-array/src/ascending.js"),i=n("./node_modules/d3-array/src/bisector.js"),o=n.i(i.a)(r.a),s=o.right;o.left;t.a=s},"./node_modules/d3-array/src/bisector.js":function(e,t,n){"use strict";function r(e){return function(t,r){return n.i(i.a)(e(t),r)}}var i=n("./node_modules/d3-array/src/ascending.js");t.a=function(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}},"./node_modules/d3-array/src/constant.js":function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},"./node_modules/d3-array/src/cross.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/pairs.js")},"./node_modules/d3-array/src/descending.js":function(e,t,n){"use strict"},"./node_modules/d3-array/src/deviation.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-array/src/variance.js");t.a=function(e,t){var i=n.i(r.a)(e,t);return i?Math.sqrt(i):i}},"./node_modules/d3-array/src/extent.js":function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,o=e.length,s=-1;if(null==t){for(;++s<o;)if(null!=(n=e[s])&&n>=n)for(r=i=n;++s<o;)null!=(n=e[s])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++s<o;)if(null!=(n=t(e[s],s,e))&&n>=n)for(r=i=n;++s<o;)null!=(n=t(e[s],s,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},"./node_modules/d3-array/src/histogram.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/array.js"),n("./node_modules/d3-array/src/bisect.js"),n("./node_modules/d3-array/src/constant.js"),n("./node_modules/d3-array/src/extent.js"),n("./node_modules/d3-array/src/identity.js"),n("./node_modules/d3-array/src/range.js"),n("./node_modules/d3-array/src/ticks.js"),n("./node_modules/d3-array/src/threshold/sturges.js")},"./node_modules/d3-array/src/identity.js":function(e,t,n){"use strict";t.a=function(e){return e}},"./node_modules/d3-array/src/max.js":function(e,t,n){"use strict"},"./node_modules/d3-array/src/mean.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/number.js")},"./node_modules/d3-array/src/median.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/ascending.js"),n("./node_modules/d3-array/src/number.js"),n("./node_modules/d3-array/src/quantile.js")},"./node_modules/d3-array/src/merge.js":function(e,t,n){"use strict"},"./node_modules/d3-array/src/min.js":function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}},"./node_modules/d3-array/src/number.js":function(e,t,n){"use strict";t.a=function(e){return null===e?NaN:+e}},"./node_modules/d3-array/src/pairs.js":function(e,t,n){"use strict";function r(e,t){return[e,t]}t.a=r},"./node_modules/d3-array/src/permute.js":function(e,t,n){"use strict"},"./node_modules/d3-array/src/quantile.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-array/src/number.js");t.a=function(e,t,n){if(null==n&&(n=r.a),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,s=Math.floor(o),a=+n(e[s],s,e);return a+(+n(e[s+1],s+1,e)-a)*(o-s)}}},"./node_modules/d3-array/src/range.js":function(e,t,n){"use strict";t.a=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}},"./node_modules/d3-array/src/scan.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/ascending.js")},"./node_modules/d3-array/src/shuffle.js":function(e,t,n){"use strict"},"./node_modules/d3-array/src/sum.js":function(e,t,n){"use strict"},"./node_modules/d3-array/src/threshold/freedmanDiaconis.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/array.js"),n("./node_modules/d3-array/src/ascending.js"),n("./node_modules/d3-array/src/number.js"),n("./node_modules/d3-array/src/quantile.js")},"./node_modules/d3-array/src/threshold/scott.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/deviation.js")},"./node_modules/d3-array/src/threshold/sturges.js":function(e,t,n){"use strict";t.a=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},"./node_modules/d3-array/src/ticks.js":function(e,t,n){"use strict";function r(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,i);return i>=0?(c>=o?10:c>=s?5:c>=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(c>=o?10:c>=s?5:c>=a?2:1)}function i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),c=r/i;return c>=o?i*=10:c>=s?i*=5:c>=a&&(i*=2),t<e?-i:i}t.b=r,t.c=i;var o=Math.sqrt(50),s=Math.sqrt(10),a=Math.sqrt(2);t.a=function(e,t,n){var i,o,s,a=t<e,c=-1;if(a&&(i=e,e=t,t=i),0===(s=r(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(i=Math.ceil(t-e+1));++c<i;)o[c]=(e+c)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(i=Math.ceil(e-t+1));++c<i;)o[c]=(e-c)/s;return a&&o.reverse(),o}},"./node_modules/d3-array/src/transpose.js":function(e,t,n){"use strict";function r(e){return e.length}var i=n("./node_modules/d3-array/src/min.js");t.a=function(e){if(!(a=e.length))return[];for(var t=-1,o=n.i(i.a)(e,r),s=new Array(o);++t<o;)for(var a,c=-1,u=s[t]=new Array(a);++c<a;)u[c]=e[c][t];return s}},"./node_modules/d3-array/src/variance.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-array/src/number.js");t.a=function(e,t){var i,o,s=e.length,a=0,c=-1,u=0,l=0;if(null==t)for(;++c<s;)isNaN(i=n.i(r.a)(e[c]))||(o=i-u,u+=o/++a,l+=o*(i-u));else for(;++c<s;)isNaN(i=n.i(r.a)(t(e[c],c,e)))||(o=i-u,u+=o/++a,l+=o*(i-u));if(a>1)return l/(a-1)}},"./node_modules/d3-array/src/zip.js":function(e,t,n){"use strict";n("./node_modules/d3-array/src/transpose.js")},"./node_modules/d3-brush/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-brush/src/brush.js");Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"brush",function(){return r.a}),n.d(t,"brushX",function(){return r.b}),n.d(t,"brushY",function(){return r.c}),n.d(t,"brushSelection",function(){return r.d})},"./node_modules/d3-brush/src/brush.js":function(e,t,n){"use strict";function r(e){return{type:e}}function i(){return!p.event.button}function o(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function s(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function a(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function c(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function u(){return d(k)}function l(){return d(M)}function d(e){function t(t){var i=t.property("__brush",E).selectAll(".overlay").data([r("overlay")]);i.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",z.overlay).merge(i).each(function(){var e=s(this).extent;n.i(p.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([r("selection")]).enter().append("rect").attr("class","selection").attr("cursor",z.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=t.selectAll(".handle").data(e.handles,function(e){return e.type});o.exit().remove(),o.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return z[e.type]}),t.each(c).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",d)}function c(){var e=n.i(p.select)(this),t=s(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-P/2:t[0][0]-P/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-P/2:t[0][1]-P/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+P:P}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+P:P})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t){return e.__brush.emitter||new l(e,t)}function l(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function d(){function t(){var e=n.i(p.mouse)(q);!Q||L||R||(Math.abs(e[0]-te[0])>Math.abs(e[1]-te[1])?R=!0:L=!0),te=e,U=!0,n.i(b.a)(),r()}function r(){var e;switch(P=te[0]-ee[0],F=te[1]-ee[1],H){case w:case y:V&&(P=Math.max(J-d,Math.min(Z-v,P)),h=d+P,E=v+P),Y&&(F=Math.max(G-_,Math.min(K-N,F)),g=_+F,I=N+F);break;case x:V<0?(P=Math.max(J-d,Math.min(Z-d,P)),h=d+P,E=v):V>0&&(P=Math.max(J-v,Math.min(Z-v,P)),h=d,E=v+P),Y<0?(F=Math.max(G-_,Math.min(K-_,F)),g=_+F,I=N):Y>0&&(F=Math.max(G-N,Math.min(K-N,F)),g=_,I=N+F);break;case j:V&&(h=Math.max(J,Math.min(Z,d-P*V)),E=Math.max(J,Math.min(Z,v+P*V))),Y&&(g=Math.max(G,Math.min(K,_-F*Y)),I=Math.max(G,Math.min(K,N+F*Y)))}E<h&&(V*=-1,e=d,d=v,v=e,e=h,h=E,E=e,B in S&&ie.attr("cursor",z[B=S[B]])),I<g&&(Y*=-1,e=_,_=N,N=e,e=g,g=I,I=e,B in A&&ie.attr("cursor",z[B=A[B]])),W.selection&&($=W.selection),L&&(h=$[0][0],E=$[1][0]),R&&(g=$[0][1],I=$[1][1]),$[0][0]===h&&$[0][1]===g&&$[1][0]===E&&$[1][1]===I||(W.selection=[[h,g],[E,I]],c.call(q),ne.brush())}function i(){if(n.i(b.b)(),p.event.touches){if(p.event.touches.length)return;C&&clearTimeout(C),C=setTimeout(function(){C=null},500),re.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.i(f.dragEnable)(p.event.view,U),oe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);re.attr("pointer-events","all"),ie.attr("cursor",z.overlay),W.selection&&($=W.selection),a($)&&(W.selection=null,c.call(q)),ne.end()}function o(){switch(p.event.keyCode){case 16:Q=V&&Y;break;case 18:H===x&&(V&&(v=E-P*V,d=h+P*V),Y&&(N=I-F*Y,_=g+F*Y),H=j,r());break;case 32:H!==x&&H!==j||(V<0?v=E-P:V>0&&(d=h-P),Y<0?N=I-F:Y>0&&(_=g-F),H=w,ie.attr("cursor",z.selection),r());break;default:return}n.i(b.a)()}function l(){switch(p.event.keyCode){case 16:Q&&(L=R=Q=!1,r());break;case 18:H===j&&(V<0?v=E:V>0&&(d=h),Y<0?N=I:Y>0&&(_=g),H=x,r());break;case 32:H===w&&(p.event.altKey?(V&&(v=E-P*V,d=h+P*V),Y&&(N=I-F*Y,_=g+F*Y),H=j):(V<0?v=E:V>0&&(d=h),Y<0?N=I:Y>0&&(_=g),H=x),ie.attr("cursor",z[B]),r());break;default:return}n.i(b.a)()}if(p.event.touches){if(p.event.changedTouches.length<p.event.touches.length)return n.i(b.a)()}else if(C)return;if(D.apply(this,arguments)){var d,h,_,g,v,E,N,I,P,F,U,L,R,q=this,B=p.event.target.__data__.type,H="selection"===(p.event.metaKey?B="overlay":B)?y:p.event.altKey?j:x,V=e===M?null:T[B],Y=e===k?null:O[B],W=s(q),X=W.extent,$=W.selection,J=X[0][0],G=X[0][1],Z=X[1][0],K=X[1][1],Q=!1,ee=n.i(p.mouse)(q),te=ee,ne=u(q,arguments).beforestart();"overlay"===B?W.selection=$=[[d=e===M?J:ee[0],_=e===k?G:ee[1]],[v=e===M?Z:d,N=e===k?K:_]]:(d=$[0][0],_=$[0][1],v=$[1][0],N=$[1][1]),h=d,g=_,E=v,I=N;var re=n.i(p.select)(q).attr("pointer-events","none"),ie=re.selectAll(".overlay").attr("cursor",z[B]);if(p.event.touches)re.on("touchmove.brush",t,!0).on("touchend.brush touchcancel.brush",i,!0);else{var oe=n.i(p.select)(p.event.view).on("keydown.brush",o,!0).on("keyup.brush",l,!0).on("mousemove.brush",t,!0).on("mouseup.brush",i,!0);n.i(f.dragDisable)(p.event.view)}n.i(b.b)(),n.i(m.a)(q),c.call(q),ne.start()}}function E(){var t=this.__brush||{selection:null};return t.extent=N.apply(this,arguments),t.dim=e,t}var C,N=o,D=i,I=n.i(h.a)(t,"start","brush","end"),P=6;return t.move=function(t,r){t.selection?t.on("start.brush",function(){u(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){u(this,arguments).end()}).tween("brush",function(){function t(e){o.selection=1===e&&a(d)?null:h(e),c.call(i),s.brush()}var i=this,o=i.__brush,s=u(i,arguments),l=o.selection,d=e.input("function"==typeof r?r.apply(this,arguments):r,o.extent),h=n.i(_.g)(l,d);return l&&d?t:t(1)}):t.each(function(){var t=this,i=arguments,o=t.__brush,s=e.input("function"==typeof r?r.apply(t,i):r,o.extent),l=u(t,i).beforestart();n.i(m.a)(t),o.selection=null==s||a(s)?null:s,c.call(t),l.start().brush().end()})},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(r){n.i(p.customEvent)(new v.a(t,r,e.output(this.state.selection)),I.apply,I,[r,this.that,this.args])}},t.extent=function(e){return arguments.length?(N="function"==typeof e?e:n.i(g.a)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):N},t.filter=function(e){return arguments.length?(D="function"==typeof e?e:n.i(g.a)(!!e),t):D},t.handleSize=function(e){return arguments.length?(P=+e,t):P},t.on=function(){var e=I.on.apply(I,arguments);return e===I?t:e},t}var h=n("./node_modules/d3-dispatch/index.js"),f=n("./node_modules/d3-drag/index.js"),_=n("./node_modules/d3-interpolate/index.js"),p=n("./node_modules/d3-selection/index.js"),m=n("./node_modules/d3-transition/index.js"),g=n("./node_modules/d3-brush/src/constant.js"),v=n("./node_modules/d3-brush/src/event.js"),b=n("./node_modules/d3-brush/src/noevent.js");t.d=c,t.b=u,t.c=l;var y={name:"drag"},w={name:"space"},x={name:"handle"},j={name:"center"},k={name:"x",handles:["e","w"].map(r),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},M={name:"y",handles:["n","s"].map(r),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},E={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(r),input:function(e){return e},output:function(e){return e}},z={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},S={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},A={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},O={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};t.a=function(){return d(E)}},"./node_modules/d3-brush/src/constant.js":function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},"./node_modules/d3-brush/src/event.js":function(e,t,n){"use strict";t.a=function(e,t,n){this.target=e,this.type=t,this.selection=n}},"./node_modules/d3-brush/src/noevent.js":function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}var i=n("./node_modules/d3-selection/index.js");t.b=r,t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},"./node_modules/d3-collection/index.js":function(e,t,n){"use strict";var r=(n("./node_modules/d3-collection/src/nest.js"),n("./node_modules/d3-collection/src/set.js"),n("./node_modules/d3-collection/src/map.js"));n.d(t,"a",function(){return r.a});n("./node_modules/d3-collection/src/keys.js"),n("./node_modules/d3-collection/src/values.js"),n("./node_modules/d3-collection/src/entries.js")},"./node_modules/d3-collection/src/entries.js":function(e,t,n){"use strict"},"./node_modules/d3-collection/src/keys.js":function(e,t,n){"use strict"},"./node_modules/d3-collection/src/map.js":function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,s=e.length;if(null==t)for(;++o<s;)n.set(o,e[o]);else for(;++o<s;)n.set(t(i=e[o],o,e),i)}else if(e)for(var a in e)n.set(a,e[a]);return n}n.d(t,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(e){return o+e in this},get:function(e){return this[o+e]},set:function(e,t){return this[o+e]=t,this},remove:function(e){var t=o+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===o&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===o&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===o&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===o&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===o&&++e;return e},empty:function(){for(var e in this)if(e[0]===o)return!1;return!0},each:function(e){for(var t in this)t[0]===o&&e(this[t],t.slice(1),this)}},t.a=i},"./node_modules/d3-collection/src/nest.js":function(e,t,n){"use strict";n("./node_modules/d3-collection/src/map.js")},"./node_modules/d3-collection/src/set.js":function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}var o=n("./node_modules/d3-collection/src/map.js"),s=o.a.prototype;r.prototype=i.prototype={constructor:r,has:s.has,add:function(e){return e+="",this[o.b+e]=e,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each}},"./node_modules/d3-collection/src/values.js":function(e,t,n){"use strict"},"./node_modules/d3-color/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-color/src/color.js");n.d(t,"a",function(){return r.a}),n.d(t,"f",function(){return r.h}),n.d(t,"e",function(){return r.g});var i=n("./node_modules/d3-color/src/lab.js");n.d(t,"d",function(){return i.b}),n.d(t,"c",function(){return i.a});var o=n("./node_modules/d3-color/src/cubehelix.js");n.d(t,"b",function(){return o.a})},"./node_modules/d3-color/src/color.js":function(e,t,n){"use strict";function r(){}function i(e){var t;return e=(e+"").trim().toLowerCase(),(t=w.exec(e))?(t=parseInt(t[1],16),new u(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=x.exec(e))?o(parseInt(t[1],16)):(t=j.exec(e))?new u(t[1],t[2],t[3],1):(t=k.exec(e))?new u(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=M.exec(e))?s(t[1],t[2],t[3],t[4]):(t=E.exec(e))?s(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=z.exec(e))?l(t[1],t[2]/100,t[3]/100,1):(t=S.exec(e))?l(t[1],t[2]/100,t[3]/100,t[4]):A.hasOwnProperty(e)?o(A[e]):"transparent"===e?new u(NaN,NaN,NaN,0):null}function o(e){return new u(e>>16&255,e>>8&255,255&e,1)}function s(e,t,n,r){return r<=0&&(e=t=n=NaN),new u(e,t,n,r)}function a(e){return e instanceof r||(e=i(e)),e?(e=e.rgb(),new u(e.r,e.g,e.b,e.opacity)):new u}function c(e,t,n,r){return 1===arguments.length?a(e):new u(e,t,n,null==r?1:r)}function u(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function l(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new f(e,t,n,r)}function d(e){if(e instanceof f)return new f(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=i(e)),!e)return new f;if(e instanceof f)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,s=Math.min(t,n,o),a=Math.max(t,n,o),c=NaN,u=a-s,l=(a+s)/2;return u?(c=t===a?(n-o)/u+6*(n<o):n===a?(o-t)/u+2:(t-n)/u+4,u/=l<.5?a+s:2-a-s,c*=60):u=l>0&&l<1?0:c,new f(c,u,l,e.opacity)}function h(e,t,n,r){return 1===arguments.length?d(e):new f(e,t,n,null==r?1:r)}function f(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function _(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}var p=n("./node_modules/d3-color/src/define.js");t.d=r,n.d(t,"f",function(){return m}),n.d(t,"e",function(){return g}),t.a=i,t.c=a,t.h=c,t.b=u,t.g=h;var m=.7,g=1/m,v="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w=/^#([0-9a-f]{3})$/,x=/^#([0-9a-f]{6})$/,j=new RegExp("^rgb\\("+[v,v,v]+"\\)$"),k=new RegExp("^rgb\\("+[y,y,y]+"\\)$"),M=new RegExp("^rgba\\("+[v,v,v,b]+"\\)$"),E=new RegExp("^rgba\\("+[y,y,y,b]+"\\)$"),z=new RegExp("^hsl\\("+[b,y,y]+"\\)$"),S=new RegExp("^hsla\\("+[b,y,y,b]+"\\)$"),A={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n.i(p.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),n.i(p.a)(u,c,n.i(p.b)(r,{brighter:function(e){return e=null==e?g:Math.pow(g,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?m:Math.pow(m,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),n.i(p.a)(f,h,n.i(p.b)(r,{brighter:function(e){return e=null==e?g:Math.pow(g,e),new f(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?m:Math.pow(m,e),new f(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new u(_(e>=240?e-240:e+120,i,r),_(e,i,r),_(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},"./node_modules/d3-color/src/cubehelix.js":function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof a.b||(e=n.i(a.c)(e));var t=e.r/255,r=e.g/255,i=e.b/255,s=(m*i+_*t-p*r)/(m+_-p),u=i-s,l=(f*(r-s)-d*u)/h,g=Math.sqrt(l*l+u*u)/(f*s*(1-s)),v=g?Math.atan2(l,u)*c.a-120:NaN;return new o(v<0?v+360:v,g,s,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}var s=n("./node_modules/d3-color/src/define.js"),a=n("./node_modules/d3-color/src/color.js"),c=n("./node_modules/d3-color/src/math.js");t.a=i;var u=-.14861,l=1.78277,d=-.29227,h=-.90649,f=1.97294,_=f*h,p=f*l,m=l*d-h*u;n.i(s.a)(o,i,n.i(s.b)(a.d,{brighter:function(e){return e=null==e?a.e:Math.pow(a.e,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a.f:Math.pow(a.f,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*c.b,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new a.b(255*(t+n*(u*r+l*i)),255*(t+n*(d*r+h*i)),255*(t+n*(f*r)),this.opacity)}}))},"./node_modules/d3-color/src/define.js":function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=r,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},"./node_modules/d3-color/src/lab.js":function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof h){var t=e.h*p.b;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof _.b||(e=n.i(_.c)(e));var r=u(e.r),i=u(e.g),a=u(e.b),c=s((.4124564*r+.3575761*i+.1804375*a)/g),l=s((.2126729*r+.7151522*i+.072175*a)/v);return new o(116*l-16,500*(c-l),200*(l-s((.0193339*r+.119192*i+.9503041*a)/b)),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function s(e){return e>j?Math.pow(e,1/3):e/x+y}function a(e){return e>w?e*e*e:x*(e-y)}function c(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function u(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function l(e){if(e instanceof h)return new h(e.h,e.c,e.l,e.opacity);e instanceof o||(e=r(e));var t=Math.atan2(e.b,e.a)*p.a;return new h(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function d(e,t,n,r){return 1===arguments.length?l(e):new h(e,t,n,null==r?1:r)}function h(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}var f=n("./node_modules/d3-color/src/define.js"),_=n("./node_modules/d3-color/src/color.js"),p=n("./node_modules/d3-color/src/math.js");t.b=i,t.a=d;var m=18,g=.95047,v=1,b=1.08883,y=4/29,w=6/29,x=3*w*w,j=w*w*w;n.i(f.a)(o,i,n.i(f.b)(_.d,{brighter:function(e){return new o(this.l+m*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-m*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=v*a(e),t=g*a(t),n=b*a(n),new _.b(c(3.2404542*t-1.5371385*e-.4985314*n),c(-.969266*t+1.8760108*e+.041556*n),c(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),n.i(f.a)(h,d,n.i(f.b)(_.d,{brighter:function(e){return new h(this.h,this.c,this.l+m*(null==e?1:e),this.opacity)},darker:function(e){return new h(this.h,this.c,this.l-m*(null==e?1:e),this.opacity)},rgb:function(){return r(this).rgb()}}))},"./node_modules/d3-color/src/math.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=Math.PI/180,i=180/Math.PI},"./node_modules/d3-dispatch/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-dispatch/src/dispatch.js");n.d(t,"a",function(){return r.a})},"./node_modules/d3-dispatch/src/dispatch.js":function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function s(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function a(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=c,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var c={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=o(e+"",r),c=-1,u=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++c<u;)if(n=(e=i[c]).type)r[n]=a(r[n],e.name,t);else if(null==t)for(n in r)r[n]=a(r[n],e.name,null);return this}for(;++c<u;)if((n=(e=i[c]).type)&&(n=s(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},t.a=r},"./node_modules/d3-drag/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-drag/src/drag.js");Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"drag",function(){return r.a});var i=n("./node_modules/d3-drag/src/nodrag.js");n.d(t,"dragDisable",function(){return i.a}),n.d(t,"dragEnable",function(){return i.b})},"./node_modules/d3-drag/src/constant.js":function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},"./node_modules/d3-drag/src/drag.js":function(e,t,n){"use strict";function r(){return!c.event.button}function i(){return this.parentNode}function o(e){return null==e?{x:c.event.x,y:c.event.y}:e}function s(){return"ontouchstart"in this}var a=n("./node_modules/d3-dispatch/index.js"),c=n("./node_modules/d3-selection/index.js"),u=n("./node_modules/d3-drag/src/nodrag.js"),l=n("./node_modules/d3-drag/src/noevent.js"),d=n("./node_modules/d3-drag/src/constant.js"),h=n("./node_modules/d3-drag/src/event.js");t.a=function(){function e(e){e.on("mousedown.drag",t).filter(s).on("touchstart.drag",p).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(){if(!x&&j.apply(this,arguments)){var e=v("mouse",k.apply(this,arguments),c.mouse,this,arguments);e&&(n.i(c.select)(c.event.view).on("mousemove.drag",f,!0).on("mouseup.drag",_,!0),n.i(u.a)(c.event.view),n.i(l.b)(),w=!1,b=c.event.clientX,y=c.event.clientY,e("start"))}}function f(){if(n.i(l.a)(),!w){var e=c.event.clientX-b,t=c.event.clientY-y;w=e*e+t*t>A}E.mouse("drag")}function _(){n.i(c.select)(c.event.view).on("mousemove.drag mouseup.drag",null),n.i(u.b)(c.event.view,w),n.i(l.a)(),E.mouse("end")}function p(){if(j.apply(this,arguments)){var e,t,r=c.event.changedTouches,i=k.apply(this,arguments),o=r.length;for(e=0;e<o;++e)(t=v(r[e].identifier,i,c.touch,this,arguments))&&(n.i(l.b)(),t("start"))}}function m(){var e,t,r=c.event.changedTouches,i=r.length;for(e=0;e<i;++e)(t=E[r[e].identifier])&&(n.i(l.a)(),t("drag"))}function g(){var e,t,r=c.event.changedTouches,i=r.length;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),e=0;e<i;++e)(t=E[r[e].identifier])&&(n.i(l.b)(),t("end"))}function v(t,r,i,o,s){var a,u,l,d=i(r,t),f=z.copy();if(n.i(c.customEvent)(new h.a(e,"beforestart",a,t,S,d[0],d[1],0,0,f),function(){return null!=(c.event.subject=a=M.apply(o,s))&&(u=a.x-d[0]||0,l=a.y-d[1]||0,!0)}))return function _(p){var m,g=d;switch(p){case"start":E[t]=_,m=S++;break;case"end":delete E[t],--S;case"drag":d=i(r,t),m=S}n.i(c.customEvent)(new h.a(e,p,a,t,m,d[0]+u,d[1]+l,d[0]-g[0],d[1]-g[1],f),f.apply,f,[p,o,s])}}var b,y,w,x,j=r,k=i,M=o,E={},z=n.i(a.a)("start","drag","end"),S=0,A=0;return e.filter=function(t){return arguments.length?(j="function"==typeof t?t:n.i(d.a)(!!t),e):j},e.container=function(t){return arguments.length?(k="function"==typeof t?t:n.i(d.a)(t),e):k},e.subject=function(t){return arguments.length?(M="function"==typeof t?t:n.i(d.a)(t),e):M},e.on=function(){var t=z.on.apply(z,arguments);return t===z?e:t},e.clickDistance=function(t){return arguments.length?(A=(t=+t)*t,e):Math.sqrt(A)},e}},"./node_modules/d3-drag/src/event.js":function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a,c,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=s,this.dx=a,this.dy=c,this._=u}t.a=r,r.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},"./node_modules/d3-drag/src/nodrag.js":function(e,t,n){"use strict";function r(e,t){var r=e.document.documentElement,s=n.i(i.select)(e).on("dragstart.drag",null);t&&(s.on("click.drag",o.a,!0),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var i=n("./node_modules/d3-selection/index.js"),o=n("./node_modules/d3-drag/src/noevent.js");t.b=r,t.a=function(e){var t=e.document.documentElement,r=n.i(i.select)(e).on("dragstart.drag",o.a,!0);"onselectstart"in t?r.on("selectstart.drag",o.a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}},"./node_modules/d3-drag/src/noevent.js":function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}var i=n("./node_modules/d3-selection/index.js");t.b=r,t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},"./node_modules/d3-dsv/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-dsv/src/dsv.js");n.d(t,"dsvFormat",function(){return r.a}),Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/d3-dsv/src/csv.js");n.d(t,"csvParse",function(){return i.a}),n.d(t,"csvParseRows",function(){return i.b}),n.d(t,"csvFormat",function(){return i.c}),n.d(t,"csvFormatRows",function(){return i.d});var o=n("./node_modules/d3-dsv/src/tsv.js");n.d(t,"tsvParse",function(){return o.a}),n.d(t,"tsvParseRows",function(){return o.b}),n.d(t,"tsvFormat",function(){return o.c}),n.d(t,"tsvFormatRows",function(){return o.d})},"./node_modules/d3-dsv/src/csv.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-dsv/src/dsv.js");n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return c});var i=n.i(r.a)(","),o=i.parse,s=i.parseRows,a=i.format,c=i.formatRows},"./node_modules/d3-dsv/src/dsv.js":function(e,t,n){"use strict";function r(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function i(e,t){var n=r(e);return function(r,i){return t(n(r),i,e)}}function o(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}var s={},a={},c=34,u=10,l=13;t.a=function(e){function t(e,t){var o,s,a=n(e,function(e,n){if(o)return o(e,n-1);s=e,o=t?i(e,t):r(e)});return a.columns=s,a}function n(e,t){function n(){if(f)return a;if(_)return _=!1,s;var t,n,r=d;if(e.charCodeAt(r)===c){for(;d++<o&&e.charCodeAt(d)!==c||e.charCodeAt(++d)===c;);return(t=d)>=o?f=!0:(n=e.charCodeAt(d++))===u?_=!0:n===l&&(_=!0,e.charCodeAt(d)===u&&++d),e.slice(r+1,t-1).replace(/""/g,'"')}for(;d<o;){if((n=e.charCodeAt(t=d++))===u)_=!0;else if(n===l)_=!0,e.charCodeAt(d)===u&&++d;else if(n!==m)continue;return e.slice(r,t)}return f=!0,e.slice(r,o)}var r,i=[],o=e.length,d=0,h=0,f=o<=0,_=!1;for(e.charCodeAt(o-1)===u&&--o,e.charCodeAt(o-1)===l&&--o;(r=n())!==a;){for(var p=[];r!==s&&r!==a;)p.push(r),r=n();t&&null==(p=t(p,h++))||i.push(p)}return i}function d(t,n){return null==n&&(n=o(t)),[n.map(_).join(e)].concat(t.map(function(t){return n.map(function(e){return _(t[e])}).join(e)})).join("\n")}function h(e){return e.map(f).join("\n")}function f(t){return t.map(_).join(e)}function _(e){return null==e?"":p.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var p=new RegExp('["'+e+"\n\r]"),m=e.charCodeAt(0);return{parse:t,parseRows:n,format:d,formatRows:h}}},"./node_modules/d3-dsv/src/tsv.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-dsv/src/dsv.js");n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return c});var i=n.i(r.a)("\t"),o=i.parse,s=i.parseRows,a=i.format,c=i.formatRows},"./node_modules/d3-ease/index.js":function(e,t,n){"use strict";n("./node_modules/d3-ease/src/linear.js"),n("./node_modules/d3-ease/src/quad.js");n.d(t,"a",function(){return r.a});var r=n("./node_modules/d3-ease/src/cubic.js");n("./node_modules/d3-ease/src/poly.js"),n("./node_modules/d3-ease/src/sin.js"),n("./node_modules/d3-ease/src/exp.js"),n("./node_modules/d3-ease/src/circle.js"),n("./node_modules/d3-ease/src/bounce.js"),n("./node_modules/d3-ease/src/back.js"),n("./node_modules/d3-ease/src/elastic.js")},"./node_modules/d3-ease/src/back.js":function(e,t,n){"use strict";var r=1.70158;(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n})(r),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(r),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(r)},"./node_modules/d3-ease/src/bounce.js":function(e,t,n){"use strict"},"./node_modules/d3-ease/src/circle.js":function(e,t,n){"use strict"},"./node_modules/d3-ease/src/cubic.js":function(e,t,n){"use strict";function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}t.a=r},"./node_modules/d3-ease/src/elastic.js":function(e,t,n){"use strict";var r=2*Math.PI,i=1,o=.3;(function e(t,n){function i(e){return t*Math.pow(2,10*--e)*Math.sin((o-e)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i})(i,o),function e(t,n){function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+o)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(i,o),function e(t,n){function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((o-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((o+e)/n))/2}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=r);return i.amplitude=function(t){return e(t,n*r)},i.period=function(n){return e(t,n)},i}(i,o)},"./node_modules/d3-ease/src/exp.js":function(e,t,n){"use strict"},"./node_modules/d3-ease/src/linear.js":function(e,t,n){"use strict"},"./node_modules/d3-ease/src/poly.js":function(e,t,n){"use strict";var r=3;(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(r),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(r),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(r)},"./node_modules/d3-ease/src/quad.js":function(e,t,n){"use strict"},"./node_modules/d3-ease/src/sin.js":function(e,t,n){"use strict";Math.PI},"./node_modules/d3-format/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/defaultLocale.js");n.d(t,"formatDefaultLocale",function(){return r.a}),n.d(t,"format",function(){return r.b}),n.d(t,"formatPrefix",function(){return r.c}),Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/d3-format/src/locale.js");n.d(t,"formatLocale",function(){return i.a});var o=n("./node_modules/d3-format/src/formatSpecifier.js");n.d(t,"formatSpecifier",function(){return o.a});var s=n("./node_modules/d3-format/src/precisionFixed.js");n.d(t,"precisionFixed",function(){return s.a});var a=n("./node_modules/d3-format/src/precisionPrefix.js");n.d(t,"precisionPrefix",function(){return a.a});var c=n("./node_modules/d3-format/src/precisionRound.js");n.d(t,"precisionRound",function(){return c.a})},"./node_modules/d3-format/src/defaultLocale.js":function(e,t,n){"use strict";function r(e){return o=n.i(i.a)(e),s=o.format,a=o.formatPrefix,o}var i=n("./node_modules/d3-format/src/locale.js");n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a}),t.a=r;var o,s,a;r({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},"./node_modules/d3-format/src/exponent.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/formatDecimal.js");t.a=function(e){return e=n.i(r.a)(Math.abs(e)),e?e[1]:NaN}},"./node_modules/d3-format/src/formatDecimal.js":function(e,t,n){"use strict";t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},"./node_modules/d3-format/src/formatDefault.js":function(e,t,n){"use strict";t.a=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e}},"./node_modules/d3-format/src/formatGroup.js":function(e,t,n){"use strict";t.a=function(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}},"./node_modules/d3-format/src/formatNumerals.js":function(e,t,n){"use strict";t.a=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},"./node_modules/d3-format/src/formatPrefixAuto.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/formatDecimal.js");n.d(t,"b",function(){return i});var i;t.a=function(e,t){var o=n.i(r.a)(e,t);if(!o)return e+"";var s=o[0],a=o[1],c=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=s.length;return c===u?s:c>u?s+new Array(c-u+1).join("0"):c>0?s.slice(0,c)+"."+s.slice(c):"0."+new Array(1-c).join("0")+n.i(r.a)(e,Math.max(0,t+c-1))[0]}},"./node_modules/d3-format/src/formatRounded.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/formatDecimal.js");t.a=function(e,t){var i=n.i(r.a)(e,t);if(!i)return e+"";var o=i[0],s=i[1];return s<0?"0."+new Array(-s).join("0")+o:o.length>s+1?o.slice(0,s+1)+"."+o.slice(s+1):o+new Array(s-o.length+2).join("0")}},"./node_modules/d3-format/src/formatSpecifier.js":function(e,t,n){"use strict";function r(e){return new i(e)}function i(e){if(!(t=s.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",c=!!t[5],u=t[6]&&+t[6],l=!!t[7],d=t[8]&&+t[8].slice(1),h=t[9]||"";"n"===h?(l=!0,h="g"):o.a[h]||(h=""),(c||"0"===n&&"="===r)&&(c=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=c,this.width=u,this.comma=l,this.precision=d,this.type=h}var o=n("./node_modules/d3-format/src/formatTypes.js");t.a=r;var s=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},"./node_modules/d3-format/src/formatTypes.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/formatDefault.js"),i=n("./node_modules/d3-format/src/formatPrefixAuto.js"),o=n("./node_modules/d3-format/src/formatRounded.js");t.a={"":r.a,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return n.i(o.a)(100*e,t)},r:o.a,s:i.a,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},"./node_modules/d3-format/src/identity.js":function(e,t,n){"use strict";t.a=function(e){return e}},"./node_modules/d3-format/src/locale.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/exponent.js"),i=n("./node_modules/d3-format/src/formatGroup.js"),o=n("./node_modules/d3-format/src/formatNumerals.js"),s=n("./node_modules/d3-format/src/formatSpecifier.js"),a=n("./node_modules/d3-format/src/formatTypes.js"),c=n("./node_modules/d3-format/src/formatPrefixAuto.js"),u=n("./node_modules/d3-format/src/identity.js"),l=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){function t(e){function t(e){var t,n,s,a=w,u=x;if("c"===y)u=j(e)+u,e="";else{e=+e;var f=e<0;if(e=j(Math.abs(e),b),f&&0==+e&&(f=!1),a=(f?"("===o?o:"-":"-"===o||"("===o?"":o)+a,u=u+("s"===y?l[8+c.b/3]:"")+(f&&"("===o?")":""),k)for(t=-1,n=e.length;++t<n;)if(48>(s=e.charCodeAt(t))||s>57){u=(46===s?_+e.slice(t+1):e.slice(t))+u,e=e.slice(0,t);break}}v&&!d&&(e=h(e,1/0));var m=a.length+e.length+u.length,M=m<g?new Array(g-m+1).join(r):"";switch(v&&d&&(e=h(M+e,M.length?g-u.length:1/0),M=""),i){case"<":e=a+e+u+M;break;case"=":e=a+M+e+u;break;case"^":e=M.slice(0,m=M.length>>1)+a+e+u+M.slice(m);break;default:e=M+a+e+u}return p(e)}e=n.i(s.a)(e);var r=e.fill,i=e.align,o=e.sign,u=e.symbol,d=e.zero,g=e.width,v=e.comma,b=e.precision,y=e.type,w="$"===u?f[0]:"#"===u&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===u?f[1]:/[%p]/.test(y)?m:"",j=a.a[y],k=!y||/[defgprs%]/.test(y);return b=null==b?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),t.toString=function(){return e+""},t}function d(e,i){var o=t((e=n.i(s.a)(e),e.type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(i)/3))),c=Math.pow(10,-a),u=l[8+a/3];return function(e){return o(c*e)+u}}var h=e.grouping&&e.thousands?n.i(i.a)(e.grouping,e.thousands):u.a,f=e.currency,_=e.decimal,p=e.numerals?n.i(o.a)(e.numerals):u.a,m=e.percent||"%";return{format:t,formatPrefix:d}}},"./node_modules/d3-format/src/precisionFixed.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/exponent.js");t.a=function(e){return Math.max(0,-n.i(r.a)(Math.abs(e)))}},"./node_modules/d3-format/src/precisionPrefix.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/exponent.js");t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n.i(r.a)(t)/3)))-n.i(r.a)(Math.abs(e)))}},"./node_modules/d3-format/src/precisionRound.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-format/src/exponent.js");t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n.i(r.a)(t)-n.i(r.a)(e))+1}},"./node_modules/d3-interpolate/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-interpolate/src/value.js");n.d(t,"g",function(){return r.a});var i=(n("./node_modules/d3-interpolate/src/array.js"),n("./node_modules/d3-interpolate/src/basis.js"),n("./node_modules/d3-interpolate/src/basisClosed.js"),n("./node_modules/d3-interpolate/src/date.js"),n("./node_modules/d3-interpolate/src/number.js"));n.d(t,"c",function(){return i.a});var o=(n("./node_modules/d3-interpolate/src/object.js"),n("./node_modules/d3-interpolate/src/round.js"));n.d(t,"h",function(){return o.a});var s=n("./node_modules/d3-interpolate/src/string.js");n.d(t,"e",function(){return s.a});var a=n("./node_modules/d3-interpolate/src/transform/index.js");n.d(t,"b",function(){return a.a}),n.d(t,"f",function(){return a.b});var c=n("./node_modules/d3-interpolate/src/zoom.js");n.d(t,"a",function(){return c.a});var u=n("./node_modules/d3-interpolate/src/rgb.js");n.d(t,"d",function(){return u.a});var l=(n("./node_modules/d3-interpolate/src/hsl.js"),n("./node_modules/d3-interpolate/src/lab.js"),n("./node_modules/d3-interpolate/src/hcl.js"),n("./node_modules/d3-interpolate/src/cubehelix.js"));n.d(t,"i",function(){return l.a});n("./node_modules/d3-interpolate/src/quantize.js")},"./node_modules/d3-interpolate/src/array.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-interpolate/src/value.js");t.a=function(e,t){var i,o=t?t.length:0,s=e?Math.min(o,e.length):0,a=new Array(o),c=new Array(o);for(i=0;i<s;++i)a[i]=n.i(r.a)(e[i],t[i]);for(;i<o;++i)c[i]=t[i];return function(e){for(i=0;i<s;++i)c[i]=a[i](e);return c}}},"./node_modules/d3-interpolate/src/basis.js":function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}t.b=r,t.a=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[i],s=e[i+1],a=i>0?e[i-1]:2*o-s,c=i<t-1?e[i+2]:2*s-o;return r((n-i/t)*t,a,o,s,c)}}},"./node_modules/d3-interpolate/src/basisClosed.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-interpolate/src/basis.js");t.a=function(e){var t=e.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*t),s=e[(o+t-1)%t],a=e[o%t],c=e[(o+1)%t],u=e[(o+2)%t];return n.i(r.b)((i-o/t)*t,s,a,c,u)}}},"./node_modules/d3-interpolate/src/color.js":function(e,t,n){"use strict";function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o(e,t){var i=t-e;return i?r(e,i>180||i<-180?i-360*Math.round(i/360):i):n.i(c.a)(isNaN(e)?t:e)}function s(e){return 1==(e=+e)?a:function(t,r){return r-t?i(t,r,e):n.i(c.a)(isNaN(t)?r:t)}}function a(e,t){var i=t-e;return i?r(e,i):n.i(c.a)(isNaN(e)?t:e)}var c=n("./node_modules/d3-interpolate/src/constant.js");t.b=o,t.c=s,t.a=a},"./node_modules/d3-interpolate/src/constant.js":function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},"./node_modules/d3-interpolate/src/cubehelix.js":function(e,t,n){"use strict";function r(e){return function t(r){function s(t,s){var a=e((t=n.i(i.b)(t)).h,(s=n.i(i.b)(s)).h),c=n.i(o.a)(t.s,s.s),u=n.i(o.a)(t.l,s.l),l=n.i(o.a)(t.opacity,s.opacity);return function(e){return t.h=a(e),t.s=c(e),t.l=u(Math.pow(e,r)),t.opacity=l(e),t+""}}return r=+r,s.gamma=t,s}(1)}var i=n("./node_modules/d3-color/index.js"),o=n("./node_modules/d3-interpolate/src/color.js");n.d(t,"a",function(){return s});var s=(r(o.b),r(o.a))},"./node_modules/d3-interpolate/src/date.js":function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}}},"./node_modules/d3-interpolate/src/hcl.js":function(e,t,n){"use strict";function r(e){return function(t,r){var s=e((t=n.i(i.c)(t)).h,(r=n.i(i.c)(r)).h),a=n.i(o.a)(t.c,r.c),c=n.i(o.a)(t.l,r.l),u=n.i(o.a)(t.opacity,r.opacity);return function(e){return t.h=s(e),t.c=a(e),t.l=c(e),t.opacity=u(e),t+""}}}var i=n("./node_modules/d3-color/index.js"),o=n("./node_modules/d3-interpolate/src/color.js");r(o.b),r(o.a)},"./node_modules/d3-interpolate/src/hsl.js":function(e,t,n){"use strict";function r(e){return function(t,r){var s=e((t=n.i(i.e)(t)).h,(r=n.i(i.e)(r)).h),a=n.i(o.a)(t.s,r.s),c=n.i(o.a)(t.l,r.l),u=n.i(o.a)(t.opacity,r.opacity);return function(e){return t.h=s(e),t.s=a(e),t.l=c(e),t.opacity=u(e),t+""}}}var i=n("./node_modules/d3-color/index.js"),o=n("./node_modules/d3-interpolate/src/color.js");r(o.b),r(o.a)},"./node_modules/d3-interpolate/src/lab.js":function(e,t,n){"use strict";n("./node_modules/d3-color/index.js"),n("./node_modules/d3-interpolate/src/color.js")},"./node_modules/d3-interpolate/src/number.js":function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return e+t*n}}},"./node_modules/d3-interpolate/src/object.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-interpolate/src/value.js");t.a=function(e,t){var i,o={},s={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(i in t)i in e?o[i]=n.i(r.a)(e[i],t[i]):s[i]=t[i];return function(e){for(i in o)s[i]=o[i](e);return s}}},"./node_modules/d3-interpolate/src/quantize.js":function(e,t,n){"use strict"},"./node_modules/d3-interpolate/src/rgb.js":function(e,t,n){"use strict";function r(e){return function(t){var r,o,s=t.length,a=new Array(s),c=new Array(s),u=new Array(s);for(r=0;r<s;++r)o=n.i(i.f)(t[r]),a[r]=o.r||0,c[r]=o.g||0,u[r]=o.b||0;return a=e(a),c=e(c),u=e(u),o.opacity=1,function(e){return o.r=a(e),o.g=c(e),o.b=u(e),o+""}}}var i=n("./node_modules/d3-color/index.js"),o=n("./node_modules/d3-interpolate/src/basis.js"),s=n("./node_modules/d3-interpolate/src/basisClosed.js"),a=n("./node_modules/d3-interpolate/src/color.js");t.a=function e(t){function r(e,t){var r=o((e=n.i(i.f)(e)).r,(t=n.i(i.f)(t)).r),s=o(e.g,t.g),c=o(e.b,t.b),u=n.i(a.a)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=s(t),e.b=c(t),e.opacity=u(t),e+""}}var o=n.i(a.c)(t);return r.gamma=e,r}(1);r(o.a),r(s.a)},"./node_modules/d3-interpolate/src/round.js":function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}}},"./node_modules/d3-interpolate/src/string.js":function(e,t,n){"use strict";function r(e){return function(){return e}}function i(e){return function(t){return e(t)+""}}var o=n("./node_modules/d3-interpolate/src/number.js"),s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(s.source,"g");t.a=function(e,t){var c,u,l,d=s.lastIndex=a.lastIndex=0,h=-1,f=[],_=[];for(e+="",t+="";(c=s.exec(e))&&(u=a.exec(t));)(l=u.index)>d&&(l=t.slice(d,l),f[h]?f[h]+=l:f[++h]=l),(c=c[0])===(u=u[0])?f[h]?f[h]+=u:f[++h]=u:(f[++h]=null,_.push({i:h,x:n.i(o.a)(c,u)})),d=a.lastIndex;return d<t.length&&(l=t.slice(d),f[h]?f[h]+=l:f[++h]=l),f.length<2?_[0]?i(_[0].x):r(t):(t=_.length,function(e){for(var n,r=0;r<t;++r)f[(n=_[r]).i]=n.x(e);return f.join("")})}},"./node_modules/d3-interpolate/src/transform/decompose.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.b=function(e,t,n,i,o,s){var a,c,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,u/=c),e*i<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*r,skewX:Math.atan(u)*r,scaleX:a,scaleY:c}}},"./node_modules/d3-interpolate/src/transform/index.js":function(e,t,n){"use strict";function r(e,t,r,o){function s(e){return e.length?e.pop()+" ":""}function a(e,o,s,a,c,u){if(e!==s||o!==a){var l=c.push("translate(",null,t,null,r);u.push({i:l-4,x:n.i(i.a)(e,s)},{i:l-2,x:n.i(i.a)(o,a)})}else(s||a)&&c.push("translate("+s+t+a+r)}function c(e,t,r,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:r.push(s(r)+"rotate(",null,o)-2,x:n.i(i.a)(e,t)})):t&&r.push(s(r)+"rotate("+t+o)}function u(e,t,r,a){e!==t?a.push({i:r.push(s(r)+"skewX(",null,o)-2,x:n.i(i.a)(e,t)}):t&&r.push(s(r)+"skewX("+t+o)}function l(e,t,r,o,a,c){if(e!==r||t!==o){var u=a.push(s(a)+"scale(",null,",",null,")");c.push({i:u-4,x:n.i(i.a)(e,r)},{i:u-2,x:n.i(i.a)(t,o)})}else 1===r&&1===o||a.push(s(a)+"scale("+r+","+o+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),c(t.rotate,n.rotate,r,i),u(t.skewX,n.skewX,r,i),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}var i=n("./node_modules/d3-interpolate/src/number.js"),o=n("./node_modules/d3-interpolate/src/transform/parse.js");n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var s=r(o.a,"px, ","px)","deg)"),a=r(o.b,", ",")",")")},"./node_modules/d3-interpolate/src/transform/parse.js":function(e,t,n){"use strict";function r(e){return"none"===e?o.a:(s||(s=document.createElement("DIV"),a=document.documentElement,c=document.defaultView),s.style.transform=e,e=c.getComputedStyle(a.appendChild(s),null).getPropertyValue("transform"),a.removeChild(s),e=e.slice(7,-1).split(","),n.i(o.b)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function i(e){return null==e?o.a:(u||(u=document.createElementNS("http://www.w3.org/2000/svg","g")),u.setAttribute("transform",e),(e=u.transform.baseVal.consolidate())?(e=e.matrix,n.i(o.b)(e.a,e.b,e.c,e.d,e.e,e.f)):o.a)}var o=n("./node_modules/d3-interpolate/src/transform/decompose.js");t.a=r,t.b=i;var s,a,c,u},"./node_modules/d3-interpolate/src/value.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-color/index.js"),i=n("./node_modules/d3-interpolate/src/rgb.js"),o=n("./node_modules/d3-interpolate/src/array.js"),s=n("./node_modules/d3-interpolate/src/date.js"),a=n("./node_modules/d3-interpolate/src/number.js"),c=n("./node_modules/d3-interpolate/src/object.js"),u=n("./node_modules/d3-interpolate/src/string.js"),l=n("./node_modules/d3-interpolate/src/constant.js");t.a=function(e,t){var d,h=typeof t;return null==t||"boolean"===h?n.i(l.a)(t):("number"===h?a.a:"string"===h?(d=n.i(r.a)(t))?(t=d,i.a):u.a:t instanceof r.a?i.a:t instanceof Date?s.a:Array.isArray(t)?o.a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?c.a:a.a)(e,t)}},"./node_modules/d3-interpolate/src/zoom.js":function(e,t,n){"use strict";function r(e){return((e=Math.exp(e))+1/e)/2}function i(e){return((e=Math.exp(e))-1/e)/2}function o(e){return((e=Math.exp(2*e))-1)/(e+1)}var s=Math.SQRT2,a=2,c=4;t.a=function(e,t){var n,u,l=e[0],d=e[1],h=e[2],f=t[0],_=t[1],p=t[2],m=f-l,g=_-d,v=m*m+g*g;if(v<1e-12)u=Math.log(p/h)/s,n=function(e){return[l+e*m,d+e*g,h*Math.exp(s*e*u)]};else{var b=Math.sqrt(v),y=(p*p-h*h+c*v)/(2*h*a*b),w=(p*p-h*h-c*v)/(2*p*a*b),x=Math.log(Math.sqrt(y*y+1)-y),j=Math.log(Math.sqrt(w*w+1)-w);u=(j-x)/s,n=function(e){var t=e*u,n=r(x),c=h/(a*b)*(n*o(s*t+x)-i(x));return[l+c*m,d+c*g,h*n/r(s*t+x)]}}return n.duration=1e3*u,n}},"./node_modules/d3-request/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-request/src/request.js");n.d(t,"request",function(){return r.a}),Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/d3-request/src/html.js");n.d(t,"html",function(){return i.a});var o=n("./node_modules/d3-request/src/json.js");n.d(t,"json",function(){return o.a});var s=n("./node_modules/d3-request/src/text.js");n.d(t,"text",function(){return s.a});var a=n("./node_modules/d3-request/src/xml.js");n.d(t,"xml",function(){return a.a});var c=n("./node_modules/d3-request/src/csv.js");n.d(t,"csv",function(){return c.a});var u=n("./node_modules/d3-request/src/tsv.js");n.d(t,"tsv",function(){return u.a})},"./node_modules/d3-request/src/csv.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-dsv/index.js"),i=n("./node_modules/d3-request/src/dsv.js");t.a=n.i(i.a)("text/csv",r.csvParse)},"./node_modules/d3-request/src/dsv.js":function(e,t,n){"use strict";function r(e,t){return function(n){return e(n.responseText,t)}}var i=n("./node_modules/d3-request/src/request.js");t.a=function(e,t){return function(o,s,a){arguments.length<3&&(a=s,s=null);var c=n.i(i.a)(o).mimeType(e);return c.row=function(e){return arguments.length?c.response(r(t,s=e)):s},c.row(s),a?c.get(a):c}}},"./node_modules/d3-request/src/html.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-request/src/type.js");t.a=n.i(r.a)("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)})},"./node_modules/d3-request/src/json.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-request/src/type.js");t.a=n.i(r.a)("application/json",function(e){return JSON.parse(e.responseText)})},"./node_modules/d3-request/src/request.js":function(e,t,n){"use strict";function r(e){return function(t,n){e(null==t?n:null)}}function i(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}var o=n("./node_modules/d3-collection/index.js"),s=n("./node_modules/d3-dispatch/index.js");t.a=function(e,t){function a(e){var t,n=_.status;if(!n&&i(_)||n>=200&&n<300||304===n){if(l)try{t=l.call(c,_)}catch(e){return void h.call("error",c,e)}else t=_;h.call("load",c,t)}else h.call("error",c,e)}var c,u,l,d,h=n.i(s.a)("beforesend","progress","load","error"),f=n.i(o.a)(),_=new XMLHttpRequest,p=null,m=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in _||!/^(http(s)?:)?\/\//.test(e)||(_=new XDomainRequest),"onload"in _?_.onload=_.onerror=_.ontimeout=a:_.onreadystatechange=function(e){_.readyState>3&&a(e)},_.onprogress=function(e){h.call("progress",c,e)},c={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?f.get(e):(null==t?f.remove(e):f.set(e,t+""),c)},mimeType:function(e){return arguments.length?(u=null==e?null:e+"",c):u},responseType:function(e){return arguments.length?(d=e,c):d},timeout:function(e){return arguments.length?(g=+e,c):g},user:function(e){return arguments.length<1?p:(p=null==e?null:e+"",c)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",c)},response:function(e){return l=e,c},get:function(e,t){return c.send("GET",e,t)},post:function(e,t){return c.send("POST",e,t)},send:function(t,n,i){return _.open(t,e,!0,p,m),null==u||f.has("accept")||f.set("accept",u+",*/*"),_.setRequestHeader&&f.each(function(e,t){_.setRequestHeader(t,e)}),null!=u&&_.overrideMimeType&&_.overrideMimeType(u),null!=d&&(_.responseType=d),g>0&&(_.timeout=g),null==i&&"function"==typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=r(i)),null!=i&&c.on("error",i).on("load",function(e){i(null,e)}),h.call("beforesend",c,_),_.send(null==n?null:n),c},abort:function(){return _.abort(),c},on:function(){var e=h.on.apply(h,arguments);return e===h?c:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return c.get(t)}return c}},"./node_modules/d3-request/src/text.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-request/src/type.js");t.a=n.i(r.a)("text/plain",function(e){return e.responseText})},"./node_modules/d3-request/src/tsv.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-dsv/index.js"),i=n("./node_modules/d3-request/src/dsv.js");t.a=n.i(i.a)("text/tab-separated-values",r.tsvParse)},"./node_modules/d3-request/src/type.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-request/src/request.js");t.a=function(e,t){return function(i,o){var s=n.i(r.a)(i).mimeType(e).response(t);if(null!=o){if("function"!=typeof o)throw new Error("invalid callback: "+o);return s.get(o)}return s}}},"./node_modules/d3-request/src/xml.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-request/src/type.js");t.a=n.i(r.a)("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})},"./node_modules/d3-scale/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-scale/src/band.js");Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"scalePoint",function(){return r.a}),n.d(t,"scaleBand",function(){return r.b}),n.d(t,"scaleIdentity",function(){return i.a});var i=n("./node_modules/d3-scale/src/identity.js");n.d(t,"scaleLinear",function(){return o.a});var o=n("./node_modules/d3-scale/src/linear.js"),s=n("./node_modules/d3-scale/src/log.js");n.d(t,"scaleLog",function(){return s.a}),n.d(t,"scaleOrdinal",function(){return a.a}),n.d(t,"scaleImplicit",function(){return a.b});var a=n("./node_modules/d3-scale/src/ordinal.js"),c=n("./node_modules/d3-scale/src/pow.js");n.d(t,"scaleSqrt",function(){return c.a}),n.d(t,"scalePow",function(){return c.b});var u=n("./node_modules/d3-scale/src/quantile.js");n.d(t,"scaleQuantile",function(){return u.a});var l=n("./node_modules/d3-scale/src/quantize.js");n.d(t,"scaleQuantize",function(){return l.a});var d=n("./node_modules/d3-scale/src/threshold.js");n.d(t,"scaleThreshold",function(){return d.a});var h=n("./node_modules/d3-scale/src/time.js");n.d(t,"scaleTime",function(){return h.a});var f=n("./node_modules/d3-scale/src/utcTime.js");n.d(t,"scaleUtc",function(){return f.a});var _=n("./node_modules/d3-scale/src/category10.js");n.d(t,"schemeCategory10",function(){return _.a});var p=n("./node_modules/d3-scale/src/category20b.js");n.d(t,"schemeCategory20b",function(){return p.a});var m=n("./node_modules/d3-scale/src/category20c.js");n.d(t,"schemeCategory20c",function(){return m.a});var g=n("./node_modules/d3-scale/src/category20.js");n.d(t,"schemeCategory20",function(){return g.a});var v=n("./node_modules/d3-scale/src/cubehelix.js");n.d(t,"interpolateCubehelixDefault",function(){return v.a});var b=n("./node_modules/d3-scale/src/rainbow.js");n.d(t,"interpolateWarm",function(){return b.a}),n.d(t,"interpolateCool",function(){return b.b}),n.d(t,"interpolateRainbow",function(){return b.c});var y=n("./node_modules/d3-scale/src/viridis.js");n.d(t,"interpolateViridis",function(){return y.a}),n.d(t,"interpolateMagma",function(){return y.b}),n.d(t,"interpolateInferno",function(){return y.c}),n.d(t,"interpolatePlasma",function(){return y.d});var w=n("./node_modules/d3-scale/src/sequential.js");n.d(t,"scaleSequential",function(){return w.a})},"./node_modules/d3-scale/src/array.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},"./node_modules/d3-scale/src/band.js":function(e,t,n){"use strict";function r(){function e(){var e=c().length,r=l[1]<l[0],o=l[r-0],a=l[1-r];t=(a-o)/Math.max(1,e-h+2*f),d&&(t=Math.floor(t)),o+=(a-o-t*(e-h))*_,i=t*(1-h),d&&(o=Math.round(o),i=Math.round(i));var p=n.i(s.h)(e).map(function(e){return o+t*e});return u(r?p.reverse():p)}var t,i,o=n.i(a.a)().unknown(void 0),c=o.domain,u=o.range,l=[0,1],d=!1,h=0,f=0,_=.5;return delete o.unknown,o.domain=function(t){return arguments.length?(c(t),e()):c()},o.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},o.rangeRound=function(t){return l=[+t[0],+t[1]],d=!0,e()},o.bandwidth=function(){return i},o.step=function(){return t},o.round=function(t){return arguments.length?(d=!!t,e()):d},o.padding=function(t){return arguments.length?(h=f=Math.max(0,Math.min(1,t)),e()):h},o.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},o.paddingOuter=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},o.align=function(t){return arguments.length?(_=Math.max(0,Math.min(1,t)),e()):_},o.copy=function(){return r().domain(c()).range(l).round(d).paddingInner(h).paddingOuter(f).align(_)},e()}function i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i(t())},e}function o(){return i(r().paddingInner(1))}var s=n("./node_modules/d3-array/index.js"),a=n("./node_modules/d3-scale/src/ordinal.js");t.b=r,t.a=o},"./node_modules/d3-scale/src/category10.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-scale/src/colors.js");t.a=n.i(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},"./node_modules/d3-scale/src/category20.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-scale/src/colors.js");t.a=n.i(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},"./node_modules/d3-scale/src/category20b.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-scale/src/colors.js");t.a=n.i(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},"./node_modules/d3-scale/src/category20c.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-scale/src/colors.js");t.a=n.i(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},"./node_modules/d3-scale/src/colors.js":function(e,t,n){"use strict";t.a=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}},"./node_modules/d3-scale/src/constant.js":function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},"./node_modules/d3-scale/src/continuous.js":function(e,t,n){"use strict";function r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n.i(f.a)(t)}function i(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function o(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function s(e,t,n,r){var i=e[0],o=e[1],s=t[0],a=t[1];return o<i?(i=n(o,i),s=r(a,s)):(i=n(i,o),s=r(s,a)),function(e){return s(i(e))}}function a(e,t,r,i){var o=Math.min(e.length,t.length)-1,s=new Array(o),a=new Array(o),c=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<o;)s[c]=r(e[c],e[c+1]),a[c]=i(t[c],t[c+1]);return function(t){var r=n.i(l.c)(e,t,1,o)-1;return a[r](s[r](t))}}function c(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function u(e,t){function n(){return u=Math.min(m.length,g.length)>2?a:s,l=f=null,c}function c(t){return(l||(l=u(m,g,b?i(e):e,v)))(+t)}var u,l,f,m=p,g=p,v=d.g,b=!1;return c.invert=function(e){return(f||(f=u(g,m,r,b?o(t):t)))(+e)},c.domain=function(e){return arguments.length?(m=h.a.call(e,_.a),n()):m.slice()},c.range=function(e){return arguments.length?(g=h.b.call(e),n()):g.slice()},c.rangeRound=function(e){return g=h.b.call(e),v=d.h,n()},c.clamp=function(e){return arguments.length?(b=!!e,n()):b},c.interpolate=function(e){return arguments.length?(v=e,n()):v},n()}var l=n("./node_modules/d3-array/index.js"),d=n("./node_modules/d3-interpolate/index.js"),h=n("./node_modules/d3-scale/src/array.js"),f=n("./node_modules/d3-scale/src/constant.js"),_=n("./node_modules/d3-scale/src/number.js");t.b=r,t.c=c,t.a=u;var p=[0,1]},"./node_modules/d3-scale/src/cubehelix.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-color/index.js"),i=n("./node_modules/d3-interpolate/index.js");t.a=n.i(i.i)(n.i(r.b)(300,.5,0),n.i(r.b)(-240,.5,1))},"./node_modules/d3-scale/src/identity.js":function(e,t,n){"use strict";function r(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=i.a.call(n,s.a),e):t.slice()},e.copy=function(){return r().domain(t)},n.i(o.b)(e)}var i=n("./node_modules/d3-scale/src/array.js"),o=n("./node_modules/d3-scale/src/linear.js"),s=n("./node_modules/d3-scale/src/number.js");t.a=r},"./node_modules/d3-scale/src/linear.js":function(e,t,n){"use strict";function r(e){var t=e.domain;return e.ticks=function(e){var r=t();return n.i(o.a)(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){return n.i(c.a)(t(),e,r)},e.nice=function(r){null==r&&(r=10);var i,s=t(),a=0,c=s.length-1,u=s[a],l=s[c];return l<u&&(i=u,u=l,l=i,i=a,a=c,c=i),i=n.i(o.b)(u,l,r),i>0?(u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i,i=n.i(o.b)(u,l,r)):i<0&&(u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i,i=n.i(o.b)(u,l,r)),i>0?(s[a]=Math.floor(u/i)*i,s[c]=Math.ceil(l/i)*i,t(s)):i<0&&(s[a]=Math.ceil(u*i)/i,s[c]=Math.floor(l*i)/i,t(s)),e},e}function i(){var e=n.i(a.a)(a.b,s.c);return e.copy=function(){return n.i(a.c)(e,i())},r(e)}var o=n("./node_modules/d3-array/index.js"),s=n("./node_modules/d3-interpolate/index.js"),a=n("./node_modules/d3-scale/src/continuous.js"),c=n("./node_modules/d3-scale/src/tickFormat.js");t.b=r,t.a=i},"./node_modules/d3-scale/src/log.js":function(e,t,n){"use strict";function r(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:n.i(h.a)(t)}function i(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function o(e){return isFinite(e)?+("1e"+e):e<0?0:e}function s(e){return 10===e?o:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function a(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function c(e){return function(t){return-e(-t)}}function u(){function e(){return p=a(h),m=s(h),o()[0]<0&&(p=c(p),m=c(m)),t}var t=n.i(_.a)(r,i).domain([1,10]),o=t.domain,h=10,p=a(10),m=s(10);return t.base=function(t){return arguments.length?(h=+t,e()):h},t.domain=function(t){return arguments.length?(o(t),e()):o()},t.ticks=function(e){var t,r=o(),i=r[0],s=r[r.length-1];(t=s<i)&&(d=i,i=s,s=d);var a,c,u,d=p(i),f=p(s),_=null==e?10:+e,g=[];if(!(h%1)&&f-d<_){if(d=Math.round(d)-1,f=Math.round(f)+1,i>0){for(;d<f;++d)for(c=1,a=m(d);c<h;++c)if(!((u=a*c)<i)){if(u>s)break;g.push(u)}}else for(;d<f;++d)for(c=h-1,a=m(d);c>=1;--c)if(!((u=a*c)<i)){if(u>s)break;g.push(u)}}else g=n.i(l.a)(d,f,Math.min(f-d,_)).map(m);return t?g.reverse():g},t.tickFormat=function(e,r){if(null==r&&(r=10===h?".0e":","),"function"!=typeof r&&(r=n.i(d.format)(r)),e===1/0)return r;null==e&&(e=10);var i=Math.max(1,h*e/t.ticks().length);return function(e){var t=e/m(Math.round(p(e)));return t*h<h-.5&&(t*=h),t<=i?r(e):""}},t.nice=function(){return o(n.i(f.a)(o(),{floor:function(e){return m(Math.floor(p(e)))},ceil:function(e){return m(Math.ceil(p(e)))}}))},t.copy=function(){return n.i(_.c)(t,u().base(h))},t}var l=n("./node_modules/d3-array/index.js"),d=n("./node_modules/d3-format/index.js"),h=n("./node_modules/d3-scale/src/constant.js"),f=n("./node_modules/d3-scale/src/nice.js"),_=n("./node_modules/d3-scale/src/continuous.js");t.a=u},"./node_modules/d3-scale/src/nice.js":function(e,t,n){"use strict";t.a=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],s=e[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),e[r]=t.floor(o),e[i]=t.ceil(s),e}},"./node_modules/d3-scale/src/number.js":function(e,t,n){"use strict";t.a=function(e){return+e}},"./node_modules/d3-scale/src/ordinal.js":function(e,t,n){"use strict";function r(e){function t(t){var n=t+"",r=a.get(n);if(!r){if(u!==s)return u;a.set(n,r=c.push(t))}return e[(r-1)%e.length]}var a=n.i(i.a)(),c=[],u=s;return e=null==e?[]:o.b.call(e),t.domain=function(e){if(!arguments.length)return c.slice();c=[],a=n.i(i.a)();for(var r,o,s=-1,u=e.length;++s<u;)a.has(o=(r=e[s])+"")||a.set(o,c.push(r));return t},t.range=function(n){return arguments.length?(e=o.b.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(u=e,t):u},t.copy=function(){return r().domain(c).range(e).unknown(u)},t}var i=n("./node_modules/d3-collection/index.js"),o=n("./node_modules/d3-scale/src/array.js");n.d(t,"b",function(){return s}),t.a=r;var s={name:"implicit"}},"./node_modules/d3-scale/src/pow.js":function(e,t,n){"use strict";function r(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function i(){function e(e,t){return(t=r(t,o)-(e=r(e,o)))?function(n){return(r(n,o)-e)/t}:n.i(s.a)(t)}function t(e,t){return t=r(t,o)-(e=r(e,o)),function(n){return r(e+t*n,1/o)}}var o=1,u=n.i(c.a)(e,t),l=u.domain;return u.exponent=function(e){return arguments.length?(o=+e,l(l())):o},u.copy=function(){return n.i(c.c)(u,i().exponent(o))},n.i(a.b)(u)}function o(){return i().exponent(.5)}var s=n("./node_modules/d3-scale/src/constant.js"),a=n("./node_modules/d3-scale/src/linear.js"),c=n("./node_modules/d3-scale/src/continuous.js");t.b=i,t.a=o},"./node_modules/d3-scale/src/quantile.js":function(e,t,n){"use strict";function r(){function e(){var e=0,r=Math.max(1,a.length);for(c=new Array(r-1);++e<r;)c[e-1]=n.i(i.f)(s,e/r);return t}function t(e){if(!isNaN(e=+e))return a[n.i(i.c)(c,e)]}var s=[],a=[],c=[];return t.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?c[t-1]:s[0],t<c.length?c[t]:s[s.length-1]]},t.domain=function(t){if(!arguments.length)return s.slice();s=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||s.push(n);return s.sort(i.g),e()},t.range=function(t){return arguments.length?(a=o.b.call(t),e()):a.slice()},t.quantiles=function(){return c.slice()},t.copy=function(){return r().domain(s).range(a)},t}var i=n("./node_modules/d3-array/index.js"),o=n("./node_modules/d3-scale/src/array.js");t.a=r},"./node_modules/d3-scale/src/quantize.js":function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return d[n.i(i.c)(l,e,0,u)]}function t(){var t=-1;for(l=new Array(u);++t<u;)l[t]=((t+1)*c-(t-u)*a)/(u+1);return e}var a=0,c=1,u=1,l=[.5],d=[0,1];return e.domain=function(e){return arguments.length?(a=+e[0],c=+e[1],t()):[a,c]},e.range=function(e){return arguments.length?(u=(d=o.b.call(e)).length-1,t()):d.slice()},e.invertExtent=function(e){var t=d.indexOf(e);return t<0?[NaN,NaN]:t<1?[a,l[0]]:t>=u?[l[u-1],c]:[l[t-1],l[t]]},e.copy=function(){return r().domain([a,c]).range(d)},n.i(s.b)(e)}var i=n("./node_modules/d3-array/index.js"),o=n("./node_modules/d3-scale/src/array.js"),s=n("./node_modules/d3-scale/src/linear.js");t.a=r},"./node_modules/d3-scale/src/rainbow.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-color/index.js"),i=n("./node_modules/d3-interpolate/index.js");n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var o=n.i(i.i)(n.i(r.b)(-100,.75,.35),n.i(r.b)(80,1.5,.8)),s=n.i(i.i)(n.i(r.b)(260,.75,.35),n.i(r.b)(80,1.5,.8)),a=n.i(r.b)();t.c=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return a.h=360*e-100,a.s=1.5-1.5*t,a.l=.8-.9*t,a+""}},"./node_modules/d3-scale/src/sequential.js":function(e,t,n){"use strict";function r(e){function t(t){var n=(t-o)/(s-o);return e(a?Math.max(0,Math.min(1,n)):n)}var o=0,s=1,a=!1;return t.domain=function(e){return arguments.length?(o=+e[0],s=+e[1],t):[o,s]},t.clamp=function(e){return arguments.length?(a=!!e,t):a},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return r(e).domain([o,s]).clamp(a)},n.i(i.b)(t)}var i=n("./node_modules/d3-scale/src/linear.js");t.a=r},"./node_modules/d3-scale/src/threshold.js":function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return s[n.i(i.c)(t,e,0,a)]}var t=[.5],s=[0,1],a=1;return e.domain=function(n){return arguments.length?(t=o.b.call(n),a=Math.min(t.length,s.length-1),e):t.slice()},e.range=function(n){return arguments.length?(s=o.b.call(n),a=Math.min(t.length,s.length-1),e):s.slice()},e.invertExtent=function(e){var n=s.indexOf(e);return[t[n-1],t[n]]},e.copy=function(){return r().domain(t).range(s)},e}var i=n("./node_modules/d3-array/index.js"),o=n("./node_modules/d3-scale/src/array.js");t.a=r},"./node_modules/d3-scale/src/tickFormat.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-array/index.js"),i=n("./node_modules/d3-format/index.js");t.a=function(e,t,o){var s,a=e[0],c=e[e.length-1],u=n.i(r.d)(a,c,null==t?10:t);switch(o=n.i(i.formatSpecifier)(null==o?",f":o),o.type){case"s":var l=Math.max(Math.abs(a),Math.abs(c));return null!=o.precision||isNaN(s=n.i(i.precisionPrefix)(u,l))||(o.precision=s),n.i(i.formatPrefix)(o,l);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(s=n.i(i.precisionRound)(u,Math.max(Math.abs(a),Math.abs(c))))||(o.precision=s-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(s=n.i(i.precisionFixed)(u))||(o.precision=s-2*("%"===o.type))}return n.i(i.format)(o)}},"./node_modules/d3-scale/src/time.js":function(e,t,n){"use strict";function r(e){return new Date(e)}function i(e){return e instanceof Date?+e:+new Date(+e)}function o(e,t,c,u,y,w,x,j,k){function M(n){return(x(n)<n?T:w(n)<n?O:y(n)<n?C:u(n)<n?N:t(n)<n?c(n)<n?D:I:e(n)<n?P:F)(n)}function E(t,r,i,o){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(i-r)/t,c=n.i(s.e)(function(e){return e[2]}).right(U,a);c===U.length?(o=n.i(s.d)(r/b,i/b,t),t=e):c?(c=U[a/U[c-1][2]<U[c][2]/a?c-1:c],o=c[1],t=c[0]):(o=n.i(s.d)(r,i,t),t=j)}return null==o?t:t.every(o)}var z=n.i(d.a)(d.b,a.c),S=z.invert,A=z.domain,T=k(".%L"),O=k(":%S"),C=k("%I:%M"),N=k("%I %p"),D=k("%a %d"),I=k("%b %d"),P=k("%B"),F=k("%Y"),U=[[x,1,f],[x,5,5*f],[x,15,15*f],[x,30,30*f],[w,1,_],[w,5,5*_],[w,15,15*_],[w,30,30*_],[y,1,p],[y,3,3*p],[y,6,6*p],[y,12,12*p],[u,1,m],[u,2,2*m],[c,1,g],[t,1,v],[t,3,3*v],[e,1,b]];return z.invert=function(e){return new Date(S(e))},z.domain=function(e){return arguments.length?A(l.a.call(e,i)):A().map(r)},z.ticks=function(e,t){var n,r=A(),i=r[0],o=r[r.length-1],s=o<i;return s&&(n=i,i=o,o=n),n=E(e,i,o,t),n=n?n.range(i,o+1):[],s?n.reverse():n},z.tickFormat=function(e,t){return null==t?M:k(t)},z.nice=function(e,t){var r=A();return(e=E(e,r[0],r[r.length-1],t))?A(n.i(h.a)(r,e)):z},z.copy=function(){return n.i(d.c)(z,o(e,t,c,u,y,w,x,j,k))},z}var s=n("./node_modules/d3-array/index.js"),a=n("./node_modules/d3-interpolate/index.js"),c=n("./node_modules/d3-time/index.js"),u=n("./node_modules/d3-time-format/index.js"),l=n("./node_modules/d3-scale/src/array.js"),d=n("./node_modules/d3-scale/src/continuous.js"),h=n("./node_modules/d3-scale/src/nice.js");t.b=o;var f=1e3,_=60*f,p=60*_,m=24*p,g=7*m,v=30*m,b=365*m;t.a=function(){return o(c.j,c.o,c.p,c.i,c.q,c.r,c.s,c.t,u.b).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},"./node_modules/d3-scale/src/utcTime.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-scale/src/time.js"),i=n("./node_modules/d3-time-format/index.js"),o=n("./node_modules/d3-time/index.js");t.a=function(){return n.i(r.b)(o.a,o.b,o.c,o.d,o.e,o.f,o.g,o.h,i.a).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},"./node_modules/d3-scale/src/viridis.js":function(e,t,n){"use strict";function r(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var i=n("./node_modules/d3-scale/src/colors.js");n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return a}),t.a=r(n.i(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=r(n.i(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),s=r(n.i(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),a=r(n.i(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},"./node_modules/d3-selection/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/creator.js");Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"creator",function(){return r.a}),n.d(t,"local",function(){return i.a});var i=n("./node_modules/d3-selection/src/local.js");n.d(t,"matcher",function(){return o.a});var o=n("./node_modules/d3-selection/src/matcher.js"),s=n("./node_modules/d3-selection/src/mouse.js");n.d(t,"mouse",function(){return s.a}),n.d(t,"namespace",function(){return a.a});var a=n("./node_modules/d3-selection/src/namespace.js");n.d(t,"namespaces",function(){return c.a});var c=n("./node_modules/d3-selection/src/namespaces.js"),u=n("./node_modules/d3-selection/src/select.js");n.d(t,"select",function(){return u.a});var l=n("./node_modules/d3-selection/src/selectAll.js");n.d(t,"selectAll",function(){return l.a});var d=n("./node_modules/d3-selection/src/selection/index.js");n.d(t,"selection",function(){return d.a});var h=n("./node_modules/d3-selection/src/selector.js");n.d(t,"selector",function(){return h.a});var f=n("./node_modules/d3-selection/src/selectorAll.js");n.d(t,"selectorAll",function(){return f.a});var _=n("./node_modules/d3-selection/src/selection/style.js");n.d(t,"style",function(){return _.a});var p=n("./node_modules/d3-selection/src/touch.js");n.d(t,"touch",function(){return p.a});var m=n("./node_modules/d3-selection/src/touches.js");n.d(t,"touches",function(){return m.a});var g=n("./node_modules/d3-selection/src/window.js");n.d(t,"window",function(){return g.a});var v=n("./node_modules/d3-selection/src/selection/on.js");n.d(t,"event",function(){return v.a}),n.d(t,"customEvent",function(){return v.b})},"./node_modules/d3-selection/src/constant.js":function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},"./node_modules/d3-selection/src/creator.js":function(e,t,n){"use strict";function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===s.b&&t.documentElement.namespaceURI===s.b?t.createElement(e):t.createElementNS(n,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var o=n("./node_modules/d3-selection/src/namespace.js"),s=n("./node_modules/d3-selection/src/namespaces.js");t.a=function(e){var t=n.i(o.a)(e);return(t.local?i:r)(t)}},"./node_modules/d3-selection/src/local.js":function(e,t,n){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}t.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},"./node_modules/d3-selection/src/matcher.js":function(e,t,n){"use strict";var r=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(e){return function(){return o.call(this,e)}}}}t.a=r},"./node_modules/d3-selection/src/mouse.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/sourceEvent.js"),i=n("./node_modules/d3-selection/src/point.js");t.a=function(e){var t=n.i(r.a)();return t.changedTouches&&(t=t.changedTouches[0]),n.i(i.a)(e,t)}},"./node_modules/d3-selection/src/namespace.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/namespaces.js");t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.a.hasOwnProperty(t)?{space:r.a[t],local:e}:e}},"./node_modules/d3-selection/src/namespaces.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},"./node_modules/d3-selection/src/point.js":function(e,t,n){"use strict";t.a=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}},"./node_modules/d3-selection/src/select.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/index.js");t.a=function(e){return"string"==typeof e?new r.b([[document.querySelector(e)]],[document.documentElement]):new r.b([[e]],r.c)}},"./node_modules/d3-selection/src/selectAll.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/index.js");t.a=function(e){return"string"==typeof e?new r.b([document.querySelectorAll(e)],[document.documentElement]):new r.b([null==e?[]:e],r.c)}},"./node_modules/d3-selection/src/selection/append.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/creator.js");t.a=function(e){var t="function"==typeof e?e:n.i(r.a)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},"./node_modules/d3-selection/src/selection/attr.js":function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function s(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function a(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function c(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var u=n("./node_modules/d3-selection/src/namespace.js");t.a=function(e,t){var l=n.i(u.a)(e);if(arguments.length<2){var d=this.node();return l.local?d.getAttributeNS(l.space,l.local):d.getAttribute(l)}return this.each((null==t?l.local?i:r:"function"==typeof t?l.local?c:a:l.local?s:o)(l,t))}},"./node_modules/d3-selection/src/selection/call.js":function(e,t,n){"use strict";t.a=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},"./node_modules/d3-selection/src/selection/classed.js":function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new o(e)}function o(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function s(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function a(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function c(e){return function(){s(this,e)}}function u(e){return function(){a(this,e)}}function l(e,t){return function(){(t.apply(this,arguments)?s:a)(this,e)}}o.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t){var n=r(e+"");if(arguments.length<2){for(var o=i(this.node()),s=-1,a=n.length;++s<a;)if(!o.contains(n[s]))return!1;return!0}return this.each(("function"==typeof t?l:t?c:u)(n,t))}},"./node_modules/d3-selection/src/selection/data.js":function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var a,c=0,u=t.length,l=o.length;c<l;++c)(a=t[c])?(a.__data__=o[c],r[c]=a):n[c]=new s.b(e,o[c]);for(;c<u;++c)(a=t[c])&&(i[c]=a)}function i(e,t,n,r,i,o,a){var u,l,d,h={},f=t.length,_=o.length,p=new Array(f);for(u=0;u<f;++u)(l=t[u])&&(p[u]=d=c+a.call(l,l.__data__,u,t),d in h?i[u]=l:h[d]=l);for(u=0;u<_;++u)d=c+a.call(e,o[u],u,o),(l=h[d])?(r[u]=l,l.__data__=o[u],h[d]=null):n[u]=new s.b(e,o[u]);for(u=0;u<f;++u)(l=t[u])&&h[p[u]]===l&&(i[u]=l)}var o=n("./node_modules/d3-selection/src/selection/index.js"),s=n("./node_modules/d3-selection/src/selection/enter.js"),a=n("./node_modules/d3-selection/src/constant.js"),c="$";t.a=function(e,t){if(!e)return v=new Array(this.size()),_=-1,this.each(function(e){v[++_]=e}),v;var s=t?i:r,c=this._parents,u=this._groups;"function"!=typeof e&&(e=n.i(a.a)(e));for(var l=u.length,d=new Array(l),h=new Array(l),f=new Array(l),_=0;_<l;++_){var p=c[_],m=u[_],g=m.length,v=e.call(p,p&&p.__data__,_,c),b=v.length,y=h[_]=new Array(b),w=d[_]=new Array(b);s(p,m,y,w,f[_]=new Array(g),v,t);for(var x,j,k=0,M=0;k<b;++k)if(x=y[k]){for(k>=M&&(M=k+1);!(j=w[M])&&++M<b;);x._next=j||null}}return d=new o.b(d,c),d._enter=h,d._exit=f,d}},"./node_modules/d3-selection/src/selection/datum.js":function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},"./node_modules/d3-selection/src/selection/dispatch.js":function(e,t,n){"use strict";function r(e,t,r){var i=n.i(s.a)(e),o=i.CustomEvent;"function"==typeof o?o=new o(t,r):(o=i.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function i(e,t){return function(){return r(this,e,t)}}function o(e,t){return function(){return r(this,e,t.apply(this,arguments))}}var s=n("./node_modules/d3-selection/src/window.js");t.a=function(e,t){return this.each(("function"==typeof t?o:i)(e,t))}},"./node_modules/d3-selection/src/selection/each.js":function(e,t,n){"use strict";t.a=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this}},"./node_modules/d3-selection/src/selection/empty.js":function(e,t,n){"use strict";t.a=function(){return!this.node()}},"./node_modules/d3-selection/src/selection/enter.js":function(e,t,n){"use strict";function r(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var i=n("./node_modules/d3-selection/src/selection/sparse.js"),o=n("./node_modules/d3-selection/src/selection/index.js");t.b=r,t.a=function(){return new o.b(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},"./node_modules/d3-selection/src/selection/exit.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/sparse.js"),i=n("./node_modules/d3-selection/src/selection/index.js");t.a=function(){return new i.b(this._exit||this._groups.map(r.a),this._parents)}},"./node_modules/d3-selection/src/selection/filter.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/index.js"),i=n("./node_modules/d3-selection/src/matcher.js");t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,s=new Array(o),a=0;a<o;++a)for(var c,u=t[a],l=u.length,d=s[a]=[],h=0;h<l;++h)(c=u[h])&&e.call(c,c.__data__,h,u)&&d.push(c);return new r.b(s,this._parents)}},"./node_modules/d3-selection/src/selection/html.js":function(e,t,n){"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function o(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().innerHTML}},"./node_modules/d3-selection/src/selection/index.js":function(e,t,n){"use strict";function r(e,t){this._groups=e,this._parents=t}function i(){return new r([[document.documentElement]],D)}var o=n("./node_modules/d3-selection/src/selection/select.js"),s=n("./node_modules/d3-selection/src/selection/selectAll.js"),a=n("./node_modules/d3-selection/src/selection/filter.js"),c=n("./node_modules/d3-selection/src/selection/data.js"),u=n("./node_modules/d3-selection/src/selection/enter.js"),l=n("./node_modules/d3-selection/src/selection/exit.js"),d=n("./node_modules/d3-selection/src/selection/merge.js"),h=n("./node_modules/d3-selection/src/selection/order.js"),f=n("./node_modules/d3-selection/src/selection/sort.js"),_=n("./node_modules/d3-selection/src/selection/call.js"),p=n("./node_modules/d3-selection/src/selection/nodes.js"),m=n("./node_modules/d3-selection/src/selection/node.js"),g=n("./node_modules/d3-selection/src/selection/size.js"),v=n("./node_modules/d3-selection/src/selection/empty.js"),b=n("./node_modules/d3-selection/src/selection/each.js"),y=n("./node_modules/d3-selection/src/selection/attr.js"),w=n("./node_modules/d3-selection/src/selection/style.js"),x=n("./node_modules/d3-selection/src/selection/property.js"),j=n("./node_modules/d3-selection/src/selection/classed.js"),k=n("./node_modules/d3-selection/src/selection/text.js"),M=n("./node_modules/d3-selection/src/selection/html.js"),E=n("./node_modules/d3-selection/src/selection/raise.js"),z=n("./node_modules/d3-selection/src/selection/lower.js"),S=n("./node_modules/d3-selection/src/selection/append.js"),A=n("./node_modules/d3-selection/src/selection/insert.js"),T=n("./node_modules/d3-selection/src/selection/remove.js"),O=n("./node_modules/d3-selection/src/selection/datum.js"),C=n("./node_modules/d3-selection/src/selection/on.js"),N=n("./node_modules/d3-selection/src/selection/dispatch.js");n.d(t,"c",function(){return D}),t.b=r;var D=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:s.a,filter:a.a,data:c.a,enter:u.a,exit:l.a,merge:d.a,order:h.a,sort:f.a,call:_.a,nodes:p.a,node:m.a,size:g.a,empty:v.a,each:b.a,attr:y.a,style:w.b,property:x.a,classed:j.a,text:k.a,html:M.a,raise:E.a,lower:z.a,append:S.a,insert:A.a,remove:T.a,datum:O.a,on:C.c,dispatch:N.a},t.a=i},"./node_modules/d3-selection/src/selection/insert.js":function(e,t,n){"use strict";function r(){return null}var i=n("./node_modules/d3-selection/src/creator.js"),o=n("./node_modules/d3-selection/src/selector.js");t.a=function(e,t){var s="function"==typeof e?e:n.i(i.a)(e),a=null==t?r:"function"==typeof t?t:n.i(o.a)(t);return this.select(function(){return this.insertBefore(s.apply(this,arguments),a.apply(this,arguments)||null)})}},"./node_modules/d3-selection/src/selection/lower.js":function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}t.a=function(){return this.each(r)}},"./node_modules/d3-selection/src/selection/merge.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/index.js");t.a=function(e){for(var t=this._groups,n=e._groups,i=t.length,o=n.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u,l=t[c],d=n[c],h=l.length,f=a[c]=new Array(h),_=0;_<h;++_)(u=l[_]||d[_])&&(f[_]=u);for(;c<i;++c)a[c]=t[c];return new r.b(a,this._parents)}},"./node_modules/d3-selection/src/selection/node.js":function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}},"./node_modules/d3-selection/src/selection/nodes.js":function(e,t,n){"use strict";t.a=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},"./node_modules/d3-selection/src/selection/on.js":function(e,t,n){"use strict";function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,t,n){return function(r){var i=l;l=r;try{e.call(this,this.__data__,t,n)}finally{l=i}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function s(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function a(e,t,n){var o=u.hasOwnProperty(e.type)?r:i;return function(r,i,s){var a,c=this.__on,u=o(t,i,s);if(c)for(var l=0,d=c.length;l<d;++l)if((a=c[l]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),void(a.value=t);this.addEventListener(e.type,u,n),a={type:e.type,name:e.name,value:t,listener:u,capture:n},c?c.push(a):this.__on=[a]}}function c(e,t,n,r){var i=l;e.sourceEvent=l,l=e;try{return t.apply(n,r)}finally{l=i}}n.d(t,"a",function(){return l}),t.b=c;var u={},l=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(u={mouseenter:"mouseover",mouseleave:"mouseout"})}t.c=function(e,t,n){var r,i,c=o(e+""),u=c.length;{if(!(arguments.length<2)){for(l=t?a:s,null==n&&(n=!1),r=0;r<u;++r)this.each(l(c[r],t,n));return this}var l=this.node().__on;if(l)for(var d,h=0,f=l.length;h<f;++h)for(r=0,d=l[h];r<u;++r)if((i=c[r]).type===d.type&&i.name===d.name)return d.value}}},"./node_modules/d3-selection/src/selection/order.js":function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&s!==r.nextSibling&&s.parentNode.insertBefore(r,s),s=r);return this}},"./node_modules/d3-selection/src/selection/property.js":function(e,t,n){"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function o(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}t.a=function(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t)):this.node()[e]}},"./node_modules/d3-selection/src/selection/raise.js":function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}t.a=function(){return this.each(r)}},"./node_modules/d3-selection/src/selection/remove.js":function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}t.a=function(){return this.each(r)}},"./node_modules/d3-selection/src/selection/select.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/index.js"),i=n("./node_modules/d3-selection/src/selector.js");t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,s=new Array(o),a=0;a<o;++a)for(var c,u,l=t[a],d=l.length,h=s[a]=new Array(d),f=0;f<d;++f)(c=l[f])&&(u=e.call(c,c.__data__,f,l))&&("__data__"in c&&(u.__data__=c.__data__),h[f]=u);return new r.b(s,this._parents)}},"./node_modules/d3-selection/src/selection/selectAll.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/index.js"),i=n("./node_modules/d3-selection/src/selectorAll.js");t.a=function(e){"function"!=typeof e&&(e=n.i(i.a)(e));for(var t=this._groups,o=t.length,s=[],a=[],c=0;c<o;++c)for(var u,l=t[c],d=l.length,h=0;h<d;++h)(u=l[h])&&(s.push(e.call(u,u.__data__,h,l)),a.push(u));return new r.b(s,a)}},"./node_modules/d3-selection/src/selection/size.js":function(e,t,n){"use strict";t.a=function(){var e=0;return this.each(function(){++e}),e}},"./node_modules/d3-selection/src/selection/sort.js":function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var i=n("./node_modules/d3-selection/src/selection/index.js");t.a=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,o=n.length,s=new Array(o),a=0;a<o;++a){for(var c,u=n[a],l=u.length,d=s[a]=new Array(l),h=0;h<l;++h)(c=u[h])&&(d[h]=c);d.sort(t)}return new i.b(s,this._parents).order()}},"./node_modules/d3-selection/src/selection/sparse.js":function(e,t,n){"use strict";t.a=function(e){return new Array(e.length)}},"./node_modules/d3-selection/src/selection/style.js":function(e,t,n){"use strict";function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function s(e,t){return e.style.getPropertyValue(t)||n.i(a.a)(e).getComputedStyle(e,null).getPropertyValue(t)}var a=n("./node_modules/d3-selection/src/window.js");t.a=s,t.b=function(e,t,n){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t,null==n?"":n)):s(this.node(),e)}},"./node_modules/d3-selection/src/selection/text.js":function(e,t,n){"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function o(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().textContent}},"./node_modules/d3-selection/src/selector.js":function(e,t,n){"use strict";function r(){}t.a=function(e){return null==e?r:function(){return this.querySelector(e)}}},"./node_modules/d3-selection/src/selectorAll.js":function(e,t,n){"use strict";function r(){return[]}t.a=function(e){return null==e?r:function(){return this.querySelectorAll(e)}}},"./node_modules/d3-selection/src/sourceEvent.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/selection/on.js");t.a=function(){for(var e,t=r.a;e=t.sourceEvent;)t=e;return t}},"./node_modules/d3-selection/src/touch.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/sourceEvent.js"),i=n("./node_modules/d3-selection/src/point.js");t.a=function(e,t,o){arguments.length<3&&(o=t,t=n.i(r.a)().changedTouches);for(var s,a=0,c=t?t.length:0;a<c;++a)if((s=t[a]).identifier===o)return n.i(i.a)(e,s);return null}},"./node_modules/d3-selection/src/touches.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/src/sourceEvent.js"),i=n("./node_modules/d3-selection/src/point.js");t.a=function(e,t){null==t&&(t=n.i(r.a)().touches);for(var o=0,s=t?t.length:0,a=new Array(s);o<s;++o)a[o]=n.i(i.a)(e,t[o]);return a}},"./node_modules/d3-selection/src/window.js":function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},"./node_modules/d3-time-format/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time-format/src/defaultLocale.js");n.d(t,"b",function(){return r.c}),n.d(t,"a",function(){return r.a});n("./node_modules/d3-time-format/src/locale.js"),n("./node_modules/d3-time-format/src/isoFormat.js"),n("./node_modules/d3-time-format/src/isoParse.js")},"./node_modules/d3-time-format/src/defaultLocale.js":function(e,t,n){"use strict";function r(e){return o=n.i(i.a)(e),s=o.format,a=o.parse,c=o.utcFormat,u=o.utcParse,o}var i=n("./node_modules/d3-time-format/src/locale.js");n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var o,s,a,c,u;r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},"./node_modules/d3-time-format/src/isoFormat.js":function(e,t,n){"use strict";function r(e){return e.toISOString()}var i=n("./node_modules/d3-time-format/src/defaultLocale.js");n.d(t,"a",function(){return o});var o="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||n.i(i.a)(o)},"./node_modules/d3-time-format/src/isoParse.js":function(e,t,n){"use strict";function r(e){var t=new Date(e);return isNaN(t)?null:t}var i=n("./node_modules/d3-time-format/src/isoFormat.js"),o=n("./node_modules/d3-time-format/src/defaultLocale.js");+new Date("2000-01-01T00:00:00.000Z")||n.i(o.b)(i.a)},"./node_modules/d3-time-format/src/locale.js":function(e,t,n){"use strict";function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function s(e){function t(e,t){return function(n){var r,i,o,s=[],a=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===e.charCodeAt(a)&&(s.push(e.slice(c,a)),null!=(i=te[r=e.charAt(++a)])?r=e.charAt(++a):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),s.push(r),c=a+1);return s.push(e.slice(c,a)),s.join("")}}function n(e,t){return function(n){var r=o(1900);if(s(r,e,n+="",0)!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var a="Z"in r?i(o(r.y)).getUTCDay():t(o(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(a+5)%7:r.w+7*r.U-(a+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,i(r)):t(r)}}function s(e,t,n,r){for(var i,o,s=0,a=t.length,c=n.length;s<a;){if(r>=c)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(o=Fe[i in te?t.charAt(s++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function a(e,t,n){var r=Me.exec(t.slice(n));return r?(e.p=Ee[r[0].toLowerCase()],n+r[0].length):-1}function c(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.w=Te[r[0].toLowerCase()],n+r[0].length):-1}function ee(e,t,n){var r=ze.exec(t.slice(n));return r?(e.w=Se[r[0].toLowerCase()],n+r[0].length):-1}function ne(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.m=De[r[0].toLowerCase()],n+r[0].length):-1}function re(e,t,n){var r=Oe.exec(t.slice(n));return r?(e.m=Ce[r[0].toLowerCase()],n+r[0].length):-1}function ie(e,t,n){return s(e,ge,t,n)}function oe(e,t,n){return s(e,ve,t,n)}function se(e,t,n){return s(e,be,t,n)}function ae(e){return xe[e.getDay()]}function ce(e){return we[e.getDay()]}function ue(e){return ke[e.getMonth()]}function le(e){return je[e.getMonth()]}function de(e){return ye[+(e.getHours()>=12)]}function he(e){return xe[e.getUTCDay()]}function fe(e){return we[e.getUTCDay()]}function _e(e){return ke[e.getUTCMonth()]}function pe(e){return je[e.getUTCMonth()]}function me(e){return ye[+(e.getUTCHours()>=12)]}var ge=e.dateTime,ve=e.date,be=e.time,ye=e.periods,we=e.days,xe=e.shortDays,je=e.months,ke=e.shortMonths,Me=u(ye),Ee=l(ye),ze=u(we),Se=l(we),Ae=u(xe),Te=l(xe),Oe=u(je),Ce=l(je),Ne=u(ke),De=l(ke),Ie={a:ae,A:ce,b:ue,B:le,c:null,d:M,e:M,H:E,I:z,j:S,L:A,m:T,M:O,p:de,S:C,U:N,w:D,W:I,x:null,X:null,y:P,Y:F,Z:U,"%":Q},Pe={a:he,A:fe,b:_e,B:pe,c:null,d:L,e:L,H:R,I:q,j:B,L:H,m:V,M:Y,p:me,S:W,U:X,w:$,W:J,x:null,X:null,y:G,Y:Z,Z:K,"%":Q},Fe={a:c,A:ee,b:ne,B:re,c:ie,d:v,e:v,H:y,I:y,j:b,L:j,m:g,M:w,p:a,S:x,U:h,w:d,W:f,x:oe,X:se,y:p,Y:_,Z:m,"%":k};return Ie.x=t(ve,Ie),Ie.X=t(be,Ie),Ie.c=t(ge,Ie),Pe.x=t(ve,Pe),Pe.X=t(be,Pe),Pe.c=t(ge,Pe),{format:function(e){var n=t(e+="",Ie);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",r);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",Pe);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,i);return t.toString=function(){return e},t}}}function a(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function c(e){return e.replace(ie,"\\$&")}function u(e){return new RegExp("^(?:"+e.map(c).join("|")+")","i")}function l(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function d(e,t,n){var r=ne.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ne.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function f(e,t,n){var r=ne.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function _(e,t,n){var r=ne.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ne.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(e,t,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g(e,t,n){var r=ne.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function v(e,t,n){var r=ne.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function b(e,t,n){var r=ne.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function y(e,t,n){var r=ne.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function w(e,t,n){var r=ne.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function x(e,t,n){var r=ne.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function j(e,t,n){var r=ne.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function k(e,t,n){var r=re.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function M(e,t){return a(e.getDate(),t,2)}function E(e,t){return a(e.getHours(),t,2)}function z(e,t){return a(e.getHours()%12||12,t,2)}function S(e,t){return a(1+ee.i.count(n.i(ee.j)(e),e),t,3)}function A(e,t){return a(e.getMilliseconds(),t,3)}function T(e,t){return a(e.getMonth()+1,t,2)}function O(e,t){return a(e.getMinutes(),t,2)}function C(e,t){return a(e.getSeconds(),t,2)}function N(e,t){return a(ee.k.count(n.i(ee.j)(e),e),t,2)}function D(e){return e.getDay()}function I(e,t){return a(ee.l.count(n.i(ee.j)(e),e),t,2)}function P(e,t){return a(e.getFullYear()%100,t,2)}function F(e,t){return a(e.getFullYear()%1e4,t,4)}function U(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+a(t/60|0,"0",2)+a(t%60,"0",2)}function L(e,t){return a(e.getUTCDate(),t,2)}function R(e,t){return a(e.getUTCHours(),t,2)}function q(e,t){return a(e.getUTCHours()%12||12,t,2)}function B(e,t){return a(1+ee.d.count(n.i(ee.a)(e),e),t,3)}function H(e,t){return a(e.getUTCMilliseconds(),t,3)}function V(e,t){return a(e.getUTCMonth()+1,t,2)}function Y(e,t){return a(e.getUTCMinutes(),t,2)}function W(e,t){return a(e.getUTCSeconds(),t,2)}function X(e,t){return a(ee.m.count(n.i(ee.a)(e),e),t,2)}function $(e){return e.getUTCDay()}function J(e,t){return a(ee.n.count(n.i(ee.a)(e),e),t,2)}function G(e,t){return a(e.getUTCFullYear()%100,t,2)}function Z(e,t){return a(e.getUTCFullYear()%1e4,t,4)}function K(){return"+0000"}function Q(){return"%"}var ee=n("./node_modules/d3-time/index.js");t.a=s;var te={"-":"",_:" ",0:"0"},ne=/^\s*\d+/,re=/^%/,ie=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g},"./node_modules/d3-time/index.js":function(e,t,n){"use strict";n("./node_modules/d3-time/src/interval.js");n.d(t,"t",function(){return r.a}),n.d(t,"h",function(){return r.a});var r=n("./node_modules/d3-time/src/millisecond.js");n.d(t,"s",function(){return i.a}),n.d(t,"g",function(){return i.a});var i=n("./node_modules/d3-time/src/second.js");n.d(t,"r",function(){return o.a});var o=n("./node_modules/d3-time/src/minute.js"),s=n("./node_modules/d3-time/src/hour.js");n.d(t,"q",function(){return s.a});var a=n("./node_modules/d3-time/src/day.js");n.d(t,"i",function(){return a.a});var c=n("./node_modules/d3-time/src/week.js");n.d(t,"p",function(){return c.a}),n.d(t,"k",function(){return c.a}),n.d(t,"l",function(){return c.b});var u=n("./node_modules/d3-time/src/month.js");n.d(t,"o",function(){return u.a}),n.d(t,"j",function(){return l.a});var l=n("./node_modules/d3-time/src/year.js");n.d(t,"f",function(){return d.a});var d=n("./node_modules/d3-time/src/utcMinute.js"),h=n("./node_modules/d3-time/src/utcHour.js");n.d(t,"e",function(){return h.a});var f=n("./node_modules/d3-time/src/utcDay.js");n.d(t,"d",function(){return f.a});var _=n("./node_modules/d3-time/src/utcWeek.js");n.d(t,"c",function(){return _.a}),n.d(t,"m",function(){return _.a}),n.d(t,"n",function(){return _.b});var p=n("./node_modules/d3-time/src/utcMonth.js");n.d(t,"b",function(){return p.a});var m=n("./node_modules/d3-time/src/utcYear.js");n.d(t,"a",function(){return m.a})},"./node_modules/d3-time/src/day.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n("./node_modules/d3-time/src/duration.js"),o=n.i(r.a)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.d)/i.b},function(e){return e.getDate()-1});t.a=o;o.range},"./node_modules/d3-time/src/duration.js":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return a});var r=1e3,i=6e4,o=36e5,s=864e5,a=6048e5},"./node_modules/d3-time/src/hour.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n("./node_modules/d3-time/src/duration.js"),o=n.i(r.a)(function(e){var t=e.getTimezoneOffset()*i.d%i.c;t<0&&(t+=i.c),e.setTime(Math.floor((+e-t)/i.c)*i.c+t)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getHours()});t.a=o;o.range},"./node_modules/d3-time/src/interval.js":function(e,t,n){"use strict";function r(e,t,n,s){function a(t){return e(t=new Date(+t)),t}return a.floor=a,a.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},a.round=function(e){var t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},a.range=function(n,r,i){var o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;do{o.push(new Date(+n))}while(t(n,i),e(n),n<r);return o},a.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(a.count=function(t,r){return i.setTime(+t),o.setTime(+r),e(i),e(o),Math.floor(n(i,o))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(s?function(t){return s(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}t.a=r;var i=new Date,o=new Date},"./node_modules/d3-time/src/millisecond.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n.i(r.a)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?n.i(r.a)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):i:null},t.a=i;i.range},"./node_modules/d3-time/src/minute.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n("./node_modules/d3-time/src/duration.js"),o=n.i(r.a)(function(e){e.setTime(Math.floor(e/i.d)*i.d)},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getMinutes()});t.a=o;o.range},"./node_modules/d3-time/src/month.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n.i(r.a)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.a=i;i.range},"./node_modules/d3-time/src/second.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n("./node_modules/d3-time/src/duration.js"),o=n.i(r.a)(function(e){e.setTime(Math.floor(e/i.e)*i.e)},function(e,t){e.setTime(+e+t*i.e)},function(e,t){return(t-e)/i.e},function(e){return e.getUTCSeconds()});t.a=o;o.range},"./node_modules/d3-time/src/utcDay.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n("./node_modules/d3-time/src/duration.js"),o=n.i(r.a)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.b},function(e){return e.getUTCDate()-1});t.a=o;o.range},"./node_modules/d3-time/src/utcHour.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n("./node_modules/d3-time/src/duration.js"),o=n.i(r.a)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getUTCHours()});t.a=o;o.range},"./node_modules/d3-time/src/utcMinute.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n("./node_modules/d3-time/src/duration.js"),o=n.i(r.a)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getUTCMinutes()});t.a=o;o.range},"./node_modules/d3-time/src/utcMonth.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n.i(r.a)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.a=i;i.range},"./node_modules/d3-time/src/utcWeek.js":function(e,t,n){"use strict";function r(e){return n.i(i.a)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.a})}var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js");n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var s=r(0),a=r(1),c=r(2),u=r(3),l=r(4),d=r(5),h=r(6);s.range,a.range,c.range,u.range,l.range,d.range,h.range},"./node_modules/d3-time/src/utcYear.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n.i(r.a)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},t.a=i;i.range},"./node_modules/d3-time/src/week.js":function(e,t,n){"use strict";function r(e){return n.i(i.a)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.d)/o.a})}var i=n("./node_modules/d3-time/src/interval.js"),o=n("./node_modules/d3-time/src/duration.js");n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var s=r(0),a=r(1),c=r(2),u=r(3),l=r(4),d=r(5),h=r(6);s.range,a.range,c.range,u.range,l.range,d.range,h.range},"./node_modules/d3-time/src/year.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-time/src/interval.js"),i=n.i(r.a)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?n.i(r.a)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},t.a=i;i.range},"./node_modules/d3-timer/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-timer/src/timer.js");n.d(t,"c",function(){return r.c}),n.d(t,"a",function(){return r.a});var i=n("./node_modules/d3-timer/src/timeout.js");n.d(t,"b",function(){return i.a});n("./node_modules/d3-timer/src/interval.js")},"./node_modules/d3-timer/src/interval.js":function(e,t,n){"use strict";n("./node_modules/d3-timer/src/timer.js")},"./node_modules/d3-timer/src/timeout.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-timer/src/timer.js");t.a=function(e,t,n){var i=new r.b;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i}},"./node_modules/d3-timer/src/timer.js":function(e,t,n){"use strict";function r(){return b||(x(i),b=w.now()+y)}function i(){b=0}function o(){this._call=this._time=this._next=null}function s(e,t,n){var r=new o;return r.restart(e,t,n),r}function a(){r(),++_;for(var e,t=h;t;)(e=b-t._time)>=0&&t._call.call(null,e),t=t._next;--_}function c(){b=(v=w.now())+y,_=p=0;try{a()}finally{_=0,l(),b=0}}function u(){var e=w.now(),t=e-v;t>g&&(y-=t,v=e)}function l(){for(var e,t,n=h,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:h=t);f=e,d(r)}function d(e){if(!_){p&&(p=clearTimeout(p));e-b>24?(e<1/0&&(p=setTimeout(c,e-w.now()-y)),m&&(m=clearInterval(m))):(m||(v=w.now(),m=setInterval(u,g)),_=1,x(c))}}t.c=r,t.b=o,t.a=s;var h,f,_=0,p=0,m=0,g=1e3,v=0,b=0,y=0,w="object"==typeof performance&&performance.now?performance:Date,x="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};o.prototype=s.prototype={constructor:o,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||f===this||(f?f._next=this:h=this,f=this),this._call=e,this._time=n,d()},stop:function(){this._call&&(this._call=null,this._time=1/0,d())}}},"./node_modules/d3-transition/index.js":function(e,t,n){"use strict";var r=(n("./node_modules/d3-transition/src/selection/index.js"),n("./node_modules/d3-transition/src/transition/index.js"),n("./node_modules/d3-transition/src/active.js"),n("./node_modules/d3-transition/src/interrupt.js"));n.d(t,"a",function(){return r.a})},"./node_modules/d3-transition/src/active.js":function(e,t,n){"use strict";n("./node_modules/d3-transition/src/transition/index.js"),n("./node_modules/d3-transition/src/transition/schedule.js")},"./node_modules/d3-transition/src/interrupt.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(e,t){var n,i,o,s=e.__transition,a=!0;if(s){t=null==t?null:t+"";for(o in s)(n=s[o]).name===t?(i=n.state>r.a&&n.state<r.b,n.state=r.c,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete s[o]):a=!1;a&&delete e.__transition}}},"./node_modules/d3-transition/src/selection/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/index.js"),i=n("./node_modules/d3-transition/src/selection/interrupt.js"),o=n("./node_modules/d3-transition/src/selection/transition.js");r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},"./node_modules/d3-transition/src/selection/interrupt.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-transition/src/interrupt.js");t.a=function(e){return this.each(function(){n.i(r.a)(this,e)})}},"./node_modules/d3-transition/src/selection/transition.js":function(e,t,n){"use strict";function r(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return c.time=n.i(a.c)(),c;return r}var i=n("./node_modules/d3-transition/src/transition/index.js"),o=n("./node_modules/d3-transition/src/transition/schedule.js"),s=n("./node_modules/d3-ease/index.js"),a=n("./node_modules/d3-timer/index.js"),c={time:null,delay:0,duration:250,ease:s.a};t.a=function(e){var t,s;e instanceof i.a?(t=e._id,e=e._name):(t=n.i(i.b)(),(s=c).time=n.i(a.c)(),e=null==e?null:e+"");for(var u=this._groups,l=u.length,d=0;d<l;++d)for(var h,f=u[d],_=f.length,p=0;p<_;++p)(h=f[p])&&n.i(o.h)(h,e,t,p,f,s||r(h,t));return new i.a(u,this._parents,e,t)}},"./node_modules/d3-transition/src/transition/attr.js":function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}}function s(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}function a(e,t,n){var r,i,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e),s===a?null:s===r&&a===i?o:o=t(r=s,i=a))}}function c(e,t,n){var r,i,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),s===a?null:s===r&&a===i?o:o=t(r=s,i=a))}}var u=n("./node_modules/d3-interpolate/index.js"),l=n("./node_modules/d3-selection/index.js"),d=n("./node_modules/d3-transition/src/transition/tween.js"),h=n("./node_modules/d3-transition/src/transition/interpolate.js");t.a=function(e,t){var f=n.i(l.namespace)(e),_="transform"===f?u.f:h.a;return this.attrTween(e,"function"==typeof t?(f.local?c:a)(f,_,n.i(d.b)(this,"attr."+e,t)):null==t?(f.local?i:r)(f):(f.local?s:o)(f,_,t+""))}},"./node_modules/d3-transition/src/transition/attrTween.js":function(e,t,n){"use strict";function r(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function i(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}var o=n("./node_modules/d3-selection/index.js");t.a=function(e,t){var s="attr."+e;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==t)return this.tween(s,null);if("function"!=typeof t)throw new Error;var a=n.i(o.namespace)(e);return this.tween(s,(a.local?r:i)(a,t))}},"./node_modules/d3-transition/src/transition/delay.js":function(e,t,n){"use strict";function r(e,t){return function(){n.i(o.g)(this,e).delay=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(o.g)(this,e).delay=t}}var o=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(o.f)(this.node(),t).delay}},"./node_modules/d3-transition/src/transition/duration.js":function(e,t,n){"use strict";function r(e,t){return function(){n.i(o.e)(this,e).duration=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){n.i(o.e)(this,e).duration=t}}var o=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):n.i(o.f)(this.node(),t).duration}},"./node_modules/d3-transition/src/transition/ease.js":function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t)throw new Error;return function(){n.i(i.e)(this,e).ease=t}}var i=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):n.i(i.f)(this.node(),t).ease}},"./node_modules/d3-transition/src/transition/filter.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/index.js"),i=n("./node_modules/d3-transition/src/transition/index.js");t.a=function(e){"function"!=typeof e&&(e=n.i(r.matcher)(e));for(var t=this._groups,o=t.length,s=new Array(o),a=0;a<o;++a)for(var c,u=t[a],l=u.length,d=s[a]=[],h=0;h<l;++h)(c=u[h])&&e.call(c,c.__data__,h,u)&&d.push(c);return new i.a(s,this._parents,this._name,this._id)}},"./node_modules/d3-transition/src/transition/index.js":function(e,t,n){"use strict";function r(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function i(e){return n.i(s.selection)().transition(e)}function o(){return++k}var s=n("./node_modules/d3-selection/index.js"),a=n("./node_modules/d3-transition/src/transition/attr.js"),c=n("./node_modules/d3-transition/src/transition/attrTween.js"),u=n("./node_modules/d3-transition/src/transition/delay.js"),l=n("./node_modules/d3-transition/src/transition/duration.js"),d=n("./node_modules/d3-transition/src/transition/ease.js"),h=n("./node_modules/d3-transition/src/transition/filter.js"),f=n("./node_modules/d3-transition/src/transition/merge.js"),_=n("./node_modules/d3-transition/src/transition/on.js"),p=n("./node_modules/d3-transition/src/transition/remove.js"),m=n("./node_modules/d3-transition/src/transition/select.js"),g=n("./node_modules/d3-transition/src/transition/selectAll.js"),v=n("./node_modules/d3-transition/src/transition/selection.js"),b=n("./node_modules/d3-transition/src/transition/style.js"),y=n("./node_modules/d3-transition/src/transition/styleTween.js"),w=n("./node_modules/d3-transition/src/transition/text.js"),x=n("./node_modules/d3-transition/src/transition/transition.js"),j=n("./node_modules/d3-transition/src/transition/tween.js");t.a=r,t.b=o;var k=0,M=s.selection.prototype;r.prototype=i.prototype={constructor:r,select:m.a,selectAll:g.a,filter:h.a,merge:f.a,selection:v.a,transition:x.a,call:M.call,nodes:M.nodes,node:M.node,size:M.size,empty:M.empty,each:M.each,on:_.a,attr:a.a,attrTween:c.a,style:b.a,styleTween:y.a,text:w.a,remove:p.a,tween:j.a,delay:u.a,duration:l.a,ease:d.a}},"./node_modules/d3-transition/src/transition/interpolate.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-color/index.js"),i=n("./node_modules/d3-interpolate/index.js");t.a=function(e,t){var o;return("number"==typeof t?i.c:t instanceof r.a?i.d:(o=n.i(r.a)(t))?(t=o,i.d):i.e)(e,t)}},"./node_modules/d3-transition/src/transition/merge.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-transition/src/transition/index.js");t.a=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u,l=t[c],d=n[c],h=l.length,f=a[c]=new Array(h),_=0;_<h;++_)(u=l[_]||d[_])&&(f[_]=u);for(;c<i;++c)a[c]=t[c];return new r.a(a,this._parents,this._name,this._id)}},"./node_modules/d3-transition/src/transition/on.js":function(e,t,n){"use strict";function r(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function i(e,t,n){var i,s,a=r(t)?o.g:o.e;return function(){var r=a(this,e),o=r.on;o!==i&&(s=(i=o).copy()).on(t,n),r.on=s}}var o=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(e,t){var r=this._id;return arguments.length<2?n.i(o.f)(this.node(),r).on.on(e):this.each(i(r,e,t))}},"./node_modules/d3-transition/src/transition/remove.js":function(e,t,n){"use strict";function r(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}t.a=function(){return this.on("end.remove",r(this._id))}},"./node_modules/d3-transition/src/transition/schedule.js":function(e,t,n){"use strict";function r(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>d)throw new Error("too late");return n}function i(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>f)throw new Error("too late");return n}function o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("too late");return n}function s(e,t,r){function i(e){r.state=h,r.timer.restart(o,r.delay,r.time),r.delay<=e&&o(e-r.delay)}function o(i){var d,m,v,b;if(r.state!==h)return a();for(d in l)if(b=l[d],b.name===r.name){if(b.state===_)return n.i(c.b)(o);b.state===p?(b.state=g,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete l[d]):+d<t&&(b.state=g,b.timer.stop(),delete l[d])}if(n.i(c.b)(function(){r.state===_&&(r.state=p,r.timer.restart(s,r.delay,r.time),s(i))}),r.state=f,r.on.call("start",e,e.__data__,r.index,r.group),r.state===f){for(r.state=_,u=new Array(v=r.tween.length),d=0,m=-1;d<v;++d)(b=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(u[++m]=b);u.length=m+1}}function s(t){for(var n=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(a),r.state=m,1),i=-1,o=u.length;++i<o;)u[i].call(null,n);r.state===m&&(r.on.call("end",e,e.__data__,r.index,r.group),a())}function a(){r.state=g,r.timer.stop(),delete l[t];for(var n in l)return;delete e.__transition}var u,l=e.__transition;l[t]=r,r.timer=n.i(c.a)(i,0,r.time)}var a=n("./node_modules/d3-dispatch/index.js"),c=n("./node_modules/d3-timer/index.js");n.d(t,"d",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return g}),t.g=r,t.e=i,t.f=o;var u=n.i(a.a)("start","end","interrupt"),l=[],d=0,h=1,f=2,_=3,p=4,m=5,g=6;t.h=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};s(e,n,{name:t,index:r,group:i,on:u,tween:l,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:d})}},"./node_modules/d3-transition/src/transition/select.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/index.js"),i=n("./node_modules/d3-transition/src/transition/index.js"),o=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(e){var t=this._name,s=this._id;"function"!=typeof e&&(e=n.i(r.selector)(e));for(var a=this._groups,c=a.length,u=new Array(c),l=0;l<c;++l)for(var d,h,f=a[l],_=f.length,p=u[l]=new Array(_),m=0;m<_;++m)(d=f[m])&&(h=e.call(d,d.__data__,m,f))&&("__data__"in d&&(h.__data__=d.__data__),p[m]=h,n.i(o.h)(p[m],t,s,m,p,n.i(o.f)(d,s)));return new i.a(u,this._parents,t,s)}},"./node_modules/d3-transition/src/transition/selectAll.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/index.js"),i=n("./node_modules/d3-transition/src/transition/index.js"),o=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(e){var t=this._name,s=this._id;"function"!=typeof e&&(e=n.i(r.selectorAll)(e));for(var a=this._groups,c=a.length,u=[],l=[],d=0;d<c;++d)for(var h,f=a[d],_=f.length,p=0;p<_;++p)if(h=f[p]){for(var m,g=e.call(h,h.__data__,p,f),v=n.i(o.f)(h,s),b=0,y=g.length;b<y;++b)(m=g[b])&&n.i(o.h)(m,t,s,b,g,v);u.push(g),l.push(h)}return new i.a(u,l,t,s)}},"./node_modules/d3-transition/src/transition/selection.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-selection/index.js"),i=r.selection.prototype.constructor;t.a=function(){return new i(this._groups,this._parents)}},"./node_modules/d3-transition/src/transition/style.js":function(e,t,n){"use strict";function r(e,t){var r,i,o;return function(){var s=n.i(c.style)(this,e),a=(this.style.removeProperty(e),n.i(c.style)(this,e));return s===a?null:s===r&&a===i?o:o=t(r=s,i=a)}}function i(e){return function(){this.style.removeProperty(e)}}function o(e,t,r){var i,o;return function(){var s=n.i(c.style)(this,e);return s===r?null:s===i?o:o=t(i=s,r)}}function s(e,t,r){var i,o,s;return function(){var a=n.i(c.style)(this,e),u=r(this);return null==u&&(this.style.removeProperty(e),u=n.i(c.style)(this,e)),a===u?null:a===i&&u===o?s:s=t(i=a,o=u)}}var a=n("./node_modules/d3-interpolate/index.js"),c=n("./node_modules/d3-selection/index.js"),u=n("./node_modules/d3-transition/src/transition/tween.js"),l=n("./node_modules/d3-transition/src/transition/interpolate.js");t.a=function(e,t,c){var d="transform"==(e+="")?a.b:l.a;return null==t?this.styleTween(e,r(e,d)).on("end.style."+e,i(e)):this.styleTween(e,"function"==typeof t?s(e,d,n.i(u.b)(this,"style."+e,t)):o(e,d,t+""),c)}},"./node_modules/d3-transition/src/transition/styleTween.js":function(e,t,n){"use strict";function r(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}t.a=function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,r(e,t,null==n?"":n))}},"./node_modules/d3-transition/src/transition/text.js":function(e,t,n){"use strict";function r(e){return function(){this.textContent=e}}function i(e){return function(){var t=e(this);this.textContent=null==t?"":t}}var o=n("./node_modules/d3-transition/src/transition/tween.js");t.a=function(e){return this.tween("text","function"==typeof e?i(n.i(o.b)(this,"text",e)):r(null==e?"":e+""))}},"./node_modules/d3-transition/src/transition/transition.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-transition/src/transition/index.js"),i=n("./node_modules/d3-transition/src/transition/schedule.js");t.a=function(){for(var e=this._name,t=this._id,o=n.i(r.b)(),s=this._groups,a=s.length,c=0;c<a;++c)for(var u,l=s[c],d=l.length,h=0;h<d;++h)if(u=l[h]){var f=n.i(i.f)(u,t);n.i(i.h)(u,e,o,h,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.a(s,this._parents,e,o)}},"./node_modules/d3-transition/src/transition/tween.js":function(e,t,n){"use strict";function r(e,t){var r,i;return function(){var o=n.i(s.e)(this,e),a=o.tween;if(a!==r){i=r=a;for(var c=0,u=i.length;c<u;++c)if(i[c].name===t){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function i(e,t,r){var i,o;if("function"!=typeof r)throw new Error;return function(){var a=n.i(s.e)(this,e),c=a.tween;if(c!==i){o=(i=c).slice();for(var u={name:t,value:r},l=0,d=o.length;l<d;++l)if(o[l].name===t){o[l]=u;break}l===d&&o.push(u)}a.tween=o}}function o(e,t,r){var i=e._id;return e.each(function(){var e=n.i(s.e)(this,i);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return n.i(s.f)(e,i).value[t]}}var s=n("./node_modules/d3-transition/src/transition/schedule.js");t.b=o,t.a=function(e,t){var o=this._id;if(e+="",arguments.length<2){for(var a,c=n.i(s.f)(this.node(),o).tween,u=0,l=c.length;u<l;++u)if((a=c[u]).name===e)return a.value;return null}return this.each((null==t?r:i)(o,e,t))}},"./node_modules/d3-zoom/index.js":function(e,t,n){"use strict";var r=n("./node_modules/d3-zoom/src/zoom.js");Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"zoom",function(){return r.a});var i=n("./node_modules/d3-zoom/src/transform.js");n.d(t,"zoomTransform",function(){return i.a}),n.d(t,"zoomIdentity",function(){return i.b})},"./node_modules/d3-zoom/src/constant.js":function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},"./node_modules/d3-zoom/src/event.js":function(e,t,n){"use strict";function r(e,t,n){this.target=e,this.type=t,this.transform=n}t.a=r},"./node_modules/d3-zoom/src/noevent.js":function(e,t,n){"use strict";function r(){i.event.stopImmediatePropagation()}var i=n("./node_modules/d3-selection/index.js");t.b=r,t.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},"./node_modules/d3-zoom/src/transform.js":function(e,t,n){"use strict";function r(e,t,n){this.k=e,this.x=t,this.y=n}function i(e){return e.__zoom||o}t.c=r,n.d(t,"b",function(){return o}),t.a=i,r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new r(1,0,0);i.prototype=r.prototype},"./node_modules/d3-zoom/src/zoom.js":function(e,t,n){"use strict";function r(){return!d.event.button}function i(){var e,t,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,e=n.width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function o(){return this.__zoom||p.b}function s(){return-d.event.deltaY*(d.event.deltaMode?120:1)/500}function a(){return"ontouchstart"in this}var c=n("./node_modules/d3-dispatch/index.js"),u=n("./node_modules/d3-drag/index.js"),l=n("./node_modules/d3-interpolate/index.js"),d=n("./node_modules/d3-selection/index.js"),h=n("./node_modules/d3-transition/index.js"),f=n("./node_modules/d3-zoom/src/constant.js"),_=n("./node_modules/d3-zoom/src/event.js"),p=n("./node_modules/d3-zoom/src/transform.js"),m=n("./node_modules/d3-zoom/src/noevent.js");t.a=function(){function e(e){e.property("__zoom",o).on("wheel.zoom",j).on("mousedown.zoom",k).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function t(e,t){return t=Math.max(D,Math.min(I,t)),t===e.k?e:new p.c(t,e.x,e.y)}function g(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new p.c(e.k,r,i)}function v(e,t){var n=e.invertX(t[0][0])-P,r=e.invertX(t[1][0])-F,i=e.invertY(t[0][1])-U,o=e.invertY(t[1][1])-L;return e.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n){e.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var e=this,r=arguments,i=w(e,r),o=C.apply(e,r),s=n||b(o),a=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=e.__zoom,u="function"==typeof t?t.apply(e,r):t,l=q(c.invert(s).concat(a/c.k),u.invert(s).concat(a/u.k));return function(e){if(1===e)e=u;else{var t=l(e),n=a/t[2];e=new p.c(n,s[0]-t[0]*n,s[1]-t[1]*n)}i.zoom(null,e)}})}function w(e,t){for(var n,r=0,i=B.length;r<i;++r)if((n=B[r]).that===e)return n;return new x(e,t)}function x(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=C.apply(e,t)}function j(){function e(){r.wheel=null,r.end()}if(O.apply(this,arguments)){var r=w(this,arguments),i=this.__zoom,o=Math.max(D,Math.min(I,i.k*Math.pow(2,N.apply(this,arguments)))),s=n.i(d.mouse)(this);if(r.wheel)r.mouse[0][0]===s[0]&&r.mouse[0][1]===s[1]||(r.mouse[1]=i.invert(r.mouse[0]=s)),clearTimeout(r.wheel);else{if(i.k===o)return;r.mouse=[s,i.invert(s)],n.i(h.a)(this),r.start()}n.i(m.a)(),r.wheel=setTimeout(e,Y),r.zoom("mouse",v(g(t(i,o),r.mouse[0],r.mouse[1]),r.extent))}}function k(){function e(){if(n.i(m.a)(),!r.moved){var e=d.event.clientX-s,t=d.event.clientY-a;r.moved=e*e+t*t>W}r.zoom("mouse",v(g(r.that.__zoom,r.mouse[0]=n.i(d.mouse)(r.that),r.mouse[1]),r.extent))}function t(){i.on("mousemove.zoom mouseup.zoom",null),n.i(u.dragEnable)(d.event.view,r.moved),n.i(m.a)(),r.end()}if(!T&&O.apply(this,arguments)){var r=w(this,arguments),i=n.i(d.select)(d.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",t,!0),o=n.i(d.mouse)(this),s=d.event.clientX,a=d.event.clientY;n.i(u.dragDisable)(d.event.view),n.i(m.b)(),r.mouse=[o,this.__zoom.invert(o)],n.i(h.a)(this),r.start()}}function M(){if(O.apply(this,arguments)){var r=this.__zoom,i=n.i(d.mouse)(this),o=r.invert(i),s=r.k*(d.event.shiftKey?.5:2),a=v(g(t(r,s),i,o),C.apply(this,arguments));n.i(m.a)(),R>0?n.i(d.select)(this).transition().duration(R).call(y,a,i):n.i(d.select)(this).call(e.transform,a)}}function E(){if(O.apply(this,arguments)){var e,t,r,i,o=w(this,arguments),s=d.event.changedTouches,a=s.length;for(n.i(m.b)(),t=0;t<a;++t)r=s[t],i=n.i(d.touch)(this,s,r.identifier),i=[i,this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,e=!0);if(A&&(A=clearTimeout(A),!o.touch1))return o.end(),void((i=n.i(d.select)(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(A=setTimeout(function(){A=null},V),n.i(h.a)(this),o.start())}}function z(){var e,r,i,o,s=w(this,arguments),a=d.event.changedTouches,c=a.length;for(n.i(m.a)(),A&&(A=clearTimeout(A)),e=0;e<c;++e)r=a[e],i=n.i(d.touch)(this,a,r.identifier),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var u=s.touch0[0],l=s.touch0[1],h=s.touch1[0],f=s.touch1[1],_=(_=h[0]-u[0])*_+(_=h[1]-u[1])*_,p=(p=f[0]-l[0])*p+(p=f[1]-l[1])*p;r=t(r,Math.sqrt(_/p)),i=[(u[0]+h[0])/2,(u[1]+h[1])/2],o=[(l[0]+f[0])/2,(l[1]+f[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",v(g(r,i,o),s.extent))}function S(){var e,t,r=w(this,arguments),i=d.event.changedTouches,o=i.length;for(n.i(m.b)(),T&&clearTimeout(T),T=setTimeout(function(){T=null},V),e=0;e<o;++e)t=i[e],r.touch0&&r.touch0[2]===t.identifier?delete r.touch0:r.touch1&&r.touch1[2]===t.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var A,T,O=r,C=i,N=s,D=0,I=1/0,P=-I,F=I,U=P,L=F,R=250,q=l.a,B=[],H=n.i(c.a)("start","zoom","end"),V=500,Y=150,W=0;return e.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",o),e!==n?y(e,t):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(n,r){e.transform(n,function(){var e=C.apply(this,arguments),n=this.__zoom,i=b(e),o=n.invert(i);return v(g(t(n,"function"==typeof r?r.apply(this,arguments):r),i,o),e)})},e.translateBy=function(t,n,r){e.transform(t,function(){return v(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),C.apply(this,arguments))})},e.translateTo=function(t,n,r){e.transform(t,function(){var e=C.apply(this,arguments),t=this.__zoom,i=b(e);return v(p.b.translate(i[0],i[1]).scale(t.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),e)})},x.prototype={start:function(){return 1==++this.active&&(this.index=B.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(B.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){n.i(d.customEvent)(new _.a(e,t,this.that.__zoom),H.apply,H,[t,this.that,this.args])}},e.wheelDelta=function(t){return arguments.length?(N="function"==typeof t?t:n.i(f.a)(+t),e):N},e.filter=function(t){return arguments.length?(O="function"==typeof t?t:n.i(f.a)(!!t),e):O},e.extent=function(t){return arguments.length?(C="function"==typeof t?t:n.i(f.a)([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):C},e.scaleExtent=function(t){return arguments.length?(D=+t[0],I=+t[1],e):[D,I]},e.translateExtent=function(t){return arguments.length?(P=+t[0][0],F=+t[1][0],U=+t[0][1],L=+t[1][1],e):[[P,U],[F,L]]},e.duration=function(t){return arguments.length?(R=+t,e):R},e.interpolate=function(t){return arguments.length?(q=t,e):q},e.on=function(){var t=H.on.apply(H,arguments);return t===H?e:t},e.clickDistance=function(t){return arguments.length?(W=(t=+t)*t,e):Math.sqrt(W)},e}},"./node_modules/escher-vis/js/src/Behavior.js":function(e,t,n){function r(e,t){this.map=e,this.undo_stack=t,this.empty_behavior=function(){},this.rotation_mode_enabled=!1,this.rotation_drag=x(),this.selectable_mousedown=null,this.text_label_mousedown=null,this.text_label_click=null,this.selectable_drag=this.empty_behavior,this.node_mouseover=null,this.node_mouseout=null,this.label_mousedown=null,this.label_mouseover=null,this.label_mouseout=null,this.bezier_drag=this.empty_behavior,this.bezier_mouseover=null,this.bezier_mouseout=null,this.reaction_label_drag=this.empty_behavior,this.node_label_drag=this.empty_behavior,this.dragging=!1,this.turn_everything_on()}function i(){this.toggle_selectable_click(!0),this.toggle_selectable_drag(!0),this.toggle_label_drag(!0),this.toggle_label_mouseover(!0)}function o(){this.toggle_selectable_click(!1),this.toggle_selectable_drag(!1),this.toggle_label_drag(!1),this.toggle_label_mouseover(!1)}function s(e){function t(){var e=this.map.sel.selectAll("#rotation-center").data([0]),t=e.enter().append("g").attr("id","rotation-center");t.append("path").attr("d","M-32 0 L32 0").attr("class","rotation-center-line"),t.append("path").attr("d","M0 -32 L0 32").attr("class","rotation-center-line");var n=t.merge(e);n.attr("transform","translate("+this.center.x+","+this.center.y+")").attr("visibility","visible").on("mouseover",function(){var e=parseFloat(n.selectAll("path").style("stroke-width"));n.selectAll("path").style("stroke-width",2*e+"px")}).on("mouseout",function(){n.selectAll("path").style("stroke-width",null)}).call(x().on("drag",function(){var e=y.d3_transform_catch(n.attr("transform")),t=[M.event.dx+e.translate[0],M.event.dy+e.translate[1]];n.attr("transform","translate("+t+")"),this.center={x:t[0],y:t[1]}}.bind(this)))}function n(e){this.map.sel.select("#rotation-center").attr("visibility","hidden")}function r(e){var t=[],n=[];for(var r in e){var i=e[r];void 0!==i.x&&t.push(i.x),void 0!==i.y&&n.push(i.y)}return{x:y.mean(t),y:y.mean(n)}}this.rotation_mode_enabled=void 0===e?!this.rotation_mode_enabled:e;var i=this.map.sel.selectAll(".node-circle"),o=this.map.sel.selectAll("#canvas");if(this.rotation_mode_enabled){this.map.callback_manager.run("start_rotation");var s=this.map.get_selected_nodes();if(0===Object.keys(s).length)return void console.warn("No selected nodes");this.center=r(s),t.call(this);var a=this.map,c=Object.keys(s),u=this.map.reactions,l=this.map.nodes,d=this.map.beziers,h=function(e){M.event.sourceEvent.stopPropagation()},f=function(e,t,n,r){var i=w.rotate_nodes(s,u,d,t,r);a.draw_these_nodes(i.node_ids),a.draw_these_reactions(i.reaction_ids)},_=function(e){},p=function(e,t,n){var r={};c.forEach(function(e){r[e]=l[e]});var i=w.rotate_nodes(r,u,d,-t,n);a.draw_these_nodes(i.node_ids),a.draw_these_reactions(i.reaction_ids)},m=function(e,t,n){var r={};c.forEach(function(e){r[e]=l[e]});var i=w.rotate_nodes(r,u,d,t,n);a.draw_these_nodes(i.node_ids),a.draw_these_reactions(i.reaction_ids)},g=function(){return this.center}.bind(this);this.rotation_drag=this._get_generic_angular_drag(h,f,_,p,m,g,this.map.sel),o.call(this.rotation_drag),this.selectable_drag=this.rotation_drag}else n.call(this),i.on("mousedown.center",null),o.on("mousedown.center",null),o.on("mousedown.drag",null),o.on("touchstart.drag",null),this.rotation_drag=null,this.selectable_drag=null}function a(e){if(void 0===e&&(e=null===this.selectable_mousedown),e){var t=this.map;this.selectable_mousedown=function(e){M.event.stopPropagation()},this.selectable_click=function(e){M.event.stopPropagation(),M.event.defaultPrevented||t.select_selectable(this,e,M.event.shiftKey)},this.node_mouseover=function(e){j(this).style("stroke-width",null);var t=parseFloat(j(this).style("stroke-width"));j(this.parentNode).classed("selected")||j(this).style("stroke-width",3*t+"px")},this.node_mouseout=function(e){j(this).style("stroke-width",null)}}else this.selectable_mousedown=null,this.selectable_click=null,this.node_mouseover=null,this.node_mouseout=null,this.map.sel.select("#nodes").selectAll(".node-circle").style("stroke-width",null)}function c(e){if(void 0===e&&(e=null==this.text_edit_mousedown),e){var t=this.map;this.selection;this.text_label_mousedown=function(){if(!M.event.defaultPrevented){var e=y.d3_transform_catch(j(this).attr("transform")).translate,n={x:e[0],y:e[1]};t.callback_manager.run("edit_text_label",null,j(this),n),M.event.stopPropagation()}},this.text_label_click=null,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!0),this.map.sel.on("mousedown.new_text_label",function(e){M.event.preventDefault();var t={x:k(e)[0],y:k(e)[1]};this.map.callback_manager.run("new_text_label",null,t)}.bind(this,this.map.sel.node()))}else this.text_label_mousedown=this.selectable_mousedown,this.text_label_click=this.selectable_click,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!1),this.map.sel.on("mousedown.new_text_label",null),this.map.callback_manager.run("hide_text_label_editor")}function u(e){void 0===e&&(e=this.selectable_drag===this.empty_behavior),e?(this.selectable_drag=this._get_selectable_drag(this.map,this.undo_stack),this.bezier_drag=this._get_bezier_drag(this.map,this.undo_stack)):(this.selectable_drag=this.empty_behavior,this.bezier_drag=this.empty_behavior)}function l(e){void 0===e&&(e=this.label_drag===this.empty_behavior),e?(this.reaction_label_drag=this._get_reaction_label_drag(this.map),this.node_label_drag=this._get_node_label_drag(this.map)):(this.reaction_label_drag=this.empty_behavior,this.node_label_drag=this.empty_behavior)}function d(e){void 0===e&&(e=null===this.label_mouseover),e?(this.label_mouseover=function(e,t){this.dragging||this.map.callback_manager.run("show_tooltip",null,e,t)}.bind(this),this.label_mouseout=function(){this.map.callback_manager.run("delay_hide_tooltip")}.bind(this)):this.label_mouseover=null}function h(e){void 0===e&&(e=this.bezier_drag===this.empty_behavior),e?(this.bezier_drag=this._get_bezier_drag(this.map),this.bezier_mouseover=function(e){j(this).style("stroke-width",String(3)+"px")},this.bezier_mouseout=function(e){j(this).style("stroke-width",String(1)+"px")}):(this.bezier_drag=this.empty_behavior,this.bezier_mouseover=null,this.bezier_mouseout=null)}function f(e){e.on("mousedown.drag",null),e.on("touchstart.drag",null)}function _(e,t){function n(t,n){var r=e.nodes[n],i=e.nodes[t],o=[];return r.connected_segments.forEach(function(r){var s;try{if(void 0===(s=e.reactions[r.reaction_id].segments[r.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segment "+r.segment_id)}if(s.from_node_id==n)s.from_node_id=t;else{if(s.to_node_id!=n)return void console.error("Segment does not connect to dragged node");s.to_node_id=t}i.connected_segments.push(r),o.push(y.clone(r))}),e.delete_node_data([n]),e.sel.selectAll(".node-to-combine").classed("node-to-combine",!1),e.draw_everything(),o}var r=x(),i=null,o=null,s=null,a=null,c=null,u=function(t,n){var r=e.text_labels[t];r.x=r.x+n.x,r.y=r.y+n.y},l=function(e){this.dragging=e}.bind(this);return r.on("start",function(t){if(l(!0),M.event.sourceEvent.stopPropagation(),o={x:0,y:0},-1===j(this).attr("class").indexOf("label")){var n=this.parentNode.__data__,r=n.bigg_id,s=this.parentNode;i=setTimeout(function(){s.parentNode.insertBefore(s,s.parentNode.firstChild)},200),e.sel.selectAll(".metabolite-circle").on("mouseover.combine",function(e){e.bigg_id===r&&e.node_id!==n.node_id&&j(this).style("stroke-width",String(12)+"px").classed("node-to-combine",!0)}).on("mouseout.combine",function(t){t.bigg_id===r&&e.sel.selectAll(".node-to-combine").style("stroke-width",String(2)+"px").classed("node-to-combine",!1)})}}),r.on("drag",function(t){j(this.parentNode).classed("selected")||e.select_selectable(this,t);var n={};-1===j(this).attr("class").indexOf("label")?(n.type="node",n.id=this.parentNode.__data__.node_id):(n.type="label",n.id=this.__data__.text_label_id);var r=e.get_selected_node_ids(),i=e.get_selected_text_label_ids();s=[],c=[],"node"==n.type&&-1===r.indexOf(n.id)?s.push(n.id):"label"===n.type&&-1===i.indexOf(n.id)?c.push(n.id):(s=r,c=i),a=[];var l={x:M.event.dx,y:M.event.dy};o=y.c_plus_c(o,l),s.forEach(function(t){var n=e.nodes[t],r=w.move_node_and_dependents(n,t,e.reactions,e.beziers,l);a=y.unique_concat([a,r.reaction_ids])}),c.forEach(function(e){u(e,l)}),e.draw_these_nodes(s),e.draw_these_reactions(a),e.draw_these_text_labels(c)}),r.on("end",function(){if(l(!1),null===s)return o=null,s=null,c=null,a=null,void(i=null);var r=[];if(e.sel.selectAll(".node-to-combine").each(function(e){r.push(e.node_id)}),1===r.length){var d=r[0],h=this.parentNode.__data__.node_id,f=y.clone(e.nodes[h]),_=n(d,h);t.push(function(){e.nodes[h]=f;var t=e.nodes[d],n=[];_.forEach(function(r){var i=e.reactions[r.reaction_id].segments[r.segment_id];i.from_node_id==d?i.from_node_id=h:i.to_node_id==d?i.to_node_id=h:console.error("Segment does not connect to fixed node"),t.connected_segments=t.connected_segments.filter(function(e){return!(e.reaction_id==r.reaction_id&&e.segment_id==r.segment_id)}),-1==n.indexOf(r.reaction_id)&&n.push(r.reaction_id)}),e.draw_these_nodes([h]),e.draw_these_reactions(n)},function(){n(d,h)})}else{var p=y.clone(o),m=y.clone(s),g=y.clone(c),v=y.clone(a);t.push(function(){m.forEach(function(t){var n=e.nodes[t];w.move_node_and_dependents(n,t,e.reactions,e.beziers,y.c_times_scalar(p,-1))}),g.forEach(function(e){u(e,y.c_times_scalar(p,-1))}),e.draw_these_nodes(m),e.draw_these_reactions(v),e.draw_these_text_labels(g)},function(){m.forEach(function(t){var n=e.nodes[t];w.move_node_and_dependents(n,t,e.reactions,e.beziers,p)}),g.forEach(function(e){u(e,p)}),e.draw_these_nodes(m),e.draw_these_reactions(v),e.draw_these_text_labels(g)})}e.sel.selectAll(".metabolite-circle").on("mouseover.combine",null).on("mouseout.combine",null),clearTimeout(i),o=null,s=null,c=null,a=null,i=null}),r}function p(e){var t=function(t,n,r,i,o){var s=e.reactions[t].segments[n];s[r]=y.c_plus_c(s[r],o),e.beziers[i].x=s[r].x,e.beziers[i].y=s[r].y},n=function(e){e.dragging=!0},r=function(n,r,i){t(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,r),e.draw_these_reactions([n.reaction_id],!1),e.draw_these_beziers([n.bezier_id])},i=function(e){e.dragging=!1},o=function(n,r){t(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,y.c_times_scalar(r,-1)),e.draw_these_reactions([n.reaction_id],!1),e.draw_these_beziers([n.bezier_id])},s=function(n,r){t(n.reaction_id,n.segment_id,n.bezier,n.bezier_id,r),e.draw_these_reactions([n.reaction_id],!1),e.draw_these_beziers([n.bezier_id])};return this._get_generic_drag(n,r,i,o,s,this.map.sel)}function m(e){var t=function(t,n){var r=e.reactions[t];r.label_x=r.label_x+n.x,r.label_y=r.label_y+n.y},n=function(t){e.callback_manager.run("hide_tooltip")},r=function(n,r,i){t(n.reaction_id,r),e.draw_these_reactions([n.reaction_id])},i=function(e){},o=function(n,r){t(n.reaction_id,y.c_times_scalar(r,-1)),e.draw_these_reactions([n.reaction_id])},s=function(n,r){t(n.reaction_id,r),e.draw_these_reactions([n.reaction_id])};return this._get_generic_drag(n,r,i,o,s,this.map.sel)}function g(e){var t=function(t,n){var r=e.nodes[t];r.label_x=r.label_x+n.x,r.label_y=r.label_y+n.y},n=function(t){e.callback_manager.run("hide_tooltip")},r=function(n,r,i){t(n.node_id,r),e.draw_these_nodes([n.node_id])},i=function(e){},o=function(n,r){t(n.node_id,y.c_times_scalar(r,-1)),e.draw_these_nodes([n.node_id])},s=function(n,r){t(n.node_id,r),e.draw_these_nodes([n.node_id])};return this._get_generic_drag(n,r,i,o,s,this.map.sel)}function v(e,t,n,r,i,o){var s,a=x(),c=this.undo_stack,u=o.node();return a.on("start",function(t){this.dragging=!0,M.event.sourceEvent.stopPropagation(),s={x:0,y:0},e(t)}.bind(this)),a.on("drag",function(e){var n={x:M.event.dx,y:M.event.dy},r={x:k(u)[0],y:k(u)[1]};s=y.c_plus_c(s,n),t(e,n,s,r)}.bind(this)),a.on("end",function(e){this.dragging=!1;var t=y.clone(e),o=y.clone(s),a={x:k(u)[0],y:k(u)[1]};c.push(function(){r(t,o,a)},function(){i(t,o,a)}),n(e)}.bind(this)),a}function b(e,t,n,r,i,o,s){var a,c=x(),u=this.undo_stack,l=s.node();return c.on("start",function(t){this.dragging=!0,M.event.sourceEvent.stopPropagation(),a=0,e(t)}.bind(this)),c.on("drag",function(e){var n={x:M.event.dx,y:M.event.dy},r={x:k(l)[0],y:k(l)[1]},i=o(),s=y.angle_for_event(n,r,i);a+=s,t(e,s,a,i)}.bind(this)),c.on("end",function(e){this.dragging=!1;var t=y.clone(e),s=a,c=y.clone(o());u.push(function(){r(t,s,c)},function(){i(t,s,c)}),n(e)}.bind(this)),c}var y=n("./node_modules/escher-vis/js/src/utils.js"),w=n("./node_modules/escher-vis/js/src/docs.js"),x=n("./node_modules/d3-drag/index.js").drag,j=n("./node_modules/d3-selection/index.js").select,k=n("./node_modules/d3-selection/index.js").mouse,M=n("./node_modules/d3-selection/index.js"),E=y.make_class();E.prototype={init:r,toggle_rotation_mode:s,turn_everything_on:i,turn_everything_off:o,toggle_selectable_click:a,toggle_text_label_edit:c,toggle_selectable_drag:u,toggle_label_drag:l,toggle_label_mouseover:d,toggle_bezier_drag:h,turn_off_drag:f,_get_selectable_drag:_,_get_bezier_drag:p,_get_reaction_label_drag:m,_get_node_label_drag:g,_get_generic_drag:v,_get_generic_angular_drag:b},e.exports=E},"./node_modules/escher-vis/js/src/Brush.js":function(e,t,n){function r(e,t,n,r){this.brush_sel=e.append("g").attr("id","brush-container");var i=this.brush_sel.node(),o=e.select(r).node().nextSibling;i!==o&&i.parentNode.insertBefore(i,o),this.enabled=t,this.map=n}function i(e){void 0===e&&(e=!this.enabled),e?this.setup_selection_brush():this.brush_sel.selectAll("*").remove()}function o(e){e.selectAll("rect").attr("cursor",null)}function s(){var e=this.map,t=this.brush_sel,n=e.sel.selectAll("#nodes,#text-labels"),r=e.canvas.size_and_location(),i=r.width,s=r.height,a=r.x,d=r.y;t.selectAll("*").remove();var h=!1,f=c().extent([[a,d],[a+i,d+s]]).on("start",function(){o(t),e.settings.get_option("hide_secondary_metabolites")&&(e.settings.set_conditional("hide_secondary_metabolites",!1),e.draw_everything(),e.set_status("Showing secondary metabolites. You can hide them again in Settings.",2e3))}).on("brush",function(){var e=l.event.sourceEvent.shiftKey,t=u(this);if(null!==t){(e?n.selectAll(".node:not(.selected),.text-label:not(.selected)"):n.selectAll(".node,.text-label")).classed("selected",function(e){var n=e.x,r=e.y;return t[0][0]<=n&&n<t[1][0]&&t[0][1]<=r&&r<t[1][1]})}}).on("end",function(){o(t),null===u(this)?h?h=!1:e.select_none():(h=!0,t.call(f.move,null))});t.call(f),o(t)}var a=n("./node_modules/escher-vis/js/src/utils.js"),c=n("./node_modules/d3-brush/index.js").brush,u=n("./node_modules/d3-brush/index.js").brushSelection,l=(n("./node_modules/d3-scale/index.js").scaleIdentity,n("./node_modules/d3-selection/index.js")),d=(n("./node_modules/d3-selection/index.js").select,a.make_class());d.prototype={init:r,toggle:i,setup_selection_brush:s},e.exports=d},"./node_modules/escher-vis/js/src/BuildInput.js":function(e,t,n){function r(e,t,n,r){var i=e.append("div").attr("id","rxn-input");this.placed_div=v(i,t,{x:240,y:0}),this.placed_div.hide();var o=b(i.node(),{backgroundColor:"#eee"});j(o.input),this.completely=o,i.append("button").attr("class","button input-close-button").text("×").on("mousedown",function(){this.hide_dropdown()}.bind(this)),this.map=t,this.direction_arrow=new y(t.sel),this.direction_arrow.set_rotation(90),this.setup_map_callbacks(t),this.zoom_container=n,this.setup_zoom_callbacks(n),this.settings=r,this.toggle(!1),this.target_coords=null}function i(e){e.callback_manager.set("select_metabolite_with_id.input",function(e,t){this.is_active&&(this.reload(e,t,!1),this.show_dropdown(t)),this.hide_target()}.bind(this)),e.callback_manager.set("select_selectable.input",function(e,t,n){this.hide_target(),1==e&&this.is_active&&n?(this.reload(t,n,!1),this.show_dropdown(n)):this.toggle(!1)}.bind(this)),e.callback_manager.set("deselect_nodes",function(){this.direction_arrow.hide(),this.hide_dropdown()}.bind(this)),e.callback_manager.set("before_svg_export",function(){this.direction_arrow.hide(),this.hide_target()}.bind(this))}function o(e){e.callback_manager.set("zoom.input",function(){this.is_active&&this.place_at_selected()}.bind(this))}function s(){return this.placed_div.is_visible()}function a(e){this.is_active=void 0===e?!this.is_active:e,this.is_active?(this.toggle_start_reaction_listener(!0),x.isNull(this.target_coords)?this.reload_at_selected():this.placed_div.place(this.target_coords),this.show_dropdown(),this.map.set_status("Click on the canvas or an existing metabolite"),this.direction_arrow.show()):(this.toggle_start_reaction_listener(!1),this.hide_dropdown(),this.map.set_status(null),this.direction_arrow.hide())}function c(e){this.clear_escape=this.map.key_manager.add_escape_listener(function(){this.hide_dropdown()}.bind(this),!0),this.completely.input.blur(),this.completely.repaint(),this.completely.setText(""),this.completely.input.focus()}function u(){this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.placed_div.hide(),this.completely.input.blur(),this.completely.hideDropDown()}function l(){this.map.deselect_text_labels();var e=this.map.select_single_node();if(null!=e){var t={x:e.x,y:e.y};this.place(t)}}function d(e){this.placed_div.place(e),this.direction_arrow.set_location(e),this.direction_arrow.show()}function h(){this.map.deselect_text_labels();var e=this.map.select_single_node();if(null==e)return!1;var t={x:e.x,y:e.y};return this.reload(e,t,!1),!0}function f(e,t,n){function r(e,t){for(var n in t)if(t[n].bigg_id===e)return!0;return!1}if(!n&&!e)return void console.error("No selected node, and not starting from scratch");if(this.place(t),null===this.map.cobra_model)return void this.completely.setText("Cannot add: No model.");var i="name"===this.settings.get_option("identifiers_on_map"),o=this.settings.get_option("allow_building_duplicate_reactions"),s=[],a=this.map.cobra_model.reactions,c=this.map.cobra_model.metabolites,u=this.map.reactions,l=this.map.has_data_on_reactions,d=(this.map.reaction_data,this.map.reaction_data_styles,e?i?e.name:e.bigg_id:""),h=function(e,t){return e.replace(new RegExp("(^| )("+t.join("|")+")($| )","g"),"$1<b>$2</b>$3")},f={};for(var _ in a){var p=a[_],m=p.name,v=i?m:_;if(o||!r(_,u))for(var b in p.metabolites)if(n||b==e.bigg_id){if(_ in f)continue;c[b].name;if(l)s.push({reaction_data:p.data,html:"<b>"+v+"</b>: "+p.data_string,matches:[v],id:_}),f[_]=!0;else{var y,j={},k=[];if(i)for(y in p.metabolites){var M=c[y].name;j[M]=p.metabolites[y],k.push(M)}else{j=g.clone(p.metabolites);for(y in p.metabolites)k.push(y)}var E=x.flatten(p.genes.map(function(e){return[e.name,e.bigg_id]})),z=w.build_reaction_string(j,p.reversibility,p.lower_bound,p.upper_bound);s.push({html:"<b>"+v+"</b>\t"+h(z,[d]),matches:[v].concat(k).concat(E),id:_}),f[_]=!0}}}var S;S=l?function(e,t){return Math.abs(t.reaction_data)-Math.abs(e.reaction_data)}:function(e,t){return e.html.toLowerCase()<t.html.toLowerCase()?-1:1},s=s.sort(S);var A=this.completely;A.options=s,A.setText("");var T=this.direction_arrow,O=function(r){if(null!==r)if(n)this.map.new_reaction_from_scratch(r,t,T.get_rotation());else{if(!(e.node_id in this.map.nodes))return console.error("Selected node no longer exists"),void this.hide_dropdown();this.map.new_reaction_for_metabolite(r,e.node_id,T.get_rotation())}}.bind(this);A.onEnter=function(e){this.setText(""),this.onChange(""),O(e)}}function _(e){if(void 0===e)this.start_reaction_listener=!this.start_reaction_listener;else{if(this.start_reaction_listener===e)return;this.start_reaction_listener=e}this.start_reaction_listener?(this.map.sel.on("click.start_reaction",function(e){if(!this.direction_arrow.dragging){var t={x:k(e)[0],y:k(e)[1]};this.map.deselect_nodes(),this.map.deselect_text_labels(),this.reload(null,t,!0),this.show_target(this.map,t),this.show_dropdown(t)}}.bind(this,this.map.sel.node())),this.map.sel.classed("start-reaction-cursor",!0)):(this.map.sel.on("click.start_reaction",null),this.map.sel.classed("start-reaction-cursor",!1),this.hide_target())}function p(){this.target_coords&&this.map.sel.selectAll(".start-reaction-target").remove(),this.target_coords=null}function m(e,t){var n=e.sel.selectAll(".start-reaction-target").data([12,5]);n.enter().append("circle").classed("start-reaction-target",!0).attr("r",function(e){return e}).style("stroke-width",4).merge(n).style("visibility","visible").attr("transform","translate("+t.x+","+t.y+")"),this.target_coords=t}var g=n("./node_modules/escher-vis/js/src/utils.js"),v=n("./node_modules/escher-vis/js/src/PlacedDiv.js"),b=n("./node_modules/escher-vis/js/src/complete.ly.js"),y=n("./node_modules/escher-vis/js/src/DirectionArrow.js"),w=n("./node_modules/escher-vis/js/src/CobraModel.js"),x=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),j=n("./node_modules/d3-selection/index.js").select,k=n("./node_modules/d3-selection/index.js").mouse,M=g.make_class();M.prototype={init:r,setup_map_callbacks:i,setup_zoom_callbacks:o,is_visible:s,toggle:a,show_dropdown:c,hide_dropdown:u,place_at_selected:l,place:d,reload_at_selected:h,reload:f,toggle_start_reaction_listener:_,hide_target:p,show_target:m},e.exports=M},"./node_modules/escher-vis/js/src/Builder.js":function(e,t,n){function r(e,t,n,r,i){if(r?r instanceof Y||(r=V("node"in r?r.node():r)):r=V("body").append("div"),i||(i={}),n||(n=R),this.map_data=e,this.model_data=t,this.embedded_css=n,this.selection=r,this.selection.datum(this),this.selection.__builder__=this,this.has_custom_reaction_styles=Boolean(i.reaction_styles),this.options=E.set_options(i,{menu:"all",scroll_behavior:"pan",use_3d_transform:!E.check_browser("safari"),enable_editing:!0,enable_keys:!0,enable_search:!0,fill_screen:!1,zoom_to_element:null,full_screen_button:!1,ignore_bootstrap:!1,starting_reaction:null,never_ask_before_quit:!1,unique_map_id:null,primary_metabolite_radius:20,secondary_metabolite_radius:10,marker_radius:5,gene_font_size:18,hide_secondary_metabolites:!1,show_gene_reaction_rules:!1,hide_all_labels:!1,canvas_size_and_loc:null,reaction_data:null,reaction_styles:["color","size","text"],reaction_compare_style:"log2_fold",reaction_scale:[{type:"min",color:"#c8c8c8",size:12},{type:"median",color:"#9696ff",size:20},{type:"max",color:"#ff0000",size:25}],reaction_no_data_color:"#dcdcdc",reaction_no_data_size:8,gene_data:null,and_method_in_gene_reaction_rule:"mean",metabolite_data:null,metabolite_styles:["color","size","text"],metabolite_compare_style:"log2_fold",metabolite_scale:[{type:"min",color:"#fffaf0",size:20},{type:"median",color:"#f1c470",size:30},{type:"max",color:"#800000",size:40}],metabolite_no_data_color:"#ffffff",metabolite_no_data_size:10,identifiers_on_map:"bigg_id",highlight_missing:!1,allow_building_duplicate_reactions:!1,cofactors:["atp","adp","nad","nadh","nadp","nadph","gtp","gdp","h","coa","ump","h20","ppi"],tooltip_component:B,enable_tooltips:!0,first_load_callback:null},{primary_metabolite_radius:!0,secondary_metabolite_radius:!0,marker_radius:!0,gene_font_size:!0,reaction_no_data_size:!0,metabolite_no_data_size:!0}),E.check_for_parent_tag(this.selection,"svg"))throw new Error("Builder cannot be placed within an svg node becuase UI elements are html-based.");var o=function(e,t){this.options[e]=t}.bind(this),s=function(e){return this.options[e]}.bind(this),a=["hide_secondary_metabolites","show_gene_reaction_rules","hide_all_labels","scroll_behavior","reaction_styles","reaction_compare_style","reaction_scale","reaction_no_data_color","reaction_no_data_size","and_method_in_gene_reaction_rule","metabolite_styles","metabolite_compare_style","metabolite_scale","metabolite_no_data_color","metabolite_no_data_size","identifiers_on_map","highlight_missing","allow_building_duplicate_reactions","enable_tooltips"];this.settings=new I(o,s,a),["reaction_scale","metabolite_scale"].forEach(function(e){this.settings.streams[e].onValue(function(t){["min","max"].forEach(function(n){t.reduce(function(e,t){return e||t.type===n},!1)||(t.push({type:n,color:"#ffffff",size:10}),this.settings.set_conditional(e,t))}.bind(this))}.bind(this))}.bind(this)),this.callback_manager=C(),null!==this.options.first_load_callback&&this.callback_manager.set("first_load",this.options.first_load_callback),this.load_model(this.model_data,!1),this.load_map(this.map_data,!1);var c=this._reaction_check_add_abs();this._update_data(!0,!0),this.settings.status_bus.onValue(function(e){if("accepted"===e){if(this._update_data(!0,!0,["reaction","metabolite"],!1),null!==this.zoom_container){var t=this.settings.get_option("scroll_behavior");this.zoom_container.set_scroll_behavior(t)}null!==this.map&&(this.map.draw_all_nodes(!1),this.map.draw_all_reactions(!0,!1),this.map.select_none())}}.bind(this)),this.callback_manager.run("first_load",this),null!==c&&setTimeout(c,500)}function i(e,t){H.isUndefined(t)&&(t=!0),H.isNull(e)?this.cobra_model=null:this.cobra_model=T.from_cobra_json(e),this.map&&(this.map.cobra_model=this.cobra_model,t&&this._update_data(!0,!1),this.settings.get_option("highlight_missing")&&this.map.draw_all_reactions(!1,!1)),this.callback_manager.run("load_model",null,e,t)}function o(e,t){H.isUndefined(t)&&(t=!0);E.remove_child_nodes(this.selection),this.zoom_container=new S(this.selection,this.options.scroll_behavior,this.options.use_3d_transform,this.options.fill_screen);var n=this.zoom_container.zoomed_sel,r=this.zoom_container.svg;this.map&&this.map.key_manager.toggle(!1),this.map=null!==e?A.from_data(e,r,this.embedded_css,n,this.zoom_container,this.settings,this.cobra_model,this.options.enable_search):new A(r,this.embedded_css,n,this.zoom_container,this.settings,this.cobra_model,this.options.canvas_size_and_loc,this.options.enable_search),this.zoom_container.callback_manager.set("svg_start",function(){this.map.set_status("Drawing ...")}.bind(this)),this.zoom_container.callback_manager.set("svg_finish",function(){this.map.set_status("")}.bind(this)),t&&this._update_data(!1,!0),this.build_input=new z(this.selection,this.map,this.zoom_container,this.settings),this.text_edit_input=new F(this.selection,this.map,this.zoom_container),this.tooltip_container=new q(this.selection,this.map,this.options.tooltip_component,this.zoom_container),this.brush=new O(n,!1,this.map,".canvas-group"),this.map.canvas.callback_manager.set("resize",function(){this.brush.toggle(!0)}.bind(this)),this._setup_modes(this.map,this.brush,this.zoom_container);var i=this.selection.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline"),o=i.append("div"),s=i.append("div"),a=this.selection.append("div");this.search_bar=new D(s,this.map.search_index,this.map),this.search_bar.callback_manager.set("show",function(){this.settings_bar.toggle(!1)}.bind(this));var c=this.selection.append("div"),u=function(e,t){var n=this.options[e+"_styles"];if(t&&-1===n.indexOf("abs"))n.push("abs");else if(!t){var r=n.indexOf("abs");-1!==r&&(this.options[e+"_styles"]=n.slice(0,r).concat(n.slice(r+1)))}this._update_data(!1,!0,e)}.bind(this);this.settings_bar=new P(c,this.settings,this.map,u),this.settings_bar.callback_manager.set("show",function(){this.search_bar.toggle(!1)}.bind(this));var l=this._get_keys(this.map,this.zoom_container,this.search_bar,this.settings_bar,this.options.enable_editing,this.options.full_screen_button);if(this.map.key_manager.assigned_keys=l,this.map.key_manager.input_list=[this.build_input,this.search_bar,this.settings_bar,this.text_edit_input],this.map.key_manager.update(),this.map.key_manager.toggle(this.options.enable_keys),"all"===this.options.menu&&(this.options.ignore_bootstrap?console.error("Cannot create the dropdown menus if ignore_bootstrap = true"):this._set_up_menu(o,this.map,this.map.key_manager,l,this.options.enable_editing,this.options.enable_keys,this.options.full_screen_button)),this._set_up_button_panel(a,l,this.options.enable_editing,this.options.enable_keys,this.options.full_screen_button,this.options.menu,this.options.ignore_bootstrap),this.options.zoom_to_element){var d=this.options.zoom_to_element.type,h=this.options.zoom_to_element.id;if(H.isUndefined(d)||-1===["reaction","node"].indexOf(d))throw new Error('zoom_to_element type must be "reaction" or "node"');if(H.isUndefined(h))throw new Error("zoom_to_element must include id");"reaction"===d?this.map.zoom_to_reaction(h):"node"===d&&this.map.zoom_to_node(h)}else if(null!==e)this.map.zoom_extent_canvas();else if(null!==this.options.starting_reaction&&null!==this.cobra_model){var f=this.zoom_container.get_size(),_={x:f.width/2,y:f.height/4};this.map.new_reaction_from_scratch(this.options.starting_reaction,_,90),this.map.zoom_extent_nodes()}else this.map.zoom_extent_canvas();this._setup_status(this.selection,this.map);this._setup_quick_jump(this.selection),this.options.enable_editing?this.zoom_mode():this.view_mode(),this.options.enable_editing&&this._setup_confirm_before_exit(),this.map.draw_everything()}function s(e){this.search_bar.toggle(!1),this.build_input.toggle("build"==e),this.build_input.direction_arrow.toggle("build"==e),"all"==this.options.menu&&this.options.enable_editing&&this._toggle_direction_buttons("build"==e),this.brush.toggle("brush"==e),this.zoom_container.toggle_pan_drag("zoom"==e||"view"==e),this.map.canvas.toggle_resize("zoom"==e||"brush"==e),"rotate"==e?(this.map.behavior.toggle_selectable_drag(!1),this.map.behavior.toggle_rotation_mode(!0)):(this.map.behavior.toggle_rotation_mode("rotate"==e),this.map.behavior.toggle_selectable_drag("brush"==e)),this.map.behavior.toggle_selectable_click("build"==e||"brush"==e),this.map.behavior.toggle_label_drag("brush"==e),this.map.behavior.toggle_label_mouseover(!0),this.map.behavior.toggle_text_label_edit("text"==e),this.map.behavior.toggle_bezier_drag("brush"==e),"view"!=e&&"text"!=e||this.map.select_none(),"rotate"==e&&this.map.deselect_text_labels(),this.map.draw_everything()}function a(){this.callback_manager.run("view_mode"),this._set_mode("view")}function c(){this.callback_manager.run("build_mode"),this._set_mode("build")}function u(){this.callback_manager.run("brush_mode"),this._set_mode("brush")}function l(){this.callback_manager.run("zoom_mode"),this._set_mode("zoom")}function d(){this.callback_manager.run("rotate_mode"),this._set_mode("rotate")}function h(){this.callback_manager.run("text_mode"),this._set_mode("text")}function f(){var e=this.options.reaction_styles;return null===this.options.reaction_data||this.has_custom_reaction_styles||H.contains(e,"abs")?null:(this.settings.set_conditional("reaction_styles",e.concat("abs")),function(){this.map.set_status("Visualizing absolute value of reaction data. Change this option in Settings.",5e3)}.bind(this))}function _(e){this.options.reaction_data=e;var t=this._reaction_check_add_abs();this._update_data(!0,!0,"reaction"),t?t():this.map.set_status("")}function p(e,t){t&&this.settings.set_conditional("show_gene_reaction_rules",!1),this.options.gene_data=e,this._update_data(!0,!0,"reaction"),this.map.set_status("")}function m(e){this.options.metabolite_data=e,this._update_data(!0,!0,"metabolite"),this.map.set_status("")}function g(e,t,n,r){function i(e,t,n){var r={};return null!==t&&E.extend(r,t.reactions),null!==n&&E.extend(r,n.reactions,!0),L.import_and_check(e,"gene_data",r)}void 0===n&&(n=["reaction","metabolite"]),void 0===r&&(r=!0);var o,s,a,c=-1!==n.indexOf("metabolite"),u=-1!==n.indexOf("reaction");c&&t&&null!==this.map&&(o=L.import_and_check(this.options.metabolite_data,"metabolite_data"),this.map.apply_metabolite_data_to_map(o),r&&this.map.draw_all_nodes(!1)),u&&(null!==this.options.reaction_data&&t&&null!==this.map?(s=L.import_and_check(this.options.reaction_data,"reaction_data"),this.map.apply_reaction_data_to_map(s),r&&this.map.draw_all_reactions(!1,!1)):null!==this.options.gene_data&&t&&null!==this.map?(a=i(this.options.gene_data,this.cobra_model,this.map),this.map.apply_gene_data_to_map(a),r&&this.map.draw_all_reactions(!1,!1)):t&&null!==this.map&&(this.map.apply_reaction_data_to_map(null),r&&this.map.draw_all_reactions(!1,!1))),this.update_model_timer&&clearTimeout(this.update_model_timer),this.update_model_timer=setTimeout(function(){c&&e&&null!==this.cobra_model&&(o||(o=L.import_and_check(this.options.metabolite_data,"metabolite_data")),this.cobra_model.apply_metabolite_data(o,this.options.metabolite_styles,this.options.metabolite_compare_style)),u&&(null!==this.options.reaction_data&&e&&null!==this.cobra_model?(s||(s=L.import_and_check(this.options.reaction_data,"reaction_data")),this.cobra_model.apply_reaction_data(s,this.options.reaction_styles,this.options.reaction_compare_style)):null!==this.options.gene_data&&e&&null!==this.cobra_model?(a||(a=i(this.options.gene_data,this.cobra_model,this.map)),this.cobra_model.apply_gene_data(a,this.options.reaction_styles,this.options.identifiers_on_map,this.options.reaction_compare_style,this.options.and_method_in_gene_reaction_rule)):e&&null!==this.cobra_model&&this.cobra_model.apply_reaction_data(null,this.options.reaction_styles,this.options.reaction_compare_style)),this.callback_manager.run("update_data",null,e,t,n,r)}.bind(this),5)}function v(e,t,n,r,i,o,s,a){function c(e,t){function n(e){if(!("map_id"in e[0]&&"reactions"in e[1]&&"nodes"in e[1]&&"canvas"in e[1]))throw new Error("Bad map data.")}if(e)return console.warn(e),void this.map.set_status("Error loading map: "+e,2e3);try{n(t),this.load_map(t),this.map.set_status("Loaded map "+t[0].map_name,3e3)}catch(e){console.warn(e),this.map.set_status("Error loading map: "+e,2e3)}}function u(e,t){if(e)return console.warn(e),void this.map.set_status("Error loading model: "+e,2e3);try{this.load_model(t,!0),this.build_input.toggle(!1),"id"in t?this.map.set_status("Loaded model "+t.id,3e3):this.map.set_status("Loaded model (no model id)",3e3)}catch(e){console.warn(e),this.map.set_status("Error loading model: "+e,2e3)}}function l(e,t){if(e)return console.warn(e),void this.map.set_status("Could not parse file as JSON or CSV",2e3);null!==t&&this.set_gene_data(null),this.set_reaction_data(t)}function d(e,t){if(e)return console.warn(e),void this.map.set_status("Could not parse file as JSON or CSV",2e3);this.set_metabolite_data(t)}function h(e,t){if(e)return console.warn(e),void this.map.set_status("Could not parse file as JSON or CSV",2e3);null!==t&&this.set_reaction_data(null),this.settings.set_conditional("show_gene_reaction_rules",!0),this.set_gene_data(t)}var f=e.attr("id","menu").append("ul").attr("class","nav nav-pills");N.dropdown_menu(f,"Map").button({key:r.save,text:"Save map JSON",key_text:o?" (Ctrl+S)":null}).button({text:"Load map JSON",key_text:o?" (Ctrl+O)":null,input:{assign:n.assigned_keys.load,key:"fn",fn:c.bind(this),pre_fn:function(){t.set_status("Loading map ...")},failure_fn:function(){t.set_status("")}}}).button({key:r.save_svg,text:"Export as SVG",key_text:o?" (Ctrl+Shift+S)":null}).button({key:r.save_png,text:"Export as PNG",key_text:o?" (Ctrl+Shift+P)":null}).button({key:r.clear_map,text:"Clear map"});var _=N.dropdown_menu(f,"Model").button({text:"Load COBRA model JSON",key_text:o?" (Ctrl+M)":null,input:{assign:n.assigned_keys.load_model,key:"fn",fn:u.bind(this),pre_fn:function(){t.set_status("Loading model ...")},failure_fn:function(){t.set_status("")}}}).button({id:"convert_map",key:r.convert_map,text:"Update names and gene reaction rules using model"}).button({id:"clear_model",key:r.clear_model,text:"Clear model"}),p=function(){_.dropdown.selectAll("li").classed("escher-disabled",function(e){return("clear_model"==e.id||"convert_map"==e.id)&&null===this.cobra_model||null}.bind(this))}.bind(this);p(),this.callback_manager.set("load_model",p);var m=N.dropdown_menu(f,"Data").button({input:{assign:n.assigned_keys.load_reaction_data,key:"fn",fn:l.bind(this),accept_csv:!0,pre_fn:function(){t.set_status("Loading reaction data ...")},failure_fn:function(){t.set_status("")}},text:"Load reaction data"}).button({key:r.clear_reaction_data,text:"Clear reaction data"}).divider().button({input:{fn:h.bind(this),accept_csv:!0,pre_fn:function(){t.set_status("Loading gene data ...")},failure_fn:function(){t.set_status("")}},text:"Load gene data"}).button({key:r.clear_gene_data,text:"Clear gene data"}).divider().button({input:{fn:d.bind(this),accept_csv:!0,pre_fn:function(){t.set_status("Loading metabolite data ...")},failure_fn:function(){t.set_status("")}},text:"Load metabolite data"}).button({key:r.clear_metabolite_data,text:"Clear metabolite data"}),g=function(){m.dropdown.selectAll("li").classed("escher-disabled",function(e){return e?"Clear reaction data"==e.text&&null===this.options.reaction_data||("Clear gene data"==e.text&&null===this.options.gene_data||("Clear metabolite data"==e.text&&null===this.options.metabolite_data||null)):null}.bind(this))}.bind(this);g(),this.callback_manager.set("update_data",g);var v=N.dropdown_menu(f,"Edit",!0);i?v.button({key:r.zoom_mode,id:"zoom-mode-menu-button",text:"Pan mode",key_text:o?" (Z)":null}).button({key:r.brush_mode,id:"brush-mode-menu-button",text:"Select mode",key_text:o?" (V)":null}).button({key:r.build_mode,id:"docs-mode-menu-button",text:"Add reaction mode",key_text:o?" (N)":null}).button({key:r.rotate_mode,id:"rotate-mode-menu-button",text:"Rotate mode",key_text:o?" (R)":null}).button({key:r.text_mode,id:"text-mode-menu-button",text:"Text mode",key_text:o?" (T)":null}).divider().button({key:r.delete,text:"Delete",key_text:o?" (Del)":null}).button({key:r.undo,text:"Undo",key_text:o?" (Ctrl+Z)":null}).button({key:r.redo,text:"Redo",key_text:o?" (Ctrl+Shift+Z)":null}).button({key:r.toggle_primary,text:"Toggle primary/secondary",key_text:o?" (P)":null}).button({key:r.cycle_primary,text:"Rotate reactant locations",key_text:o?" (C)":null}).button({key:r.select_all,text:"Select all",key_text:o?" (Ctrl+A)":null}).button({key:r.select_none,text:"Select none",key_text:o?" (Ctrl+Shift+A)":null}).button({key:r.invert_selection,text:"Invert selection"}):v.button({key:r.view_mode,id:"view-mode-menu-button",text:"View mode"});var b=N.dropdown_menu(f,"View",!0).button({key:r.zoom_in,text:"Zoom in",key_text:o?" (+)":null}).button({key:r.zoom_out,text:"Zoom out",key_text:o?" (-)":null}).button({key:r.extent_nodes,text:"Zoom to nodes",key_text:o?" (0)":null}).button({key:r.extent_canvas,text:"Zoom to canvas",key_text:o?" (1)":null}).button({key:r.search,text:"Find",key_text:o?" (F)":null});s&&b.button({key:r.full_screen,text:"Full screen",key_text:o?" (2)":null}),i&&(b.button({key:r.toggle_beziers,id:"bezier-button",text:"Show control points",key_text:o?" (B)":null}),t.callback_manager.set("toggle_beziers.button",function(e){f.select("#bezier-button").select(".dropdown-button-text").text((e?"Hide":"Show")+" control points"+(o?" (B)":""))})),b.divider().button({key:r.show_settings,text:"Settings",key_text:o?" (,)":null}),f.append("a").attr("class","help-button").attr("target","#").attr("href","https://escher.readthedocs.org").text("?");var y=function(e){$(this.selection.node()).find("#"+e).button("toggle"),["zoom-mode-menu-button","brush-mode-menu-button","docs-mode-menu-button","rotate-mode-menu-button","view-mode-menu-button","text-mode-menu-button"].forEach(function(t){var n=t.replace("-menu","");this.selection.select("#"+t).select("span").classed("glyphicon",n==e).classed("glyphicon-ok",n==e)}.bind(this))};this.callback_manager.set("zoom_mode",y.bind(this,"zoom-mode-button")),this.callback_manager.set("brush_mode",y.bind(this,"brush-mode-button")),this.callback_manager.set("build_mode",y.bind(this,"docs-mode-button")),this.callback_manager.set("rotate_mode",y.bind(this,"rotate-mode-button")),this.callback_manager.set("view_mode",y.bind(this,"view-mode-button")),this.callback_manager.set("text_mode",y.bind(this,"text-mode-button"))}function b(e,t,n,r,i,o,s){var a=e.append("ul").attr("class","nav nav-pills nav-stacked").attr("id","button-panel");if(N.individual_button(a.append("li"),{key:t.zoom_in,text:"+",icon:"glyphicon glyphicon-plus-sign",tooltip:"Zoom in",key_text:r?" (+)":null,ignore_bootstrap:s}),N.individual_button(a.append("li"),{key:t.zoom_out,text:"–",icon:"glyphicon glyphicon-minus-sign",tooltip:"Zoom out",key_text:r?" (-)":null,ignore_bootstrap:s}),N.individual_button(a.append("li"),{key:t.extent_canvas,text:"↔",icon:"glyphicon glyphicon-resize-full",tooltip:"Zoom to canvas",key_text:r?" (1)":null,ignore_bootstrap:s}),i&&N.individual_button(a.append("li"),{key:t.full_screen,text:"▣",icon:"glyphicon glyphicon-fullscreen",tooltip:"Full screen",key_text:r?" (2)":null,ignore_bootstrap:s}),n&&"all"===o){N.radio_button_group(a.append("li")).button({key:t.zoom_mode,id:"zoom-mode-button",text:"Z",icon:"glyphicon glyphicon-move",tooltip:"Pan mode",key_text:r?" (Z)":null,ignore_bootstrap:s}).button({key:t.brush_mode,text:"V",id:"brush-mode-button",icon:"glyphicon glyphicon-hand-up",tooltip:"Select mode",key_text:r?" (V)":null,ignore_bootstrap:s}).button({key:t.build_mode,text:"N",id:"docs-mode-button",icon:"glyphicon glyphicon-plus",tooltip:"Add reaction mode",key_text:r?" (N)":null,ignore_bootstrap:s}).button({key:t.rotate_mode,text:"R",id:"rotate-mode-button",icon:"glyphicon glyphicon-repeat",tooltip:"Rotate mode",key_text:r?" (R)":null,ignore_bootstrap:s}).button({key:t.text_mode,text:"T",id:"text-mode-button",icon:"glyphicon glyphicon-font",tooltip:"Text mode",key_text:r?" (T)":null,ignore_bootstrap:s}),this.direction_buttons=a.append("li");N.button_group(this.direction_buttons).button({key:t.direction_arrow_left,text:"←",icon:"glyphicon glyphicon-arrow-left",tooltip:"Direction arrow (←)",ignore_bootstrap:s}).button({key:t.direction_arrow_right,text:"→",icon:"glyphicon glyphicon-arrow-right",tooltip:"Direction arrow (→)",ignore_bootstrap:s}).button({key:t.direction_arrow_up,text:"↑",icon:"glyphicon glyphicon-arrow-up",tooltip:"Direction arrow (↑)",ignore_bootstrap:s}).button({key:t.direction_arrow_down,text:"↓",icon:"glyphicon glyphicon-arrow-down",tooltip:"Direction arrow (↓)",ignore_bootstrap:s})}}function y(e){H.isUndefined(e)&&(e="block"===!this.direction_buttons.style("display")),this.direction_buttons.style("display",e?"block":"none")}function w(e,t){var n=e.append("div").attr("id","status");return t.callback_manager.set("set_status",function(e){n.html(e)}),n}function x(e){var t=function(e,t,n){if(this.options.enable_editing&&!this.options.never_ask_before_quit&&!confirm("You will lose any unsaved changes.\n\nAre you sure you want to switch maps?"))return void(n&&n(!1));this.map.set_status("Loading map "+e+" ...");var r=E.name_to_url(e,t);W(r,function(e,t){if(e)return console.warn("Could not load data: "+e),this.map.set_status("Could not load map",2e3),void(n&&n(!1));n&&n(!0),this.load_map(t),this.map.set_status("")}.bind(this))}.bind(this);this.quick_jump=U(e,t)}function j(e,t,n){var r={};e.callback_manager.set("start_rotation",function(){r.brush=t.enabled,t.toggle(!1),r.zoom=n.zoom_on,n.toggle_pan_drag(!1),r.selectable_mousedown=null!==e.behavior.selectable_mousedown,e.behavior.toggle_selectable_click(!1),r.label_mouseover=null!==e.behavior.label_mouseover,e.behavior.toggle_label_mouseover(!1)}),e.callback_manager.set("end_rotation",function(){t.toggle(r.brush),n.toggle_pan_drag(r.zoom),e.behavior.toggle_selectable_click(r.selectable_mousedown),e.behavior.toggle_label_mouseover(r.label_mouseover),r={}})}function k(e,t,n,r,i,o){var s={save:{key:"ctrl+s",target:e,fn:e.save},save_svg:{key:"ctrl+shift+s",target:e,fn:e.save_svg},save_png:{key:"ctrl+shift+p",target:e,fn:e.save_png},load:{key:"ctrl+o",fn:null},convert_map:{target:e,fn:e.convert_map},clear_map:{target:e,fn:e.clear_map},load_model:{key:"ctrl+m",fn:null},clear_model:{fn:this.load_model.bind(this,null,!0)},load_reaction_data:{fn:null},clear_reaction_data:{target:this,fn:function(){this.set_reaction_data(null)}},load_metabolite_data:{fn:null},clear_metabolite_data:{target:this,fn:function(){this.set_metabolite_data(null)}},load_gene_data:{fn:null},clear_gene_data:{target:this,fn:function(){this.set_gene_data(null,!0)}},zoom_in_ctrl:{key:"ctrl+=",target:t,fn:t.zoom_in},zoom_in:{key:"=",target:t,fn:t.zoom_in,ignore_with_input:!0},zoom_out_ctrl:{key:"ctrl+-",target:t,fn:t.zoom_out},zoom_out:{key:"-",target:t,fn:t.zoom_out,ignore_with_input:!0},extent_nodes_ctrl:{key:"ctrl+0",target:e,fn:e.zoom_extent_nodes},extent_nodes:{key:"0",target:e,fn:e.zoom_extent_nodes,ignore_with_input:!0},extent_canvas_ctrl:{key:"ctrl+1",target:e,fn:e.zoom_extent_canvas},extent_canvas:{key:"1",target:e,fn:e.zoom_extent_canvas,ignore_with_input:!0},search_ctrl:{key:"ctrl+f",fn:n.toggle.bind(n,!0)},search:{key:"f",fn:n.toggle.bind(n,!0),ignore_with_input:!0},view_mode:{target:this,fn:this.view_mode,ignore_with_input:!0},show_settings_ctrl:{key:"ctrl+,",target:r,fn:r.toggle},show_settings:{key:",",target:r,fn:r.toggle,ignore_with_input:!0}};return o&&E.extend(s,{full_screen_ctrl:{key:"ctrl+2",target:e,fn:e.full_screen},full_screen:{key:"2",target:e,fn:e.full_screen,ignore_with_input:!0}}),i&&E.extend(s,{build_mode:{key:"n",target:this,fn:this.build_mode,ignore_with_input:!0},zoom_mode:{key:"z",target:this,fn:this.zoom_mode,ignore_with_input:!0},brush_mode:{key:"v",target:this,fn:this.brush_mode,ignore_with_input:!0},rotate_mode:{key:"r",target:this,fn:this.rotate_mode,ignore_with_input:!0},text_mode:{key:"t",target:this,fn:this.text_mode,ignore_with_input:!0},toggle_beziers:{key:"b",target:e,fn:e.toggle_beziers,ignore_with_input:!0},delete_ctrl:{key:"ctrl+backspace",target:e,fn:e.delete_selected,ignore_with_input:!0},delete:{key:"backspace",target:e,fn:e.delete_selected,ignore_with_input:!0},delete_del:{key:"del",target:e,fn:e.delete_selected,ignore_with_input:!0},toggle_primary:{key:"p",target:e,fn:e.toggle_selected_node_primary,ignore_with_input:!0},cycle_primary:{key:"c",target:e,fn:e.cycle_primary_node,ignore_with_input:!0},direction_arrow_right:{key:"right",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.right,ignore_with_input:!0},direction_arrow_down:{key:"down",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.down,ignore_with_input:!0},direction_arrow_left:{key:"left",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.left,ignore_with_input:!0},direction_arrow_up:{key:"up",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.up,ignore_with_input:!0},undo:{key:"ctrl+z",target:e.undo_stack,fn:e.undo_stack.undo},redo:{key:"ctrl+shift+z",target:e.undo_stack,fn:e.undo_stack.redo},select_all:{key:"ctrl+a",target:e,fn:e.select_all},select_none:{key:"ctrl+shift+a",target:e,fn:e.select_none},invert_selection:{target:e,fn:e.invert_selection}}),s}function M(){window.onbeforeunload=function(e){return e=e||window.event,this.options.never_ask_before_quit?null:"You will lose any unsaved changes."}.bind(this)}var E=n("./node_modules/escher-vis/js/src/utils.js"),z=n("./node_modules/escher-vis/js/src/BuildInput.js"),S=n("./node_modules/escher-vis/js/src/ZoomContainer.js"),A=n("./node_modules/escher-vis/js/src/Map.js"),T=n("./node_modules/escher-vis/js/src/CobraModel.js"),O=n("./node_modules/escher-vis/js/src/Brush.js"),C=n("./node_modules/escher-vis/js/src/CallbackManager.js"),N=n("./node_modules/escher-vis/js/src/ui.js"),D=n("./node_modules/escher-vis/js/src/SearchBar.js"),I=n("./node_modules/escher-vis/js/src/Settings.js"),P=n("./node_modules/escher-vis/js/src/SettingsMenu.js"),F=n("./node_modules/escher-vis/js/src/TextEditInput.js"),U=n("./node_modules/escher-vis/js/src/QuickJump.js"),L=n("./node_modules/escher-vis/js/src/data_styles.js"),R=n("./node_modules/escher-vis/js/src/inline.js").builder_embed,q=n("./node_modules/escher-vis/js/src/TooltipContainer.js"),B=n("./node_modules/escher-vis/js/src/Tooltip.js").DefaultTooltip,H=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),V=n("./node_modules/d3-selection/index.js").select,Y=n("./node_modules/d3-selection/index.js").selection,W=n("./node_modules/d3-request/index.js").json,X=E.make_class();X.prototype={init:r,load_map:o,load_model:i,_set_mode:s,view_mode:a,build_mode:c,brush_mode:u,zoom_mode:l,rotate_mode:d,text_mode:h,_reaction_check_add_abs:f,set_reaction_data:_,set_metabolite_data:m,set_gene_data:p,_update_data:g,_toggle_direction_buttons:y,_set_up_menu:v,_set_up_button_panel:b,_setup_status:w,_setup_quick_jump:x,_setup_modes:j,_get_keys:k,_setup_confirm_before_exit:M},e.exports=X},"./node_modules/escher-vis/js/src/CallbackManager.js":function(e,t,n){function r(){}function i(e,t){return void 0===this.callbacks&&(this.callbacks={}),void 0===this.callbacks[e]&&(this.callbacks[e]=[]),this.callbacks[e].push(t),this}function o(e){return void 0!==this.callbacks&&0!=Object.keys(this.callbacks).length||console.warn("No callbacks to remove"),delete this.callbacks[e],this}function s(e,t){if(c.isUndefined(this.callbacks))return this;c.isUndefined(t)&&(t=null);var n=Array.prototype.slice.call(arguments,2);for(var r in this.callbacks){r.split(".")[0]==e&&this.callbacks[r].forEach(function(e){e.apply(t,n)})}return this}var a=n("./node_modules/escher-vis/js/src/utils.js"),c=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),u=a.make_class();u.prototype={init:r,set:i,remove:o,run:s},e.exports=u},"./node_modules/escher-vis/js/src/Canvas.js":function(e,t,n){function r(e,t){this.selection=e,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.resize_enabled=!0,this.callback_manager=new c,this.setup()}function i(e){d.isUndefined(e)&&(e=!this.resize_enabled),e?this.selection.selectAll(".drag-rect").style("pointer-events","auto"):this.selection.selectAll(".drag-rect").style("pointer-events","none")}function o(){function e(){l.event.sourceEvent.stopPropagation()}function t(e,t,n){var r=a.d3_transform_catch(n),i=r.translate;return null!==e&&(i[0]=e),null!==t&&(i[1]=t),"translate("+i+")"}function n(e){var n=e.x;e.x=Math.min(e.x+s.width-c/2,l.event.x),s.x=e.x,s.width=s.width+(n-e.x),b.attr("transform",function(e){return t(e.x-c/2,null,b.attr("transform"))}),f.attr("transform",function(e){return t(e.x,null,f.attr("transform"))}).attr("width",s.width*d),_.attr("transform",function(e){return t(e.x,null,_.attr("transform"))}).attr("width",s.width),w.attr("transform",function(e){return t(e.x+c/2,null,w.attr("transform"))}).attr("width",s.width-c),x.attr("transform",function(e){return t(e.x+c/2,null,x.attr("transform"))}).attr("width",s.width-c),s.callback_manager.run("resize")}function r(e){l.event.sourceEvent.stopPropagation();var n=Math.max(e.x+c/2,e.x+s.width+l.event.dx);s.width=n-e.x,y.attr("transform",function(e){return t(n-c/2,null,y.attr("transform"))}),f.attr("width",s.width*d),_.attr("width",s.width),w.attr("width",s.width-c),x.attr("width",s.width-c),s.callback_manager.run("resize")}function i(e){l.event.sourceEvent.stopPropagation();var n=e.y;e.y=Math.min(e.y+s.height-c/2,l.event.y),s.y=e.y,s.height=s.height+(n-e.y),w.attr("transform",function(e){return t(null,e.y-c/2,w.attr("transform"))}),f.attr("transform",function(e){return t(null,e.y,f.attr("transform"))}).attr("width",s.height*d),_.attr("transform",function(e){return t(null,e.y,_.attr("transform"))}).attr("height",s.height),b.attr("transform",function(e){return t(null,e.y+c/2,b.attr("transform"))}).attr("height",s.height-c),y.attr("transform",function(e){return t(null,e.y+c/2,y.attr("transform"))}).attr("height",s.height-c),s.callback_manager.run("resize")}function o(e){l.event.sourceEvent.stopPropagation();var n=Math.max(e.y+c/2,e.y+s.height+l.event.dy);s.height=n-e.y,x.attr("transform",function(e){return t(null,n-c/2,x.attr("transform"))}),f.attr("height",s.height*d),_.attr("height",s.height),b.attr("height",s.height-c),y.attr("height",s.height-c),s.callback_manager.run("resize")}var s=this,c=(this.width,this.height,100),d=10,h=this.selection.append("g").classed("canvas-group",!0).data([{x:this.x,y:this.y}]),f=h.append("rect").attr("id","mouse-node").attr("width",this.width*d).attr("height",this.height*d).attr("transform","translate("+[s.x-this.width*d/2,s.y-this.height*d/2]+")").attr("pointer-events","all");this.mouse_node=f;var _=h.append("rect").attr("id","canvas").attr("width",this.width).attr("height",this.height).attr("transform","translate("+[s.x,s.y]+")"),p=u().on("start",e).on("drag",r),m=u().on("start",e).on("drag",n),g=u().on("start",e).on("drag",i),v=u().on("start",e).on("drag",o),b=h.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x-c/2,e.y+c/2]+")"}).attr("height",this.height-c).attr("id","dragleft").attr("width",c).attr("cursor","ew-resize").classed("resize-rect",!0).call(m),y=h.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+s.width-c/2,e.y+c/2]+")"}).attr("id","dragright").attr("height",this.height-c).attr("width",c).attr("cursor","ew-resize").classed("resize-rect",!0).call(p),w=h.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+c/2,e.y-c/2]+")"}).attr("height",c).attr("id","dragtop").attr("width",this.width-c).attr("cursor","ns-resize").classed("resize-rect",!0).call(g),x=h.append("rect").classed("drag-rect",!0).attr("transform",function(e){return"translate("+[e.x+c/2,e.y+s.height-c/2]+")"}).attr("id","dragbottom").attr("height",c).attr("width",this.width-c).attr("cursor","ns-resize").classed("resize-rect",!0).call(v)}function s(){return{x:this.x,y:this.y,width:this.width,height:this.height}}var a=n("./node_modules/escher-vis/js/src/utils.js"),c=n("./node_modules/escher-vis/js/src/CallbackManager.js"),u=n("./node_modules/d3-drag/index.js").drag,l=n("./node_modules/d3-selection/index.js"),d=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),h=a.make_class();h.prototype={init:r,toggle_resize:i,setup:o,size_and_location:s},e.exports=h},"./node_modules/escher-vis/js/src/CobraModel.js":function(e,t,n){function r(e,t){var n=function(e){return 1==e?"":String(e)+" "},r=[],i=[];for(var o in e){var s=e[o];s>0?i.push(n(s)+o):r.push(n(Math.abs(s))+o)}var a=r.join(" + ");return a+=t?" ↔ ":" → ",a+=i.join(" + ")}function i(e){if(!e.reactions||!e.metabolites)throw new Error("Bad model data.");for(var t={},n=0,r=e.genes.length;n<r;n++){var i=e.genes[n],o=i.id;t[o]=i}var s=new d;s.reactions={};for(var n=0,r=e.reactions.length;n<r;n++){var i=e.reactions[n],o=i.id,a=u.clone(i);if(delete a.id,a.bigg_id=o,a.data_string="",a.genes=[],a.reversibility=a.lower_bound<0&&a.upper_bound>0,a.upper_bound<=0&&a.lower_bound<0)for(var c in a.metabolites)a.metabolites[c]=-a.metabolites[c];if(delete a.lower_bound,delete a.upper_bound,"gene_reaction_rule"in a){l.genes_for_gene_reaction_rule(a.gene_reaction_rule).forEach(function(e){if(e in t){var n=u.clone(t[e]);n.bigg_id=n.id,delete n.id,a.genes.push(n)}else console.warn("Could not find gene for gene_id "+e)})}s.reactions[o]=a}s.metabolites={};for(var n=0,r=e.metabolites.length;n<r;n++){var i=e.metabolites[n],o=i.id,h=u.clone(i);delete h.id,h.bigg_id=o,s.metabolites[o]=h}return s}function o(){this.reactions={},this.metabolites={}}function s(e,t,n){l.apply_reaction_data_to_reactions(this.reactions,e,t,n)}function a(e,t,n){l.apply_metabolite_data_to_nodes(this.metabolites,e,t,n)}function c(e,t,n,r,i){l.apply_gene_data_to_reactions(this.reactions,e,t,n,r,i)}var u=n("./node_modules/escher-vis/js/src/utils.js"),l=n("./node_modules/escher-vis/js/src/data_styles.js"),d=u.make_class();d.from_cobra_json=i,d.build_reaction_string=r,d.prototype={init:o,apply_reaction_data:s,apply_metabolite_data:a,apply_gene_data:c},e.exports=d},"./node_modules/escher-vis/js/src/DataMenu.js":function(e,t,n){var r=n("./node_modules/escher-vis/js/src/utils.js"),i=n("./node_modules/d3-request/index.js").json;e.exports=function(e){function t(e,t,r,i,s){r.node().addEventListener("change",function(){n(e,this.value,s,i)},!1);var a=t[0];o(t,r),n(e,a,s,i)}function n(e,t,n,i){r.load_the_file(e,t,function(e,t){if(e)return console.warn(e);s.data=t,i&&i(t)})}function o(e,t){t.selectAll(".menu-option").data(e).enter().append("option").attr("value",function(e){return e}).text(function(e){return e}),t.node().focus()}var s=r.set_options(e,{selection:null,getdatafiles:null,datafiles:null,update_callback:null,target:null});if(null===s.selection)throw new Error("No selection provided for DataMenu");var a=s.selection.select(".data-menu");a.empty()&&(a=s.selection.append("div").attr("class","data-menu"));var c=a.append("form").append("select").attr("class","dropdown-menu");return s.getdatafiles?(s.datafiles&&console.warn("DataMenu: getdatafiles option overrides datafiles"),i(s.getdatafiles,function(e,n){return e?console.warn(e):(t(s.target,n.data,c,s.update_callback,s.selection),null)})):s.datafiles?t(s.target,s.datafiles,c,s.update_callback,s.selection):console.warn("DataMenu: No datafiles given"),{update:o}}},"./node_modules/escher-vis/js/src/DirectionArrow.js":function(e,t,n){function r(e){function t(){return"M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z"}this.arrow_container=e.append("g").attr("id","direction-arrow-container").attr("transform","translate(0,0)rotate(0)"),this.arrow=this.arrow_container.append("path").classed("direction-arrow",!0).attr("d",t()).style("visibility","hidden").attr("transform","translate(30,0)scale(2.5)"),this.sel=e,this.center={x:0,y:0},this._setup_drag(),this.dragging=!1,this.is_visible=!1,this.show()}function i(e){this.center=e;var t=m.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+e.x+","+e.y+")rotate("+t.rotate+")")}function o(e){var t=m.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+t.translate+")rotate("+e+")")}function s(e){var t=m.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+t.translate+")rotate("+(t.rotate+e)+")")}function a(){return m.d3_transform_catch(this.arrow_container.attr("transform")).rotate}function c(e){this.is_visible=void 0===e?!this.is_visible:e,this.arrow.style("visibility",this.is_visible?"visible":"hidden")}function u(){this.toggle(!0)}function l(){this.toggle(!1)}function d(){this.set_rotation(0)}function h(){this.set_rotation(90)}function f(){this.set_rotation(180)}function _(){this.set_rotation(270)}function p(){var e=g().on("start",function(e){b.event.sourceEvent.stopPropagation(),this.dragging=!0}.bind(this)).on("drag.direction_arrow",function(e){var t={x:b.event.dx,y:b.event.dy},n={x:v(this.sel.node())[0],y:v(this.sel.node())[1]},r=m.angle_for_event(t,n,this.center);this.displace_rotation(m.to_degrees(r))}.bind(this)).on("end",function(e){setTimeout(function(){this.dragging=!1}.bind(this),200)}.bind(this));this.arrow_container.call(e)}var m=n("./node_modules/escher-vis/js/src/utils.js"),g=n("./node_modules/d3-drag/index.js").drag,v=n("./node_modules/d3-selection/index.js").mouse,b=n("./node_modules/d3-selection/index.js"),y=m.make_class();y.prototype={init:r,set_location:i,set_rotation:o,displace_rotation:s,get_rotation:a,toggle:c,show:u,hide:l,right:d,left:f,up:_,down:h,_setup_drag:p},e.exports=y},"./node_modules/escher-vis/js/src/Draw.js":function(e,t,n){function r(e,t){this.behavior=e,this.settings=t,this.callback_manager=new w}function i(e){var t=e.append("rect").attr("class","membrane");return this.callback_manager.run("create_membrane",this,e),t}function o(e){e.attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).style("stroke-width",function(e){return 10}).attr("rx",function(e){return 20}).attr("ry",function(e){return 20}),this.callback_manager.run("update_membrane",this,e)}function s(e){var t=e.append("g").attr("id",function(e){return"r"+e.reaction_id}).attr("class","reaction");return this.create_reaction_label(t),this.callback_manager.run("create_reaction",this,e),t}function a(e,t,n,r,i,o){e.select(".reaction-label-group").call(function(e){return this.update_reaction_label(e,o)}.bind(this)),b.draw_a_nested_object(e,".segment-group","segments","segment_id",this.create_segment.bind(this),function(e){return this.update_segment(e,t,n,r,i,o)}.bind(this),function(e){e.remove()}),this.callback_manager.run("update_reaction",this,e)}function c(e,t){var n=e.append("g").attr("class","reaction-label-group");return n.append("text").attr("class","reaction-label label"),n.append("g").attr("class","all-genes-label-group"),this.callback_manager.run("create_reaction_label",this,e),n}function u(e,t){var n=(x(".4g"),this.settings.get_option("identifiers_on_map")),r=this.settings.get_option("reaction_styles"),i=this.settings.get_option("show_gene_reaction_rules"),o=this.settings.get_option("hide_all_labels"),s=this.settings.get_option("gene_font_size"),a=this.behavior.label_mousedown,c=this.behavior.label_mouseover,u=this.behavior.label_mouseout;e.attr("transform",function(e){return"translate("+e.label_x+","+e.label_y+")"}).call(this.behavior.turn_off_drag).call(this.behavior.reaction_label_drag);var l=e.select(".reaction-label").attr("visibility",o?"hidden":"visible");o||l.text(function(e){var i=e[n];return t&&-1!==r.indexOf("text")&&(i+=" "+e.data_string),i}).on("mousedown",a).on("mouseover",function(e){c("reaction_label",e)}).on("mouseout",u);var d=function(e,t){return e+1.5*s*(t+1)},h=e.select(".all-genes-label-group").selectAll(".gene-label-group").data(function(e){var t="gene_string"in e&&null!==e.gene_string&&i&&!o&&-1!==r.indexOf("text"),s="gene_reaction_rule"in e&&null!==e.gene_reaction_rule&&i&&!o;if(t)return console.warn("Showing gene_string. See TODO in source."),e.gene_string;if(s){var a=y.gene_string_for_data(e.gene_reaction_rule,null,e.genes,null,n,null);return a.forEach(function(t,n){t.label_x=e.label_x,t.label_y=d(e.label_y,n)}),a}return[]}),f=h.enter().append("g").attr("class","gene-label-group");f.append("text").attr("class","gene-label").style("font-size",s+"px").on("mousedown",a).on("mouseover",function(e){c("gene_label",e)}).on("mouseout",u);var _=f.merge(h);_.attr("transform",function(e,t){return"translate(0, "+d(0,t)+")"}),_.select("text").text(function(e){return e.text}),h.exit().remove(),this.callback_manager.run("update_reaction_label",this,e)}function l(e){var t=e.append("g").attr("class","segment-group").attr("id",function(e){return"s"+e.segment_id});return t.append("path").attr("class","segment"),t.append("g").attr("class","arrowheads"),t.append("g").attr("class","stoichiometry-labels"),this.callback_manager.run("create_segment",this,e),t}function d(e,t,n,r,i,o){var s=this.settings.get_option("reaction_styles"),a=o&&-1!==s.indexOf("size"),c=o&&-1!==s.indexOf("color"),u=this.settings.get_option("reaction_no_data_size"),l=this.settings.get_option("reaction_no_data_color"),d=this.settings.get_option("highlight_missing"),h=this.settings.get_option("hide_secondary_metabolites"),f=this.settings.get_option("primary_metabolite_radius"),_=this.settings.get_option("secondary_metabolite_radius"),p=function(e,n){var r=20,i=13;return n&&(i=null===e?u:t.reaction_size(e),isNaN(i)&&(i=u),r=2*i),{width:r,height:i}},m=function(e,t,n,r){var i=t||n>0?e.height:0;return(r?f:_)+i+10};e.selectAll(".segment").datum(function(){return this.parentNode.__data__}).style("visibility",function(e){var t=r[e.from_node_id],n=r[e.to_node_id];return h&&("metabolite"===n.node_type&&!n.node_is_primary||"metabolite"===t.node_type&&!t.node_is_primary)?"hidden":null}).attr("d",function(e){if(null===e.from_node_id||null===e.to_node_id)return null;var t=r[e.from_node_id],n=r[e.to_node_id],i=e.b1,o=e.b2;if("metabolite"===t.node_type){var s=p(e.data,a),c=m(s,e.reversibility,e.from_node_coefficient,t.node_is_primary),u=null===i?n:i;t=v(c,t,u,"start")}if("metabolite"==n.node_type){var s=p(e.data,a),c=m(s,e.reversibility,e.to_node_coefficient,n.node_is_primary),u=null===o?t:o;n=v(c,u,n,"end")}var l="M"+t.x+","+t.y+" ";return null!==i&&null!==o&&(l+="C"+i.x+","+i.y+" "+o.x+","+o.y+" "),l+=n.x+","+n.y}).style("stroke",function(e){var r=this.parentNode.parentNode.__data__.bigg_id;if(d&&null!==n&&!(r in n.reactions))return"red";if(c){var i=e.data;return null===i?l:t.reaction_color(i)}return null}).style("stroke-width",function(e){if(a){var n=e.data;return null===n?u:t.reaction_size(n)}return null});var g=e.select(".arrowheads").selectAll(".arrowhead").data(function(e){var t=[],n=r[e.from_node_id],i=e.b1,o=r[e.to_node_id],s=e.b2;if(h&&("metabolite"===o.node_type&&!o.node_is_primary||"metabolite"===n.node_type&&!n.node_is_primary))return t;if("metabolite"===n.node_type&&(e.reversibility||e.from_node_coefficient>0)){var c=p(e.data,a),u=m(c,e.reversibility,e.from_node_coefficient,n.node_is_primary),l=null===i?o:i,d=b.to_degrees(b.get_angle([n,l]))+90,f=v(u,n,l,"start");t.push({data:e.data,x:f.x,y:f.y,size:c,rotation:d,show_arrowhead_flux:e.from_node_coefficient<0===e.reverse_flux||0===e.data})}if("metabolite"===o.node_type&&(e.reversibility||e.to_node_coefficient>0)){var c=p(e.data,a),u=m(c,e.reversibility,e.to_node_coefficient,o.node_is_primary),l=null===s?n:s,d=b.to_degrees(b.get_angle([o,l]))+90,f=v(u,l,o,"end");t.push({data:e.data,x:f.x,y:f.y,size:c,rotation:d,show_arrowhead_flux:e.to_node_coefficient<0===e.reverse_flux||0===e.data})}if(e.unconnected_segment_with_arrow){var c=p(e.data,a),l=o,d=b.to_degrees(b.get_angle([n,l]))+90;t.push({data:e.data,x:n.x,y:n.y,size:c,rotation:d,show_arrowhead_flux:e.to_node_coefficient<0===e.reverse_flux||0===e.data})}return t});g.enter().append("path").classed("arrowhead",!0).merge(g).attr("d",function(e){return"M"+[-e.size.width/2,0]+" L"+[0,e.size.height]+" L"+[e.size.width/2,0]+" Z"}).attr("transform",function(e){return"translate("+e.x+","+e.y+")rotate("+e.rotation+")"}).style("fill",function(e){if(c){if(e.show_arrowhead_flux){var n=e.data;return null===n?l:t.reaction_color(n)}return"#FFFFFF"}return null}).style("stroke",function(e){if(c){var n=e.data;return null===n?l:t.reaction_color(n)}return null}),g.exit().remove();var y=e.select(".stoichiometry-labels").selectAll(".stoichiometry-label").data(function(e){var t=[],n=r[e.from_node_id],i=e.b1,o=r[e.to_node_id],s=e.b2,c=1.5;if(h&&("metabolite"==o.node_type&&!o.node_is_primary||"metabolite"==n.node_type&&!n.node_is_primary))return t;if("metabolite"===n.node_type&&1!=Math.abs(e.from_node_coefficient)){var u=p(e.data,a),l=c*m(u,!1,0,o.node_is_primary),d=null===i?o:i;d=b.c_plus_c(d,b.rotate_coords(d,.5,n));var f=v(l,n,d,"start");f=b.c_plus_c(f,{x:0,y:7}),t.push({coefficient:Math.abs(e.from_node_coefficient),x:f.x,y:f.y,data:e.data})}if("metabolite"===o.node_type&&1!==Math.abs(e.to_node_coefficient)){var u=p(e.data,a),l=c*m(u,!1,0,o.node_is_primary),d=null===s?n:s;d=b.c_plus_c(d,b.rotate_coords(d,.5,o));var f=v(l,d,o,"end");f=b.c_plus_c(f,{x:0,y:7}),t.push({coefficient:Math.abs(e.to_node_coefficient),x:f.x,y:f.y,data:e.data})}return t});y.enter().append("text").attr("class","stoichiometry-label").attr("text-anchor","middle").merge(y).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).text(function(e){return e.coefficient}).style("fill",function(e){if(c){var n=e.data;return null===n?l:t.reaction_color(n)}return null}),y.exit().remove(),this.callback_manager.run("update_segment",this,e)}function h(e){var t=e.append("g").attr("id",function(e){return e.bezier_id}).attr("class",function(e){return"bezier"});return t.append("path").attr("class","connect-line"),t.append("circle").attr("class",function(e){return"bezier-circle "+e.bezier}).style("stroke-width",String(1)+"px").attr("r",String(7)+"px"),this.callback_manager.run("create_bezier",this,e),t}function f(e,t,n,r,i,o,s){var a=this.settings.get_option("hide_secondary_metabolites");if(!t)return void e.attr("visibility","hidden");e.attr("visibility","visible"),e.style("visibility",function(e){var t=s[e.reaction_id].segments[e.segment_id],n=o[t.from_node_id],r=o[t.to_node_id];return a&&("metabolite"==r.node_type&&!r.node_is_primary||"metabolite"==n.node_type&&!n.node_is_primary)?"hidden":null}),e.select(".bezier-circle").call(this.behavior.turn_off_drag).call(n).on("mouseover",r).on("mouseout",i).attr("transform",function(e){return null==e.x||null==e.y?"":"translate("+e.x+","+e.y+")"}),e.select(".connect-line").attr("d",function(e){var t,n=s[e.reaction_id].segments[e.segment_id];return t="b1"==e.bezier?o[n.from_node_id]:o[n.to_node_id],null==e.x||null==e.y||null==t.x||null==t.y?"":"M"+e.x+", "+e.y+" "+t.x+","+t.y}),this.callback_manager.run("update_bezier",this,e)}function _(e,t,n){var r=e.append("g").attr("class","node").attr("id",function(e){return"n"+e.node_id});return r.append("circle").attr("class",function(e){var t="node-circle";return null!==e.node_type&&(t+=" "+e.node_type+"-circle"),t}),r.filter(function(e){return"metabolite"===e.node_type}).append("text").attr("class","node-label label"),this.callback_manager.run("create_node",this,e),r}function p(e,t,n,r,i,o,s,a,c){function u(e,t){return"metabolite"===e.node_type&&t&&!e.node_is_primary}var l=this.settings.get_option("hide_secondary_metabolites"),d=this.settings.get_option("primary_metabolite_radius"),h=this.settings.get_option("secondary_metabolite_radius"),f=this.settings.get_option("marker_radius"),_=this.settings.get_option("hide_all_labels"),p=this.settings.get_option("identifiers_on_map"),m=this.settings.get_option("metabolite_styles"),g={color:this.settings.get_option("metabolite_no_data_color"),size:this.settings.get_option("metabolite_no_data_size")},v=this.behavior.label_mousedown,b=this.behavior.label_mouseover,y=this.behavior.label_mouseout,w=(e.select(".node-circle").attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).style("visibility",function(e){return u(e,l)?"hidden":null}).attr("r",function(e){if("metabolite"===e.node_type){if(n&&-1!==m.indexOf("size")){var r=e.data;return null===r?g.size:t.metabolite_size(r)}return e.node_is_primary?d:h}return f}).style("fill",function(e){if("metabolite"===e.node_type){if(n&&-1!==m.indexOf("color")){var r=e.data;return null===r?g.color:t.metabolite_color(r)}return null}return null}).call(this.behavior.turn_off_drag).call(a).on("mousedown",r).on("click",i).on("mouseover",o).on("mouseout",s),e.select(".node-label").attr("visibility",_?"hidden":"visible"));_||w.style("visibility",function(e){return u(e,l)?"hidden":null}).attr("transform",function(e){return"translate("+e.label_x+","+e.label_y+")"}).text(function(e){var t=e[p];return n&&-1!==m.indexOf("text")&&(t+=" "+e.data_string),t}).call(this.behavior.turn_off_drag).call(c).on("mousedown",v).on("mouseover",function(e){b("node_label",e)}).on("mouseout",y),this.callback_manager.run("update_node",this,e)}function m(e){var t=e.append("g").attr("id",function(e){return"l"+e.text_label_id}).attr("class","text-label");return t.append("text").attr("class","label"),this.callback_manager.run("create_text_label",this,e),t}function g(e){var t=this.behavior.text_label_mousedown,n=this.behavior.text_label_click,r=this.behavior.selectable_drag,i=this.behavior.turn_off_drag;e.select(".label").text(function(e){return e.text}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).on("mousedown",t).on("click",n).call(i).call(r),this.callback_manager.run("update_text_label",this,e)}function v(e,t,n,r){b.check_undefined(arguments,["reaction_arrow_displacement","start","end","displace"]);var i,o,s=e,a=b.distance(t,n);return s&&a||console.error("Bad value"),"start"===r?(i=t.x+s*(n.x-t.x)/a,o=t.y+s*(n.y-t.y)/a):"end"===r?(i=n.x-s*(n.x-t.x)/a,o=n.y-s*(n.y-t.y)/a):console.error("bad displace value: "+r),{x:i,y:o}}var b=n("./node_modules/escher-vis/js/src/utils.js"),y=n("./node_modules/escher-vis/js/src/data_styles.js"),w=n("./node_modules/escher-vis/js/src/CallbackManager.js"),x=n("./node_modules/d3-format/index.js").format,j=(n("./node_modules/d3-selection/index.js").select,b.make_class());j.prototype={init:r,create_reaction:s,update_reaction:a,create_bezier:h,update_bezier:f,create_node:_,update_node:p,create_text_label:m,update_text_label:g,create_membrane:i,update_membrane:o,create_reaction_label:c,update_reaction_label:u,create_segment:l,update_segment:d},e.exports=j},"./node_modules/escher-vis/js/src/KeyManager.js":function(e,t,n){function r(e,t,n,r){this.assigned_keys=e||{},this.input_list=t||[],this.mousetrap=n?new d(n):new d,this.ctrl_equals_cmd=!!h.isBoolean(r)&&r,this.mousetrap.stopCallback=function(){return!1},this.enabled=!0,this.update()}function i(e,t){if(!t)return e;var n=h.isArray(e)?e:[e],r=n.reduce(function(e,t){var n=t.replace("ctrl+","meta+");return n!==t&&e.push(n),e},n.slice());return r.length===n.length?e:r}function o(){if(this.mousetrap.reset(),this.enabled)for(var e in this.assigned_keys){var t=this.assigned_keys[e];if(t.key){var n=i(t.key,this.ctrl_equals_cmd);t.input_list=this.input_list,this.mousetrap.bind(n,function(e){var t=!1;if(this.ignore_with_input)for(var n=0,r=this.input_list.length;n<r;n++)if(this.input_list[n].is_visible()){t=!0;break}t||(this.fn?this.fn.call(this.target):console.warn("No function for key: "+this.key),e.preventDefault())}.bind(t),"keydown")}}}function s(e){h.isUndefined(e)&&(e=!this.enabled),this.enabled=e,this.update()}function a(e,t){return this.add_key_listener("enter",e,t)}function c(e,t){return this.add_key_listener("escape",e,t)}function u(e,t,n){h.isUndefined(n)&&(n=!1);var r=this.mousetrap.unbind.bind(this.mousetrap,e);return this.mousetrap.bind(i(e,this.ctrl_equals_cmd),function(e){e.preventDefault(),t(),n&&r()}),r}var l=n("./node_modules/escher-vis/js/src/utils.js"),d=n("./node_modules/mousetrap/mousetrap.js"),h=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),f=l.make_class();f.prototype={init:r,update:o,toggle:s,add_escape_listener:c,add_enter_listener:a,add_key_listener:u},e.exports=f},"./node_modules/escher-vis/js/src/Map.js":function(e,t,n){function r(e,t,n,r,i,o,s,a,c,u,l){if(null===s){var d=r.get_size();s={x:-d.width,y:-d.height,width:3*d.width,height:3*d.height}}c=qe.isUndefined(c)||null===c||""===c?"new_map":String(c),u=qe.isUndefined(u)||null===u||""===u?Te.generate_map_id():String(u),l=qe.isUndefined(l)||null===l?"":String(l),this.callback_manager=new Pe,this.svg=e,this.defs=Te.setup_defs(e,t),this.canvas=new Ue(n,s),this.setup_containers(n),this.sel=n,this.zoom_container=r,this.settings=i,this.cobra_model=o,this.largest_ids={reactions:-1,nodes:-1,segments:-1,text_labels:-1},this.scale=new Ne,this.calc_data_stats("reaction"),this.calc_data_stats("metabolite"),this.scale.connect_to_settings(this.settings,this,A.bind(this)),this.undo_stack=new Ie,this.behavior=new Ce(this,this.undo_stack),this.draw=new Oe(this.behavior,this.settings),this.key_manager=new Fe,this.key_manager.ctrl_equals_cmd=!0,this.enable_search=a,this.search_index=new Re,this.map_name=c,this.map_id=u,this.map_description=l;this.beziers_enabled=!1,this.has_data_on_reactions=!1,this.has_data_on_nodes=!1,this.imported_reaction_data=null,this.imported_metabolite_data=null,this.imported_gene_data=null,this.nodes={},this.reactions={},this.beziers={},this.text_labels={},this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.rotation_on=!1,this.listen_for_full_screen(function(){setTimeout(function(){this.zoom_extent_canvas()}.bind(this),50)}.bind(this))}function i(e,t,n,r,i,o,s,a){function c(e,t){return qe.isUndefined(t)&&(t=0),qe.isUndefined(e)?t:Math.max.apply(null,Object.keys(e).map(function(e){return parseInt(e)}).concat([t]))}var u=e[1].canvas,l=e[0].map_name,d=e[0].map_id,h=e[0].map_description.replace(/(\nLast Modified.*)+$/g,"")+"\nLast Modified "+Date(Date.now()).toString(),f=new He(t,n,r,i,o,s,u,a,l,d,h);f.reactions=e[1].reactions,f.nodes=e[1].nodes,f.text_labels=e[1].text_labels;for(var _ in f.nodes){var p=f.nodes[_];if(p.connected_segments=[],a){if("metabolite"!==p.node_type)continue;f.search_index.insert("n"+_,{name:p.bigg_id,data:{type:"metabolite",node_id:_}}),f.search_index.insert("n_name"+_,{name:p.name,data:{type:"metabolite",node_id:_}})}}for(var m in f.reactions){var g=f.reactions[m];if(a){f.search_index.insert("r"+m,{name:g.bigg_id,data:{type:"reaction",reaction_id:m}}),f.search_index.insert("r_name"+m,{name:g.name,data:{type:"reaction",reaction_id:m}});for(var v in g.genes){var b=g.genes[v];f.search_index.insert("r"+m+"_g"+v,{name:b.bigg_id,data:{type:"reaction",reaction_id:m}}),f.search_index.insert("r"+m+"_g_name"+v,{name:b.name,data:{type:"reaction",reaction_id:m}})}}var y=[];for(var w in g.segments){var x=g.segments[w];if(x.reversibility=g.reversibility,x.from_node_id in f.nodes&&x.to_node_id in f.nodes){var j=f.nodes[x.from_node_id],k=f.nodes[x.to_node_id];g.metabolites.forEach(function(e){e.bigg_id==j.bigg_id?x.from_node_coefficient=e.coefficient:e.bigg_id==k.bigg_id&&(x.to_node_coefficient=e.coefficient)}),[j,k].forEach(function(e){e.connected_segments.push({segment_id:w,reaction_id:m})});var M=f.nodes[x.from_node_id],E=f.nodes[x.to_node_id];if("metabolite"==M.node_type||"metabolite"==E.node_type){var z=Te.c_plus_c(M,Te.c_times_scalar(Te.c_minus_c(E,M),.5));null===x.b1&&(x.b1=z),null===x.b2&&(x.b2=z)}}else console.warn("Bad node references in segment "+w+". Deleting segment."),y.push(w)}y.forEach(function(e){delete g.segments[e]})}if(a)for(var S in f.text_labels){var A=f.text_labels[S];f.search_index.insert("l"+S,{name:A.text,data:{type:"text_label",text_label_id:S}})}f.beziers=De.new_beziers_for_reactions(f.reactions),f.largest_ids.reactions=c(f.reactions),f.largest_ids.nodes=c(f.nodes),f.largest_ids.text_labels=c(f.text_labels);var T=0;for(var O in f.reactions)T=c(f.reactions[O].segments,T);return f.largest_ids.segments=T,f.apply_reaction_data_to_map(null),f.apply_metabolite_data_to_map(null),f.apply_gene_data_to_map(null),f}function o(e){e.append("g").attr("id","reactions"),e.append("g").attr("id","nodes"),e.append("g").attr("id","beziers"),e.append("g").attr("id","text-labels")}function s(){this.sel.select("#reactions").selectAll(".reaction").remove(),this.sel.select("#nodes").selectAll(".node").remove(),this.sel.select("#beziers").selectAll(".bezier").remove(),this.sel.select("#text-labels").selectAll(".text-label").remove()}function a(e,t){this.callback_manager.run("set_status",null,e),clearTimeout(this._status_timer),this._status_timer=null,void 0!==t&&(this._status_timer=setTimeout(function(){this.callback_manager.run("set_status",null,"")}.bind(this),t))}function c(){this.reactions={},this.beziers={},this.nodes={},this.text_labels={},this.map_name="new_map",this.map_id=Te.generate_map_id(),this.map_description="",this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.draw_everything()}function u(){return null!==this.cobra_model}function l(){this.draw_all_reactions(!0,!0),this.draw_all_nodes(!0),this.draw_all_text_labels()}function d(e,t){qe.isUndefined(e)&&(e=!0),qe.isUndefined(t)&&(t=!0);var n=[];for(var r in this.reactions)n.push(r);this.draw_these_reactions(n,!1),e&&this.beziers_enabled&&this.draw_all_beziers(),t&&this.clear_deleted_reactions(e)}function h(e,t){qe.isUndefined(t)&&(t=!0);var n=Te.object_slice_for_ids_ref(this.reactions,e),r=function(e){return this.draw.update_reaction(e,this.scale,this.cobra_model,this.nodes,this.defs,this.has_data_on_reactions)}.bind(this);if(Te.draw_an_object(this.sel,"#reactions",".reaction",n,"reaction_id",this.draw.create_reaction.bind(this.draw),r),t){var i=De.bezier_ids_for_reaction_ids(n);this.draw_these_beziers(i)}}function f(e){qe.isUndefined(e)&&(e=!0),Te.draw_an_object(this.sel,"#reactions",".reaction",this.reactions,"reaction_id",null,function(e){Te.draw_a_nested_object(e,".segment-group","segments","segment_id",null,null,function(e){e.remove()})},function(e){e.remove()}),!0===e&&this.clear_deleted_beziers()}function _(e){void 0===e&&(e=!0);var t=[];for(var n in this.nodes)t.push(n);this.draw_these_nodes(t),e&&this.clear_deleted_nodes()}function p(e){var t=Te.object_slice_for_ids_ref(this.nodes,e),n=function(e){return this.draw.create_node(e,this.nodes,this.reactions)}.bind(this),r=function(e){return this.draw.update_node(e,this.scale,this.has_data_on_nodes,this.behavior.selectable_mousedown,this.behavior.selectable_click,this.behavior.node_mouseover,this.behavior.node_mouseout,this.behavior.selectable_drag,this.behavior.node_label_drag)}.bind(this);Te.draw_an_object(this.sel,"#nodes",".node",t,"node_id",n,r)}function m(){Te.draw_an_object(this.sel,"#nodes",".node",this.nodes,"node_id",null,null,function(e){e.remove()})}function g(){this.draw_these_text_labels(Object.keys(this.text_labels)),this.clear_deleted_text_labels()}function v(e){var t=Te.object_slice_for_ids_ref(this.text_labels,e);Te.draw_an_object(this.sel,"#text-labels",".text-label",t,"text_label_id",this.draw.create_text_label.bind(this.draw),this.draw.update_text_label.bind(this.draw))}function b(){Te.draw_an_object(this.sel,"#text-labels",".text-label",this.text_labels,"text_label_id",null,null,function(e){e.remove()})}function y(){var e=[];for(var t in this.beziers)e.push(t);this.draw_these_beziers(e),this.clear_deleted_beziers()}function w(e){var t=Te.object_slice_for_ids_ref(this.beziers,e),n=function(e){return this.draw.update_bezier(e,this.beziers_enabled,this.behavior.bezier_drag,this.behavior.bezier_mouseover,this.behavior.bezier_mouseout,this.nodes,this.reactions)}.bind(this);Te.draw_an_object(this.sel,"#beziers",".bezier",t,"bezier_id",this.draw.create_bezier.bind(this.draw),n)}function x(){Te.draw_an_object(this.sel,"#beziers",".bezier",this.beziers,"bezier_id",null,null,function(e){e.remove()})}function j(){this.toggle_beziers(!0)}function k(){this.toggle_beziers(!1)}function M(e){qe.isUndefined(e)?this.beziers_enabled=!this.beziers_enabled:this.beziers_enabled=e,this.draw_all_beziers(),this.callback_manager.run("toggle_beziers",null,this.beziers_enabled)}function E(e,t){var n=this.settings.get_option("reaction_styles"),r=this.settings.get_option("reaction_compare_style"),i=Le.apply_reaction_data_to_reactions(this.reactions,e,n,r,t);return this.has_data_on_reactions=i,this.imported_reaction_data=i?e:null,this.calc_data_stats("reaction")}function z(e,t){var n=this.settings.get_option("metabolite_styles"),r=this.settings.get_option("metabolite_compare_style"),i=Le.apply_metabolite_data_to_nodes(this.nodes,e,n,r,t);return this.has_data_on_nodes=i,this.imported_metabolite_data=i?e:null,this.calc_data_stats("metabolite")}function S(e,t){var n=this.settings.get_option("reaction_styles"),r=this.settings.get_option("reaction_compare_style"),i=this.settings.get_option("identifiers_on_map"),o=this.settings.get_option("and_method_in_gene_reaction_rule"),s=Le.apply_gene_data_to_reactions(this.reactions,e,n,i,r,o,t);return this.has_data_on_reactions=s,this.imported_gene_data=s?e:null,this.calc_data_stats("reaction")}function A(){return this.data_statistics}function T(e){return function(t){return e.apply(null,t)}}function O(e){if(-1===["reaction","metabolite"].indexOf(e))throw new Error("Bad type "+e);"data_statistics"in this?e in this.data_statistics||(this.data_statistics[e]={}):(this.data_statistics={},this.data_statistics[e]={});var t=!0,n=[];if("metabolite"===e)for(var r in this.nodes){var i=this.nodes[r];qe.isUndefined(i.data)?console.error("metabolite missing "):null!==i.data&&n.push(i.data)}else if("reaction"==e)for(var o in this.reactions){var s=this.reactions[o];qe.isUndefined(s.data)?console.error("reaction data missing "):null!==s.data&&n.push(s.data)}var a=Te.quartiles(n);if([["min",T(Math.min)],["max",T(Math.max)],["mean",Te.mean],["Q1",function(){return a[0]}],["median",function(){return a[1]}],["Q3",function(){return a[2]}]].forEach(function(r){var i,o=r[0];i=0===n.length?null:(0,r[1])(n),i!=this.data_statistics[e][o]&&(t=!1),this.data_statistics[e][o]=i}.bind(this)),this.data_statistics[e].min===this.data_statistics[e].max&&null!==this.data_statistics[e].min){var c=this.data_statistics[e].min,u=this.data_statistics[e].max;this.data_statistics[e].min=c-1-.1*Math.abs(c),this.data_statistics[e].max=u+1+.1*Math.abs(u)}return"reaction"===e?this.callback_manager.run("calc_data_stats__reaction",null,!t):this.callback_manager.run("calc_data_stats__metabolite",null,!t),!t}function C(){var e=[];return this.sel.select("#nodes").selectAll(".selected").each(function(t){e.push(t.node_id)}),e}function N(){var e={};return this.sel.select("#nodes").selectAll(".selected").each(function(t){e[t.node_id]=this.nodes[t.node_id]}.bind(this)),e}function D(){var e=[];return this.sel.select("#text-labels").selectAll(".selected").each(function(t){e.push(t.text_label_id)}),e}function I(){var e={};return this.sel.select("#text-labels").selectAll(".selected").each(function(t){e[t.text_label_id]=this.text_labels[t.text_label_id]}.bind(this)),e}function P(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",!0)}function F(){this.sel.selectAll(".selected").classed("selected",!1)}function U(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",function(){return!Be(this).classed("selected")})}function L(e){this.deselect_text_labels();var t,n,r=this.sel.select("#nodes").selectAll(".node");r.classed("selected",function(r){var i=String(r.node_id)==String(e);return i&&(n=r,t={x:r.x,y:r.y}),i}),this.sel.selectAll(".start-reaction-target").style("visibility","hidden"),this.callback_manager.run("select_metabolite_with_id",null,n,t)}function R(e,t,n){n=!qe.isUndefined(n)&&n;var r,i=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label");r=-1==Be(e).attr("class").indexOf("text-label")?e.parentNode:e,n?Be(r).classed("selected",!Be(r).classed("selected")):(i.classed("selected",!1),Be(r).classed("selected",!0));var o,s,a=this.sel.select("#nodes").selectAll(".selected"),c=0;a.each(function(e){s=e,o={x:e.x,y:e.y},c++}),this.callback_manager.run("select_selectable",null,c,s,o)}function q(){var e=null;return this.sel.select("#nodes").selectAll(".selected").classed("selected",function(t,n){return 0===n&&(e=t,!0)}),e}function B(){this.sel.select("#nodes").selectAll(".node").classed("selected",!1),this.callback_manager.run("deselect_nodes")}function H(e,t){this.deselect_nodes(),this.sel.select("#text-labels").selectAll(".text-label").classed("selected",function(e){return t===e});var n,r=this.sel.select("#text-labels").selectAll(".selected");r.each(function(e){n={x:e.x,y:e.y}}),this.callback_manager.run("select_text_label")}function V(){this.sel.select("#text-labels").selectAll(".text-label").classed("selected",!1)}function Y(){var e=this.get_selected_nodes(),t=this.get_selected_text_labels();(Object.keys(e).length>=1||Object.keys(t).length>=1)&&this.delete_selectable(e,t,!0)}function W(e,t,n){var r=this.segments_and_reactions_for_nodes(e),i=r.segment_objs_w_segments,o=r.reactions,s=Te.clone(e),a=Te.clone(i),c=Te.clone(o),u=Te.clone(t),l=function(t,r,i,o){this.delete_node_data(Object.keys(e)),this.delete_segment_data(i),this.delete_reaction_data(Object.keys(r)),this.delete_text_label_data(Object.keys(o));var s=!1,a=!1;this.has_data_on_reactions&&(s=this.calc_data_stats("reaction")),this.has_data_on_nodes&&(a=this.calc_data_stats("metabolite")),n&&(s?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(),a?this.draw_all_nodes(!0):this.clear_deleted_nodes(),this.clear_deleted_text_labels())}.bind(this);l(e,o,i,t),this.undo_stack.push(function(){this.extend_nodes(s),this.extend_reactions(c);var r=Object.keys(c);for(var l in a){var d=a[l],h=d.segment;this.reactions[d.reaction_id].segments[d.segment_id]=h;[h.from_node_id,h.to_node_id].forEach(function(e){if(!(e in s)){this.nodes[e].connected_segments.push({reaction_id:d.reaction_id,segment_id:d.segment_id})}}.bind(this));var f=d.segment_id,_=d.reaction_id,p={};p[f]=d.segment,Te.extend(this.beziers,De.new_beziers_for_segments(p,_)),-1===r.indexOf(d.reaction_id)&&r.push(d.reaction_id)}if(this.has_data_on_reactions){var m=this.calc_data_stats("reaction");m?this.draw_all_reactions(!0,!1):this.draw_these_reactions(r)}else n&&this.draw_these_reactions(r);if(this.has_data_on_nodes){var m=this.calc_data_stats("metabolite");n&&(m?this.draw_all_nodes(!1):this.draw_these_nodes(Object.keys(s)))}else n&&this.draw_these_nodes(Object.keys(s));Te.extend(this.text_labels,u),n&&this.draw_these_text_labels(Object.keys(u)),t=Te.clone(u),e=Te.clone(s),i=Te.clone(a),o=Te.clone(c)}.bind(this),function(){l(e,o,i,t)}.bind(this))}function X(e){e.forEach(function(e){if(this.enable_search&&"metabolite"==this.nodes[e].node_type){this.search_index.remove("n"+e)&&this.search_index.remove("n_name"+e)||console.warn("Could not find deleted metabolite in search index")}delete this.nodes[e]}.bind(this))}function $(e){for(var t in e){var n=e[t],r=this.reactions[n.reaction_id];if(!(n.segment_id in r.segments))return;var i=r.segments[n.segment_id];[i.from_node_id,i.to_node_id].forEach(function(e){if(e in this.nodes){var t=this.nodes[e];t.connected_segments=t.connected_segments.filter(function(e){return e.segment_id!=n.segment_id})}}.bind(this)),["b1","b2"].forEach(function(e){var t=De.bezier_id_for_segment_id(n.segment_id,e);delete this.beziers[t]}.bind(this)),delete r.segments[n.segment_id]}}function J(e){e.forEach(function(e){var t=this.reactions[e];for(var n in t.segments)["b1","b2"].forEach(function(e){var t=De.bezier_id_for_segment_id(n,e);delete this.beziers[t]}.bind(this));delete this.reactions[e];var r=this.search_index.remove("r"+e)&&this.search_index.remove("r_name"+e);r||console.warn("Could not find deleted reaction "+e+" in search index");for(var i in t.genes){var r=this.search_index.remove("r"+e+"_g"+i)&&this.search_index.remove("r"+e+"_g_name"+i);r||console.warn("Could not find deleted gene "+i+" in search index")}}.bind(this))}function G(e){e.forEach(function(e){delete this.text_labels[e],this.search_index.remove("l"+e)||console.warn("Could not find deleted text label in search index")}.bind(this))}function Z(e,t){this.extend_nodes(e);var n=[t];if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");this.apply_metabolite_data_to_map(this.imported_metabolite_data,n)?this.draw_all_nodes(!1):this.draw_these_nodes(n)}else this.draw_these_nodes(n)}function K(e,t,n){if(!this.cobra_model)return void console.error("No CobraModel. Cannot docs new reaction");var r=Te.clone(this.cobra_model.reactions[e]);if(0===qe.size(r.metabolites))throw Error("No metabolites in reaction "+r.bigg_id);var i=qe.map(r.metabolites,function(e,t){return[e,t]}).filter(function(e){return e[0]<0}).map(function(e){return e[1]}),o=i.length>0?i[0]:Object.keys(r.metabolites)[0],s=this.cobra_model.metabolites[o],a=String(++this.largest_ids.nodes),c=De.get_met_label_loc(Math.PI/180*n,0,1,!0,o),u={connected_segments:[],x:t.x,y:t.y,node_is_primary:!0,label_x:t.x+c.x,label_y:t.y+c.y,name:s.name,bigg_id:o,node_type:"metabolite"},l={};l[a]=u,Z.apply(this,[l,a]);var d=Te.clone(l),h=this.new_reaction_for_metabolite(e,a,n,!1),f=h.redo,_=h.undo;this.undo_stack.push(function(){_(),this.delete_node_data(Object.keys(l)),l=Te.clone(d),this.clear_deleted_nodes(),this.deselect_nodes()}.bind(this),function(){Z.apply(this,[l,a]),f()}.bind(this))}function Q(e){if(this.enable_search)for(var t in e){var n=e[t];"metabolite"==n.node_type&&(this.search_index.insert("n"+t,{name:n.bigg_id,data:{type:"metabolite",node_id:t}}),this.search_index.insert("n_name"+t,{name:n.name,data:{type:"metabolite",node_id:t}}))}Te.extend(this.nodes,e)}function ee(e){if(this.enable_search)for(var t in e){var n=e[t];this.search_index.insert("r"+t,{name:n.bigg_id,data:{type:"reaction",reaction_id:t}}),this.search_index.insert("r_name"+t,{name:n.name,data:{type:"reaction",reaction_id:t}});for(var r in n.genes){var i=n.genes[r];this.search_index.insert("r"+t+"_g"+r,{name:i.bigg_id,data:{type:"reaction",reaction_id:t}}),this.search_index.insert("r"+t+"_g_name"+r,{name:i.name,data:{type:"reaction",reaction_id:t}})}}Te.extend(this.reactions,e)}function te(e,t,n,r){this.extend_reactions(t),Te.extend(this.beziers,n),this.delete_node_data([r]),this.extend_nodes(e);var i=Object.keys(t);if(this.has_data_on_reactions){var o=!1;if(this.imported_reaction_data)o=this.apply_reaction_data_to_map(this.imported_reaction_data,i);else{if(!this.imported_gene_data)throw new Error("imported_gene_data or imported_reaction_data should not be null");o=this.apply_gene_data_to_map(this.imported_gene_data,i)}o?this.draw_all_reactions(!0,!1):this.draw_these_reactions(i)}else this.draw_these_reactions(i);var s=Object.keys(e);if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");var o=this.apply_metabolite_data_to_map(this.imported_metabolite_data,s);o?this.draw_all_nodes(!1):this.draw_these_nodes(s)}else this.draw_these_nodes(s);for(var a in e){var c=e[a];if(c.node_is_primary&&a!=r){this.select_metabolite_with_id(a);var u={x:c.x,y:c.y};this.zoom_container&&this.zoom_container.translate_off_screen(u)}}}function ne(e,t,n,r){void 0===r&&(r=!0);var i=this.nodes[t],o=this.cobra_model.reactions[e],s=De.new_reaction(e,o,this.cobra_model.metabolites,t,Te.clone(i),this.largest_ids,this.settings.get_option("cofactors"),n),a=s.new_nodes,c=s.new_reactions,u=s.new_beziers;te.apply(this,[a,c,u,t]);var l=Te.clone(a),d=Te.clone(c),h=Te.clone(u),f=function(){if(delete a[t],this.delete_node_data(Object.keys(a)),this.delete_reaction_data(Object.keys(c)),L.apply(this,[t]),a=Te.clone(l),c=Te.clone(d),u=Te.clone(h),this.has_data_on_reactions){var e=this.calc_data_stats("reaction");e?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(!0)}else this.clear_deleted_reactions(!0);if(this.has_data_on_nodes){var e=this.calc_data_stats("metabolite");e?this.draw_all_nodes(!0):this.clear_deleted_nodes()}else this.clear_deleted_nodes()}.bind(this),_=function(){te.apply(this,[a,c,u,t])}.bind(this);return r&&this.undo_stack.push(f,_),{undo:f,redo:_}}function re(){var e,t=this.get_selected_nodes(),n=Object.keys(t)[0],r=(t[n],this.reactions),i=this.nodes,o=[];if(i[n].connected_segments.forEach(function(t){e=[t.reaction_id];var i;try{if(void 0===(i=r[t.reaction_id].segments[t.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segment "+t.segment_id)}o.push(i.from_node_id==n?i.to_node_id:i.from_node_id)}),1!=o.length)return void console.error("Only connected nodes with a single reaction can be selected");var s=o[0],a=[n];i[s].connected_segments.forEach(function(e){var t;try{if(void 0===(t=r[e.reaction_id].segments[e.segment_id]))throw new Error("undefined segment")}catch(t){return void console.warn("Could not find connected segment "+e.segment_id)}var o=t.from_node_id==s?t.to_node_id:t.from_node_id;"metabolite"==i[o].node_type&&o!=n&&a.push(String(o))});for(var c=0;c<a.length;c++)if(i[a[c]].connected_segments.length>1)return void console.error("Only connected nodes with a single reaction can be selected");for(var u in t)if(u!=n&&-1==a.indexOf(u))return void console.warn("Selected nodes are not on the same reaction");var l=[],d=a.length-1,h=i[a[d]],f=h.node_is_primary,_={x:h.x,y:h.y,label_x:h.label_x,label_y:h.label_y};h.connected_segments.length>1&&console.warn("Too many connected segments for node "+h.node_id);var p,m=h.connected_segments[0];try{if(void 0===(p=r[m.reaction_id].segments[m.segment_id]))throw new Error("undefined segment")}catch(e){return void console.error("Could not find connected segment "+m.segment_id)}var g,v={b1:p.b1,b2:p.b2};a.forEach(function(e){var t=i[e],n=t.node_is_primary,o={x:t.x,y:t.y,label_x:t.label_x,label_y:t.label_y},s=t.connected_segments[0],a=r[s.reaction_id].segments[s.segment_id],c={b1:a.b1,b2:a.b2};t.node_is_primary=f,t.x=_.x,t.y=_.y,t.label_x=_.label_x,t.label_y=_.label_y,a.b1=v.b1,a.b2=v.b2,f=n,_=o,v=c,t.node_is_primary&&(g=e),l.push(e)});var b=i[s].connected_segments,d=b.length-1,y=[b[d]];b.forEach(function(e,t){d!=t&&y.push(e)}),i[s].connected_segments=y,this.draw_these_nodes(l),this.draw_these_reactions(e),this.select_metabolite_with_id(g)}function ie(){var e=this.get_selected_node_ids(),t=function(e){var t={},n=this.settings.get_option("hide_secondary_metabolites");if(e.forEach(function(e){if(!(e in this.nodes))return void console.warn("Could not find node: "+e);var n=this.nodes[e];"metabolite"==n.node_type&&(n.node_is_primary=!n.node_is_primary,t[e]=n)}.bind(this)),this.draw_these_nodes(Object.keys(t)),n){var r=this.segments_and_reactions_for_nodes(t),i={};for(var o in r.segment_objs_w_segments){i[r.segment_objs_w_segments[o].reaction_id]=!0}this.draw_these_reactions(Object.keys(i))}}.bind(this);t(e),this.undo_stack.push(function(){t(e)},function(){t(e)})}function oe(e){var t={},n={},r={},i=this.reactions;for(var o in e){e[o].connected_segments.forEach(function(e){var n;try{if(void 0===(n=i[e.reaction_id].segments[e.segment_id]))throw new Error("undefined segment")}catch(e){return void console.warn("Could not find connected segments for node")}var o=Te.clone(e);o.segment=Te.clone(n),t[e.segment_id]=o,e.reaction_id in r||(r[e.reaction_id]=[]),r[e.reaction_id].push(e.segment_id)})}for(var s in r){var a=i[s],c=r[s],u=!0;for(var l in a.segments)-1==c.indexOf(l)&&(u=!1);u&&(n[s]=a)}return{segment_objs_w_segments:t,reactions:n}}function se(e,t){this.search_index.insert("l"+e,{name:t,data:{type:"text_label",text_label_id:e}})}function ae(e,t){var n=De.new_text_label(this.largest_ids,t,e);return this.text_labels[n.id]=n.label,this.draw_these_text_labels([n.id]),""!==t&&this.add_label_to_search_index(n.id,t),n.id}function ce(e,t,n,r){if(qe.isUndefined(r)&&(r=!1),""===t)throw new Error("Should not be called for empty string");var i=function(t,n){this.text_labels[e].text=t,n&&this.draw_these_text_labels([e]);var i="l"+e,o=this.search_index.remove(i);r||o||console.warn("Could not find modified text label in search index"),this.search_index.insert(i,{name:t,data:{type:"text_label",text_label_id:e}})}.bind(this),o=Te.clone(this.text_labels[e]);i(t,n),this.undo_stack.push(function(){r?(this.delete_text_label_data([e]),this.clear_deleted_text_labels()):i(o.text,!0)}.bind(this),function(){r?(this.text_labels[e]=Te.clone(o),this.text_labels[e].text=t,this.draw_these_text_labels([e]),this.add_label_to_search_index(e,t)):i(t,!0)}.bind(this))}function ue(e){this._zoom_extent(e,"nodes")}function le(e){this._zoom_extent(e,"canvas")}function de(e,t){qe.isUndefined(e)&&(e="nodes"===t?.2:0),qe.isUndefined(t)&&(t="canvas");var n,r,i=this.get_size();if(e*=i.height,"nodes"===t){var o={x:null,y:null},s={x:null,y:null};for(var a in this.nodes){var c=this.nodes[a];null===o.x&&(o.x=c.x),null===o.y&&(o.y=c.y),null===s.x&&(s.x=c.x),null===s.y&&(s.y=c.y),o.x=Math.min(o.x,c.x),o.y=Math.min(o.y,c.y),s.x=Math.max(s.x,c.x),s.y=Math.max(s.y,c.y)}n=Math.min((i.width-2*e)/(s.x-o.x),(i.height-2*e)/(s.y-o.y)),r={x:-o.x*n+e+(i.width-2*e-(s.x-o.x)*n)/2,y:-o.y*n+e+(i.height-2*e-(s.y-o.y)*n)/2}}else{if("canvas"!=t)return console.error("Did not recognize mode");n=Math.min((i.width-2*e)/this.canvas.width,(i.height-2*e)/this.canvas.height),r={x:-this.canvas.x*n+e+(i.width-2*e-this.canvas.width*n)/2,y:-this.canvas.y*n+e+(i.height-2*e-this.canvas.height*n)/2}}return this.zoom_container.go_to(n,r),null}function he(){return this.zoom_container.get_size()}function fe(e){var t=this.reactions[e],n=.5,r=this.get_size(),i={x:-t.label_x*n+r.width/2,y:-t.label_y*n+r.height/2};this.zoom_container.go_to(n,i)}function _e(e){var t=this.nodes[e],n=.5,r=this.get_size(),i={x:-t.label_x*n+r.width/2,y:-t.label_y*n+r.height/2};this.zoom_container.go_to(n,i)}function pe(e){var t=this.text_labels[e],n=.5,r=this.get_size(),i={x:-t.x*n+r.width/2,y:-t.y*n+r.height/2};this.zoom_container.go_to(n,i)}function me(e){this.highlight(this.sel.selectAll("#r"+e).selectAll("text"))}function ge(e){this.highlight(this.sel.selectAll("#n"+e).selectAll("text"))}function ve(e){this.highlight(this.sel.selectAll("#l"+e).selectAll("text"))}function be(e){this.sel.selectAll(".highlight").classed("highlight",!1),null!==e&&e.classed("highlight",!0)}function ye(){return document.fullscreenEnabled?"fullscreenchange":document.mozFullScreenEnabled?"mozfullscreenchange":document.webkitFullscreenEnabled?"webkitfullscreenchange":document.msFullscreenEnabled?"MSFullscreenChange":null}function we(e){document.addEventListener(ye(),e),this.full_screen_listener=e}function xe(){document.removeEventListener(ye(),this.full_screen_listener)}function je(){var e=this.zoom_container.selection,t=e.node(),n=document;if(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)if(e.classed("full-screen-on",!1),n.exitFullscreen)n.exitFullscreen();else if(n.mozCancelFullScreen)n.mozCancelFullScreen();else if(n.webkitExitFullscreen)n.webkitExitFullscreen();else{if(!n.msExitFullscreen)throw Error("Cannot exit full screen");n.msExitFullscreen()}else if(e.classed("full-screen-on",!0),t.requestFullscreen)t.requestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!t.msRequestFullscreen)throw Error("Full screen does not seem to be supported on this system.");t.msRequestFullscreen()}}function ke(){Te.download_json(this.map_for_export(),this.map_name)}function Me(){var e=[{map_name:this.map_name,map_id:this.map_id,map_description:this.map_description,homepage:"https://escher.github.io",schema:"https://escher.github.io/escher/jsonschema/1-0-0#"},{reactions:Te.clone(this.reactions),nodes:Te.clone(this.nodes),text_labels:Te.clone(this.text_labels),canvas:this.canvas.size_and_location()}];for(var t in e[1].reactions){var n=e[1].reactions[t],r={},i=["name","bigg_id","reversibility","label_x","label_y","gene_reaction_rule","genes","metabolites"];i.forEach(function(e){r[e]=n[e]}),r.segments={};for(var o in n.segments){var s=n.segments[o],a={},i=["from_node_id","to_node_id","b1","b2"];i.forEach(function(e){a[e]=s[e]}),r.segments[o]=a}e[1].reactions[t]=r}for(var c in e[1].nodes){var i,u=e[1].nodes[c],l={};i="metabolite"===u.node_type?["node_type","x","y","bigg_id","name","label_x","label_y","node_is_primary"]:["node_type","x","y"],i.forEach(function(e){l[e]=u[e]}),e[1].nodes[c]=l}for(var d in e[1].text_labels){var h=e[1].text_labels[d],f={},i=["x","y","text"];i.forEach(function(e){f[e]=h[e]}),e[1].text_labels[d]=f}var _=e[1].canvas,p={},i=["x","y","width","height"];return i.forEach(function(e){p[e]=_[e]}),e[1].canvas=p,e}function Ee(e,t,n,r){e.callback_manager.run(t);var i=e.zoom_container.window_scale,o=e.zoom_container.window_translate,s=e.canvas.size_and_location(),a={w:e.canvas.mouse_node.attr("width"),h:e.canvas.mouse_node.attr("height"),transform:e.canvas.mouse_node.attr("transform")};e.zoom_container._go_to_svg(1,{x:-s.x,y:-s.y},function(){e.svg.attr("width",s.width),e.svg.attr("height",s.height),e.canvas.mouse_node.attr("width","0px"),e.canvas.mouse_node.attr("height","0px"),e.canvas.mouse_node.attr("transform",null);var t=e.sel.selectAll(".multimarker-circle,.midmarker-circle,#canvas").style("visibility","hidden");"svg"==r?Te.download_svg("saved_map",e.svg,!0):"png"==r&&Te.download_png("saved_map",e.svg,!0),e.zoom_container._go_to_svg(i,o,function(){e.svg.attr("width",null),e.svg.attr("height",null),e.canvas.mouse_node.attr("width",a.w),e.canvas.mouse_node.attr("height",a.h),e.canvas.mouse_node.attr("transform",a.transform),t.style("visibility",null),e.callback_manager.run(n)}.bind(e))}.bind(e))}function ze(){Ee(this,"before_svg_export","after_svg_export","svg")}function Se(){Ee(this,"before_png_export","after_png_export","png")}function Ae(){if(this.callback_manager.run("before_convert_map"),!this.has_cobra_model())throw Error("No COBRA model loaded.");var e,t=this.cobra_model,n={},r=["name","gene_reaction_rule","genes"],i={},o=["name"];for(var s in this.reactions){var a=this.reactions[s];e=!1;for(var c in t.reactions){var u=t.reactions[c];u.bigg_id==a.bigg_id&&(r.forEach(function(e){a[e]=u[e]}),e=!0)}e||(n[s]=!0)}for(var l in this.nodes){var d=this.nodes[l];if("metabolite"==d.node_type){e=!1;for(var h in t.metabolites){var f=t.metabolites[h];f.bigg_id==d.bigg_id&&(o.forEach(function(e){d[e]=f[e]}),e=!0)}e||(i[l]=!0)}}var _=Object.keys(n).length,p=Object.keys(i).length,m=3e3;0===_&&0===p?this.set_status("Successfully converted attributes.",m):0===p?(this.set_status("Converted attributes, but count not find "+_+" reactions in the model.",m),this.settings.set_conditional("highlight_missing",!0)):0===_?(this.set_status("Converted attributes, but count not find "+p+" metabolites in the model.",m),this.settings.set_conditional("highlight_missing",!0)):(this.set_status("Converted attributes, but count not find "+_+" reactions and "+p+" metabolites in the model.",m),this.settings.set_conditional("highlight_missing",!0)),this.draw_everything(),this.callback_manager.run("after_convert_map")}var Te=n("./node_modules/escher-vis/js/src/utils.js"),Oe=n("./node_modules/escher-vis/js/src/Draw.js"),Ce=n("./node_modules/escher-vis/js/src/Behavior.js"),Ne=n("./node_modules/escher-vis/js/src/Scale.js"),De=n("./node_modules/escher-vis/js/src/docs.js"),Ie=n("./node_modules/escher-vis/js/src/UndoStack.js"),Pe=n("./node_modules/escher-vis/js/src/CallbackManager.js"),Fe=n("./node_modules/escher-vis/js/src/KeyManager.js"),Ue=n("./node_modules/escher-vis/js/src/Canvas.js"),Le=n("./node_modules/escher-vis/js/src/data_styles.js"),Re=n("./node_modules/escher-vis/js/src/SearchIndex.js"),qe=(n("./node_modules/baconjs/dist/Bacon.js"),n("./node_modules/escher-vis/node_modules/underscore/underscore.js")),Be=n("./node_modules/d3-selection/index.js").select,He=Te.make_class();He.from_data=i,He.prototype={init:r,setup_containers:o,reset_containers:s,set_status:a,clear_map:c,select_all:P,select_none:F,invert_selection:U,select_selectable:R,select_metabolite_with_id:L,select_single_node:q,deselect_nodes:B,select_text_label:H,deselect_text_labels:V,new_reaction_from_scratch:K,extend_nodes:Q,extend_reactions:ee,new_reaction_for_metabolite:ne,cycle_primary_node:re,toggle_selected_node_primary:ie,add_label_to_search_index:se,new_text_label:ae,edit_text_label:ce,delete_selected:Y,delete_selectable:W,delete_node_data:X,delete_segment_data:$,delete_reaction_data:J,delete_text_label_data:G,get_selected_node_ids:C,get_selected_nodes:N,get_selected_text_label_ids:D,get_selected_text_labels:I,segments_and_reactions_for_nodes:oe,draw_everything:l,draw_all_reactions:d,draw_these_reactions:h,clear_deleted_reactions:f,draw_all_nodes:_,draw_these_nodes:p,clear_deleted_nodes:m,draw_all_text_labels:g,draw_these_text_labels:v,clear_deleted_text_labels:b,draw_all_beziers:y,draw_these_beziers:w,clear_deleted_beziers:x,toggle_beziers:M,hide_beziers:k,show_beziers:j,has_cobra_model:u,apply_reaction_data_to_map:E,apply_metabolite_data_to_map:z,apply_gene_data_to_map:S,get_data_statistics:A,calc_data_stats:O,zoom_extent_nodes:ue,zoom_extent_canvas:le,_zoom_extent:de,get_size:he,zoom_to_reaction:fe,zoom_to_node:_e,zoom_to_text_label:pe,highlight_reaction:me,highlight_node:ge,highlight_text_label:ve,highlight:be,listen_for_full_screen:we,unlisten_for_full_screen:xe,full_screen:je,save:ke,map_for_export:Me,save_svg:ze,save_png:Se,convert_map:Ae},e.exports=He},"./node_modules/escher-vis/js/src/PlacedDiv.js":function(e,t,n){function r(e,t,n){this.div=e,this.map=t,this.displacement=void 0===n?{x:0,y:0}:n,this.visible=!0,this.hide()}function i(){return this.visible}function o(e){this.div.style("display",null);var t=this.map.zoom_container.window_translate,n=this.map.zoom_container.window_scale,r=this.map.get_size(),i=Math.max(20,Math.min(r.width-270,n*e.x+t.x-this.displacement.x)),o=Math.max(20,Math.min(r.height-40,n*e.y+t.y-this.displacement.y));this.div.style("position","absolute").style("display","block").style("left",i+"px").style("top",o+"px"),this.visible=!0}function s(){this.visible&&(this.div.style("display","none"),this.visible=!1)}var a=n("./node_modules/escher-vis/js/src/utils.js"),c=a.make_class();c.prototype={init:r,is_visible:i,place:o,hide:s},e.exports=c},"./node_modules/escher-vis/js/src/QuickJump.js":function(e,t,n){function r(e,t){var n=e.append("select").attr("id","quick-jump-menu").attr("class","form-control");this.selector=n;var r=s.parse_url_components(window),i="map_name"in r?r.map_name:null,o="quick_jump_path"in r?r.quick_jump_path:null,a="quick_jump"in r?r.quick_jump:[],c="— Jump to map —",u=[c].concat(a);null!==i&&(u=u.filter(function(e){return e!=i}));var l=function(e){t(e,o,function(t){t?this.replace_state_for_map_name(e):this.reset_selection()}.bind(this))}.bind(this);if(u.length>1){var d=n.selectAll("option").data(u);d.enter().append("option").merge(d).text(function(e){return e.split(".").slice(-1)[0]}),n.on("change",function(){var e=this.options[this.selectedIndex].__data__;l(e)})}else n.style("display","none")}function i(){this.selector.node().selectedIndex=0}function o(e){var t=window.location.href.replace(/(map_name=)([^&]+)(&|$)/,"$1"+e+"$3");window.history.replaceState("Not implemented","",t)}var s=n("./node_modules/escher-vis/js/src/utils.js"),a=s.make_class();a.prototype={init:r,reset_selection:i,replace_state_for_map_name:o},e.exports=a},"./node_modules/escher-vis/js/src/Scale.js":function(e,t,n){function r(){this.x=s(),this.y=s(),this.x_size=s(),this.y_size=s(),this.size=s(),this.reaction_color=s().clamp(!0),this.reaction_size=s().clamp(!0),this.metabolite_color=s().clamp(!0),this.metabolite_size=s().clamp(!0),this.scale_path=function(e){var t=this.x,n=this.y,r=a(".2f"),e=e.replace(/(M|L)([0-9-.]+),?\s*([0-9-.]+)/g,function(e,i,o,s){return i+[r(t(parseFloat(o))),r(n(parseFloat(s)))].join(", ")}),i=/C([0-9-.]+),?\s*([0-9-.]+)\s*([0-9-.]+),?\s*([0-9-.]+)\s*([0-9-.]+),?\s*([0-9-.]+)/g;return e=e.replace(i,function(e,i,o,s,a,c,u){return"C"+r(t(parseFloat(i)))+","+r(n(parseFloat(o)))+" "+r(t(parseFloat(s)))+","+r(n(parseFloat(a)))+" "+[r(t(parseFloat(c)))+","+r(n(parseFloat(u)))]})}.bind(this),this.scale_decimals=function(e,t,n){var r=a("."+String(n)+"f");return e=e.replace(/([0-9.]+)/g,function(e,n){return r(t(parseFloat(n)))})}}function i(e,t,n){function r(e,t){var n=e.map(function(e){var n;if(e.type in t)n=t[e.type];else{if("value"!=e.type)throw new Error("Bad domain type "+e.type);n=e.value}return{v:n,color:e.color,size:e.size}}).sort(function(e,t){return e.v-t.v});return{domain:n.map(function(e){return e.v}),color_range:n.map(function(e){return e.color}),size_range:n.map(function(e){return e.size})}}var i=function(e){var t=r(e,n().reaction);this.reaction_color.domain(t.domain),this.reaction_size.domain(t.domain),this.reaction_color.range(t.color_range),this.reaction_size.range(t.size_range)}.bind(this),o=function(e){var t=r(e,n().metabolite);this.metabolite_color.domain(t.domain),this.metabolite_size.domain(t.domain),this.metabolite_color.range(t.color_range),this.metabolite_size.range(t.size_range)}.bind(this);e.streams.reaction_scale.onValue(i),e.streams.metabolite_scale.onValue(o),t.callback_manager.set("calc_data_stats__reaction",function(t){t&&i(e.get_option("reaction_scale"))}),t.callback_manager.set("calc_data_stats__metabolite",function(t){t&&o(e.get_option("metabolite_scale"))})}var o=n("./node_modules/escher-vis/js/src/utils.js"),s=n("./node_modules/d3-scale/index.js").scaleLinear,a=n("./node_modules/d3-format/index.js").format,c=o.make_class();c.prototype={init:r,connect_to_settings:i},e.exports=c},"./node_modules/escher-vis/js/src/ScaleEditor.js":function(e,t,n){function r(e,t,n,r){var i="grad"+t+this.unique_string;this.w=400,this.h=30,this.x=20,this.input_width=90,this.input_height=24;var o=e.append("div").attr("class","scale-editor");this.data_not_loaded=o.append("div").attr("class","data-not-loaded").text(("reaction"===t?"Reaction and gene":"Metabolite")+" data not loaded"),this.input_label_group=o.append("div").attr("class","input-label-group");var s=o.append("div").style("top",3*this.input_height+56+10+"px").attr("class","no-data");s.append("span").text("Styles for "+t+"s with no data").attr("class","no-data-heading"),this.no_data_container=s.append("div");var a=o.append("div").attr("class","centered");this.add_group=a.append("div"),this.trash_group=a.append("div").attr("class","trash-container");var c=a.append("svg").attr("class","scale-svg");this.input_group=a.append("div").attr("class","input-container"),this.gradient=c.append("defs").append("linearGradient").attr("id",i),c.append("rect").attr("class","rect").attr("fill","url(#"+i+")").attr("width",this.w+"px").attr("height",this.h+"px").attr("x",this.x+"px"),this.pickers_group=c.append("g"),this.type=t,this.settings=n,this.get_data_statistics=r;var u=this.settings.get_option("unique_map_id");this.unique_string=null===u?"":"."+u,this.no_data={},["color","size"].forEach(function(e){this.no_data[e]=null,this.settings.streams[this.type+"_no_data_"+e].onValue(function(t){this.no_data[e]=t,this.update_no_data()}.bind(this))}.bind(this)),this.settings.streams[t+"_scale"].onValue(function(e){this.scale=e,this.update()}.bind(this))}function i(){var e=this.scale,t=this.get_data_statistics()[this.type],n=14,r=35,i=this.x,o=this._data_not_loaded();o&&(e=[{type:"min",color:null,size:null},{type:"max",color:null,size:null}],t={min:0,max:1});var s=c().domain([0,this.w]).range([t.min,t.max]),a=c().domain([0,this.w]).range([0,t.max-t.min]),f=function(e,t){this.input_group.selectAll(".input-set").each(function(t){d(this).classed("selected-set",e===t)})}.bind(this),_=function(e){return"value"===e.type?e.value:t[e.type]},p=function(e){this.settings.set_conditional(this.type+"_scale",e),this.scale=e,this.update()}.bind(this),m=e.map(function(e){return{frac:t.max===t.min?"min"===e.type?0:-1:(_(e)-t.min)/(t.max-t.min),color:e.color}}).filter(function(e){return e.frac>=0&&e.frac<=1}).sort(function(e,t){return e.frac-t.frac}),g=this.gradient.selectAll("stop").data(m);g.enter().append("stop").merge(g).attr("offset",function(e){return 100*e.frac+"%"}).style("stop-color",function(e){return null===e.color?"#F1ECFA":e.color}),g.exit().remove(),this.data_not_loaded.style("visibility",o?null:"hidden");var v=this.w,b=0,y=e.sort(function(e,t){return _(e)-_(t)}).map(function(e,r){var o,a=_(e),c=n+2;return o="value"===e.type&&a<=t.min?s.invert(t.min)-n/2+i-c:"value"===e.type&&a>=t.max?s.invert(t.max)-n/2+i+c:s.invert(a)-n/2+i,"min"!==e.type&&"max"!==e.type&&(o=Math.min(Math.max(o,b+c),v-2)),b=o,Object.assign({},e,{adjusted_x:o})}.bind(this)),w=this.pickers_group.selectAll(".picker").data(y),x=l().on("start",f).on("drag",function(r,i){-1===["value","min","max"].indexOf(e[i].type)&&(e[i].value=_(r),e[i].type="value");var o=e[i].value+a(h.event.dx),s=a(n+2);o>t.max-s&&(o=t.max-s),o<t.min+s&&(o=t.min+s),o=Math.floor(100*o)/100,e[i].value=o,this.settings.set_conditional(this.type+"_scale",e),this.scale=e,this.update()}.bind(this));w.enter().append("g").attr("class","picker").style("cursor","pointer").append("rect").merge(w).select("rect").attr("x",function(e,t){return e.adjusted_x}).attr("width",n+"px").attr("height",r+"px").call(x),w.exit().remove();var j=this.trash_group.selectAll("span").data(y);j.enter().append("span").merge(j).attr("class",function(e,t){return"min"===e.type||"max"===e.type?null:"trash glyphicon glyphicon-trash"}).style("left",function(e){return e.adjusted_x+"px"}).on("click",function(t,n){"min"!==t.type&&"max"!==t.type&&(e=e.slice(0,n).concat(e.slice(n+1)),this.settings.set_conditional(this.type+"_scale",e),this.scale=e,this.update())}.bind(this)),j.exit().remove();var k=this.add_group.selectAll(".add").data(["add"]);k.enter().append("span").attr("class","add glyphicon glyphicon-plus").merge(k).on("click",function(r){if(!o){for(var i=(t.max+t.min)/2,s=a(n+2),c=0,u=0,l=e.length;u<l;u++){var d=_(e[u]);Math.abs(d-i)<s&&(i+=s,i>t.max-s&&(i=t.max-s),i<t.min+s&&(i=t.min+s)),i>d&&(c=u)}e.push({type:"value",value:i,color:e[c].color,size:e[c].size}),p(e)}}.bind(this)),k.exit().remove();var M=this.input_label_group.selectAll(".row-label").data(["Value:","Color:","Size:"]);M.enter().append("div").attr("class","row-label").style("height",this.input_height+"px").style("line-height",this.input_height+"px").merge(M).style("top",function(e,t){return 56+t*this.input_height+"px"}.bind(this)).text(function(e){return e}),M.exit().remove();var E=this.input_group.selectAll(".input-set").data(y),z=E.enter().append("div").attr("class","input-set");z.append("input").attr("class","domain-input").style("width",this.input_width+"px"),z.append("select").attr("class","domain-type-picker"),z.append("input").attr("class","color-input").style("width",this.input_width+"px"),z.append("input").attr("type","color").style("visibility",function(){return"text"==this.type?"hidden":null}).attr("class","color-picker"),z.append("input").attr("class","size-input").style("width",this.input_width+"px");var S=z.merge(E);S.style("height",3*this.input_height+"px").style("width",this.input_width+"px").style("left",function(e){var t=e.adjusted_x;return t+this.input_width>this.w+this.x&&(t=t-this.input_width+n/2),t+"px"}.bind(this)).on("mousedown",f);var A=u(".4g");S.select(".domain-input").style("height",this.input_height+"px").each(function(e,t){"value"==e.type?(this.value=_(e),this.disabled=!1):(this.value=e.type+" ("+A(_(e))+")",this.disabled=!0)}).on("change",function(t,r){var i=(a(n+2),parseFloat(this.value));e[r].value=i,p(e)});var T=S.select(".domain-type-picker"),O=["value"].concat(Object.keys(t)).filter(function(e){return"min"!==e&&"max"!==e}),C=T.selectAll("option").data(O);C.enter().append("option").merge(C).attr("value",function(e){return e}).text(function(e){return e}),C.exit().remove(),T.style("visibility",function(e){return"min"==e.type||"max"==e.type?"hidden":null}).style("left",this.input_width-20+"px").style("width","20px").each(function(e,t){var n=0;d(this).selectAll("option").each(function(t,r){this.value==e.type&&(n=r)}),this.selectedIndex=n}).on("change",function(n,r){"value"==this.value&&(e[r].value=t[n.type]),e[r].type=this.value,p(e)}),S.select(".color-input").style("height",this.input_height+"px").style("top",this.input_height+"px").each(function(e,t){this.value=null===e.color?"":e.color,this.disabled=null===e.color}).on("change",function(t,n){e[n].color=this.value,p(e)}),S.select(".color-picker").style("left",this.input_width-this.input_height+"px").style("top",this.input_height+"px").style("width",this.input_height+"px").style("height",this.input_height+"px").each(function(e,t){this.value=null===e.color?"#dddddd":e.color,this.disabled=null===e.color}).on("change",function(t,n){e[n].color=this.value,p(e)}),S.select(".size-input").style("height",this.input_height+"px").style("top",2*this.input_height+"px").each(function(e,t){this.value=null===e.size?"":e.size,this.disabled=null===e.size}).on("change",function(t,n){e[n].size=parseFloat(this.value),p(e)}),E.exit().remove()}function o(){var e=this.no_data,t=this._data_not_loaded(),n=40,r=this.no_data_container.selectAll(".input-group").data([["color","Color:"],["size","Size:"]]),i=r.enter().append("div").attr("class","input-group");i.append("span"),i.append("input"),i.append("input").attr("type","color").style("visibility",function(e){return"text"===this.type||"color"!==e[0]?"hidden":null}).attr("class","color-picker");var o=i.merge(r);o.select("span").text(function(e){return e[1]}).style("height",this.input_height+"px").style("line-height",this.input_height+"px").style("left",function(e,t){return(n+this.input_width+10)*t+"px"}.bind(this));(function(e){return this.settings.get_option(this.type+"_no_data_"+e)}).bind(this);o.select("input").style("left",function(e,t){return n+(n+this.input_width+10)*t+"px"}.bind(this)).style("height",this.input_height+"px").style("width",this.input_width+"px").each(function(n){this.value=t?"":e[n[0]],this.disabled=t}).on("change",function(e){var t=h.event.target.value;"size"===e[0]&&(t=parseFloat(t)),this.no_data[e[0]]=t,this.settings.set_conditional(this.type+"_no_data_"+e[0],t),this.update_no_data()}.bind(this)),o.select(".color-picker").style("left",function(e,t){return(n+this.input_width)*(t+1)-this.input_height+"px"}.bind(this)).style("width",this.input_height+"px").style("height",this.input_height+"px").each(function(n,r){this.value=t?"#dddddd":e[n[0]],this.disabled=t}).on("change",function(e,t){var n=h.event.target.value;this.no_data[e[0]]=n,this.settings.set_conditional(this.type+"_no_data_"+e[0],n),this.update_no_data()}.bind(this)),r.exit().remove()}function s(){var e=this.get_data_statistics()[this.type];return null===e.max||null===e.min}var a=n("./node_modules/escher-vis/js/src/utils.js"),c=(n("./node_modules/baconjs/dist/Bacon.js"),n("./node_modules/d3-scale/index.js").scaleLinear),u=n("./node_modules/d3-format/index.js").format,l=n("./node_modules/d3-drag/index.js").drag,d=n("./node_modules/d3-selection/index.js").select,h=n("./node_modules/d3-selection/index.js"),f=a.make_class();f.prototype={init:r,update:i,update_no_data:o,_data_not_loaded:s},e.exports=f},"./node_modules/escher-vis/js/src/SearchBar.js":function(e,t,n){function r(e,t,n){var r=e.attr("class","search-container").style("display","none");this.input=r.append("input").attr("class","search-bar");var o=r.append("div").attr("class","btn-group btn-group-sm");o.append("button").attr("class","btn btn-default").on("click",this.previous.bind(this)).append("span").attr("class","glyphicon glyphicon-chevron-left"),o.append("button").attr("class","btn btn-default").on("click",this.next.bind(this)).append("span").attr("class","glyphicon glyphicon-chevron-right"),this.counter=r.append("div").attr("class","search-counter"),r.append("button").attr("class","btn btn-sm btn-default close-button").on("click",function(){this.toggle(!1)}.bind(this)).append("span").attr("class","glyphicon glyphicon-remove"),this.callback_manager=new d,this.selection=r,this.map=n,this.search_index=t,this.current=1,this.results=null;var s=function(e){this.current=1,this.results=i(this.search_index.find(e.value)),this.update()}.bind(this,this.input.node());this.input.on("input",l.debounce(s,200))}function i(e){return h.uniq(e,function(e){var t=_[e.type];return t[0]+e[t[1]]})}function o(){return"none"!==this.selection.style("display")}function s(e){this.is_active=void 0===e?!this.is_active:e,this.is_active?(this.selection.style("display",null),this.counter.text(""),this.input.node().value="",this.input.node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this.toggle(!1)}.bind(this),!0),this.clear_next=this.map.key_manager.add_key_listener(["enter","ctrl+g"],function(){this.next()}.bind(this),!1),this.clear_previous=this.map.key_manager.add_key_listener(["shift+enter","shift+ctrl+g"],function(){this.previous()}.bind(this),!1),this.callback_manager.run("show")):(this.map.highlight(null),this.selection.style("display","none"),this.results=null,this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_next&&this.clear_next(),this.clear_next=null,this.clear_previous&&this.clear_previous(),this.clear_previous=null,this.callback_manager.run("hide"))}function a(){if(null===this.results)this.counter.text(""),this.map.highlight(null);else if(0===this.results.length)this.counter.text("0 / 0"),this.map.highlight(null);else{this.counter.text(this.current+" / "+this.results.length);var e=this.results[this.current-1];if("reaction"==e.type)this.map.zoom_to_reaction(e.reaction_id),this.map.highlight_reaction(e.reaction_id);else if("metabolite"==e.type)this.map.zoom_to_node(e.node_id),this.map.highlight_node(e.node_id);else{if("text_label"!=e.type)throw new Error("Bad search index data type: "+e.type);this.map.zoom_to_text_label(e.text_label_id),this.map.highlight_text_label(e.text_label_id)}}}function c(){null!==this.results&&(this.current===this.results.length?this.current=1:this.current+=1,this.update())}function u(){null!==this.results&&(1===this.current?this.current=this.results.length:this.current-=1,this.update())}var l=n("./node_modules/escher-vis/js/src/utils.js"),d=n("./node_modules/escher-vis/js/src/CallbackManager.js"),h=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),f=l.make_class();f.prototype={init:r,is_visible:o,toggle:s,update:a,next:c,previous:u},e.exports=f;var _={metabolite:["m","node_id"],reaction:["r","reaction_id"],text_label:["t","text_label_id"]}},"./node_modules/escher-vis/js/src/SearchIndex.js":function(e,t,n){function r(){this.index={}}function i(e,t,n,r){if(!n&&e in this.index)throw new Error("id is already in the index");if(r&&!("name"in t&&"data"in t))throw new Error("malformed record");this.index[e]=t}function o(e){return e in this.index&&(delete this.index[e],!0)}function s(e){var t=RegExp(e,"i"),n=[];for(var r in this.index){var i=this.index[r];t.exec(i.name)&&n.push(i.data)}return n}var a=n("./node_modules/escher-vis/js/src/utils.js"),c=a.make_class();c.prototype={init:r,insert:i,remove:o,find:s},e.exports=c},"./node_modules/escher-vis/js/src/Settings.js":function(e,t,n){function r(e,t,n){this.set_option=e,this.get_option=t,this.status_bus=new h.Bus,this.force_update_bus=new h.Bus,h.Observable.prototype.convert_to_conditional_stream=i,h.Observable.prototype.force_update_with_bus=o,this.busses={},this.streams={};for(var r=0,a=n.length;r<a;r++){var c=n[r],u=s(c,t(c),e,this.status_bus,this.force_update_bus);this.busses[c]=u.bus,this.streams[c]=u.stream}}function i(e){var t=e.map(function(e){return"hold"==e}).not().toProperty(!0),n=e.scan(!1,function(e,t){return 0==e&&("accepted"==t||"rejected"==t)}).not(),r=e.scan(!1,function(e,t){return 0==e&&"hold"==t}).not(),i=h.combineAsArray(this,e),o=i.scan([],function(e,t){if("hold"==t[1])return e.push(t[0]),e;if("accept"==t[1])return e;if("reject"==t[1])return[];if("rejected"==t[1]||"accepted"==t[1])return[t[0]];throw Error("bad status "+t[1])}).filter(t).filter(n).filter(r).flatMap(function(e){return h.fromArray(e)});return this.filter(t).merge(o)}function o(e){return h.combineAsArray(this,e.toProperty(!1)).map(function(e){return e[0]})}function s(e,t,n,r,i){var o=new h.Bus,s=o.convert_to_conditional_stream(r).force_update_with_bus(i);return s.onValue(function(t){n(e,t)}),o.push(t),{bus:o,stream:s}}function a(e,t){if(!(e in this.busses))throw new Error("Invalid setting name");this.busses[e].push(t)}function c(){this.status_bus.push("hold")}function u(){this.status_bus.push("reject"),this.status_bus.push("rejected"),this.force_update_bus.push(!0)}function l(){this.status_bus.push("accept"),this.status_bus.push("accepted")}var d=n("./node_modules/escher-vis/js/src/utils.js"),h=n("./node_modules/baconjs/dist/Bacon.js"),f=d.make_class();f.prototype={init:r,set_conditional:a,hold_changes:c,abandon_changes:u,accept_changes:l},e.exports=f},"./node_modules/escher-vis/js/src/SettingsMenu.js":function(e,t,n){function r(e,t,n,r){this.sel=e,this.settings=t,this.draw=!1;var i=this.settings.get_option("unique_map_id");this.unique_string=null===i?"":"."+i;var o=e.append("div").attr("class","settings-box-background").style("display","none"),s=o.append("div").attr("class","settings-box-container").style("display","none");s.append("button").attr("class","btn btn-sm btn-default settings-button").on("click",function(){this.accept_changes()}.bind(this)).append("span").attr("class","glyphicon glyphicon-ok"),s.append("button").attr("class","btn btn-sm btn-default settings-button settings-button-close").on("click",function(){this.abandon_changes()}.bind(this)).append("span").attr("class","glyphicon glyphicon-remove");var a=s.append("div").attr("class","settings-box");a.append("div").text("Tip: Hover over an option to see more details about it.").classed("settings-tip",!0),a.append("hr"),a.append("div").text("View and docs options").attr("class","settings-section-heading-large"),this.view_gui(a.append("div")),a.append("hr"),a.append("div").text("Reactions").attr("class","settings-section-heading-large");var c=new f(a.append("div"),"reaction",this.settings,n.get_data_statistics.bind(n));n.callback_manager.set("calc_data_stats__reaction",function(e){e&&(c.update(),c.update_no_data())}),a.append("div").text("Reaction or Gene data").attr("class","settings-section-heading"),this.style_gui(a.append("div"),"reaction",function(e){r&&(r("reaction",e),c.update(),c.update_no_data())}),a.append("hr"),a.append("div").text("Metabolites").attr("class","settings-section-heading-large");var u=new f(a.append("div"),"metabolite",this.settings,n.get_data_statistics.bind(n));n.callback_manager.set("calc_data_stats__metabolite",function(e){e&&(u.update(),u.update_no_data())}),a.append("div").text("Metabolite data").attr("class","settings-section-heading"),this.style_gui(a.append("div"),"metabolite",function(e){r&&(r("metabolite",e),u.update(),u.update_no_data())}),this.callback_manager=new h,this.map=n,this.selection=s,this.background=o}function i(){return"none"!=this.selection.style("display")}function o(e){void 0===e&&(e=!this.is_visible()),e?(this.hold_changes(),this.selection.style("display","inline-block"),this.background.style("display","block"),this.selection.select("input").node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this.abandon_changes()}.bind(this),!0),this.clear_enter=this.map.key_manager.add_enter_listener(function(){this.accept_changes()}.bind(this),!0),this.callback_manager.run("show")):(this.draw&&this.map.draw_everything(),this.selection.style("display","none"),this.background.style("display","none"),this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_enter&&this.clear_enter(),this.clear_enter=null,this.callback_manager.run("hide"))}function s(){this.settings.hold_changes()}function a(){this.draw=!1,this.settings.abandon_changes(),this.toggle(!1)}function c(){this.sel.selectAll("input").each(function(e){this.blur()}),this.draw=!0,this.settings.accept_changes(),this.toggle(!1)}function u(e,t,n){var r=e.append("table").attr("class","settings-table"),i=this.settings;r.append("tr").call(function(e){e.append("td").text("Options:").attr("class","options-label").attr("title","Options for "+t+" data.");var r=e.append("td"),o=[["Absolute value","abs","If checked, use the absolute value when calculating colors and sizes of "+t+"s on the map"],["Size","size","If checked, then size the "+("metabolite"==t?"radius of metabolite circles ":"thickness of reaction lines ")+"according to the value of the "+t+" data"],["Color","color","If checked, then color the "+("metabolite"==t?"metabolite circles ":"reaction lines ")+"according to the value of the "+t+" data"],["Text (Show data in label)","text","If checked, then show data values in the "+t+" labels"]],s=r.selectAll(".option-group").data(o),a=s.enter().append("label").attr("class","option-group"),c=function(){var e=[];return r.selectAll("input").each(function(t){this.checked&&e.push(t[1])}),e};a.append("input").attr("type","checkbox").on("change",function(e){i.set_conditional(t+"_styles",c()),"abs"==e[1]&&n(this.checked)}).each(function(e){i.streams[t+"_styles"].onValue(function(t){this.checked=-1!=t.indexOf(e[1])}.bind(this))}),a.append("span").text(function(e){return e[0]}).attr("title",function(e){return e[2]})}),r.append("tr").call(function(e){e.append("td").text("Comparison:").attr("class","options-label").attr("title","The function that will be used to compare datasets, when paired data is loaded");var n=e.append("td").attr("title","The function that will be used to compare datasets, when paired data is loaded"),r=[["Fold Change","fold"],["Log2(Fold Change)","log2_fold"],["Difference","diff"]],o=n.selectAll(".option-group").data(r),s=o.enter().append("label").attr("class","option-group");s.append("input").attr("type","radio").attr("name",t+"_compare_style"+this.unique_string).attr("value",function(e){return e[1]}).on("change",function(){this.checked&&i.set_conditional(t+"_compare_style",this.value)}).each(function(){i.streams[t+"_compare_style"].onValue(function(e){this.checked=this.value==e}.bind(this))}),s.append("span").text(function(e){return e[0]})}.bind(this)),"reaction"===t&&e.append("table").attr("class","settings-table").attr("title","The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)").append("tr").call(function(e){e.append("td").text("Method for evaluating AND:").attr("class","options-label-wide");var t=e.append("td"),n=[["Mean","mean"],["Min","min"]],r=t.selectAll(".option-group").data(n),o=r.enter().append("label").attr("class","option-group"),s="and_method_in_gene_reaction_rule";o.append("input").attr("type","radio").attr("name",s+this.unique_string).attr("value",function(e){return e[1]}).on("change",function(){this.checked&&i.set_conditional(s,this.value)}).each(function(){i.streams[s].onValue(function(e){this.checked=this.value==e}.bind(this))}),o.append("span").text(function(e){return e[0]})}.bind(this))}function l(e,t,n,r){var i=this.settings;e.append("table").attr("class","settings-table").append("tr").call(function(e){e.attr("title","The identifiers that are show in the reaction, gene, and metabolite labels on the map."),e.append("td").text("Identifiers:").attr("class","options-label");var t=e.append("td"),n=[["ID's","bigg_id"],["Descriptive names","name"]],r=t.selectAll(".option-group").data(n),o=r.enter().append("label").attr("class","option-group"),s="identifiers_on_map";o.append("input").attr("type","radio").attr("name",s+this.unique_string).attr("value",function(e){return e[1]}).on("change",function(){this.checked&&i.set_conditional(s,this.value)}).each(function(){i.streams[s].onValue(function(e){this.checked=this.value==e}.bind(this))}),o.append("span").text(function(e){return e[0]})}.bind(this));var o=[["scroll_behavior","Scroll to zoom (instead of scroll to pan)","If checked, then the scroll wheel and trackpad will control zoom rather than pan.",{zoom:!0,pan:!1}],["hide_secondary_metabolites","Hide secondary metabolites","If checked, then only the primary metabolites will be displayed."],["show_gene_reaction_rules","Show gene reaction rules","If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)"],["hide_all_labels","Hide reaction, gene, and metabolite labels","If checked, hide all reaction, gene, and metabolite labels"],["allow_building_duplicate_reactions","Allow duplicate reactions","If checked, then allow duplicate reactions during model building."],["highlight_missing","Highlight reactions not in model","If checked, then highlight in red all the reactions on the map that are not present in the loaded model."],["enable_tooltips","Show tooltips","Show tooltips when hovering over reactions, metabolites, and genes"]],s=e.append("div").attr("class","settings-container").selectAll(".option-group").data(o),a=s.enter().append("label").attr("class","option-group full-line");a.append("input").attr("type","checkbox"),a.append("span");var c=a.merge(s);c.attr("title",function(e){return e[2]}),c.select("input").on("change",function(e){if(e.length>=4){for(var t in e[3])if(e[3][t]==this.checked){i.set_conditional(e[0],t);break}}else i.set_conditional(e[0],this.checked)}).each(function(e){i.streams[e[0]].onValue(function(t){e.length>=4?this.checked=e[3][t]:this.checked=t}.bind(this))}),c.select("span").text(function(e){return e[1]}),s.exit().remove(),e.append("div").style("margin-top","16px").classed("settings-tip",!0).text("Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).")}var d=n("./node_modules/escher-vis/js/src/utils.js"),h=n("./node_modules/escher-vis/js/src/CallbackManager.js"),f=n("./node_modules/escher-vis/js/src/ScaleEditor.js"),_=d.make_class();_.prototype={init:r,is_visible:i,toggle:o,hold_changes:s,abandon_changes:a,accept_changes:c,style_gui:u,view_gui:l},e.exports=_},"./node_modules/escher-vis/js/src/TextEditInput.js":function(e,t,n){function r(e,t,n){var r=e.append("div").attr("id","text-edit-input");this.placed_div=h(r,t),this.placed_div.hide(),this.input=r.append("input"),this.map=t,this.setup_map_callbacks(t),this.zoom_container=n,this.setup_zoom_callbacks(n),this.is_new=!1}function i(e){e.callback_manager.set("edit_text_label.text_edit_input",function(e,t){this.show(e,t)}.bind(this)),e.callback_manager.set("new_text_label.text_edit_input",function(e){null!==this.active_target&&this._accept_changes(this.active_target.target),this.hide(),this._add_and_edit(e)}.bind(this)),e.callback_manager.set("hide_text_label_editor.text_edit_input",function(){this.hide()}.bind(this))}function o(e){e.callback_manager.set("zoom.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this)),e.callback_manager.set("go_to.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this))}function s(){return this.placed_div.is_visible()}function a(e,t){this.active_target&&this._accept_changes(this.active_target.target),this.active_target={target:e,coords:t},e.each(function(e){this.input.node().value=e.text}.bind(this)),this.placed_div.place(t),this.input.node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this._accept_changes(e),this.hide()}.bind(this),!0),this.clear_enter=this.map.key_manager.add_enter_listener(function(e){this._accept_changes(e),this.hide()}.bind(this,e),!0)}function c(){this.is_new=!1,this.placed_div.hide(),this.input.attr("value",""),this.active_target=null,this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_enter&&this.clear_enter(),this.clear_enter=null}function u(e){if(""===this.input.node().value)e.each(function(e){var t={};t[e.text_label_id]=this.map.text_labels[e.text_label_id],this.map.delete_selectable({},t,!0)}.bind(this));else{var t=[];e.each(function(e){this.map.edit_text_label(e.text_label_id,this.input.node().value,!0,this.is_new),t.push(e.text_label_id)}.bind(this))}}function l(e){this.is_new=!0;var t=this.map.new_text_label(e,""),n=this.map.sel.select("#text-labels").selectAll(".text-label").filter(function(e){return e.text_label_id===t});n.select("text").classed("edit-text-cursor",!0),this.show(n,e)}var d=n("./node_modules/escher-vis/js/src/utils.js"),h=n("./node_modules/escher-vis/js/src/PlacedDiv.js"),f=(n("./node_modules/escher-vis/js/src/docs.js"),d.make_class());f.prototype={init:r,setup_map_callbacks:i,setup_zoom_callbacks:o,is_visible:s,show:a,hide:c,_accept_changes:u,_add_and_edit:l},e.exports=f},"./node_modules/escher-vis/js/src/Tooltip.js":function(e,t,n){function r(e,t){return"metabolite"===t?o.decompartmentalize(e)[0]:e}function i(e){return null===e?e:e.charAt(0).toUpperCase()+e.slice(1)}var o=n("./node_modules/escher-vis/js/src/utils.js"),s=n("./node_modules/tinier/lib/tinier.js"),a=s.createComponent,c=(s.createInterface,s.interfaceTypes,s.createElement),u=s.render,l=(n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),{"min-width":"270px","min-height":"100px","border-radius":"2px",border:"1px solid #b58787",padding:"7px","background-color":"#fff","text-align":"left","font-size":"16px","font-family":"sans-serif",color:"#111","box-shadow":"4px 6px 20px 0px rgba(0, 0, 0, 0.4)"}),d={"font-size":"18px","font-weight":"bold"},h={"border-radius":"3px","background-color":"#eee",border:"1px solid #ddd","margin-top":"4px"},f={position:"absolute",top:"4px",right:"4px",color:"#d27066","background-color":"#ffeded","border-radius":"2px","font-size":"14px","text-align":"right",padding:"0px 5px"},_=a({displayName:"DefaultTooltip",init:function(){return{biggId:"",name:"",loc:{x:0,y:0},data:null,type:null}},reducers:{setContainerData:function(e){return Object.assign({},e.state,{biggId:e.biggId,name:e.name,loc:e.loc,data:e.data,type:e.type})}},methods:{openBigg:function(e){var t=e.state.type,n=e.state.biggId,i="http://bigg.ucsd.edu/",o="gene"===t?i+"search?query="+n:i+"universal/"+t+"s/"+r(n,t);window.open(o)}},render:function(e){var t=r(e.state.biggId,e.state.type),n="Open "+t+" in BiGG Models.";return u(e.el,c("div",{style:l},c("span",{style:d},e.state.biggId),c("br"),"name: "+e.state.name,c("br"),"data: "+(e.state.data&&"(nd)"!==e.state.data?e.state.data:"no data"),c("br"),c("button",{style:h,onClick:e.methods.openBigg},n),c("div",{style:f},i(e.state.type))))}});e.exports={DefaultTooltip:_}},"./node_modules/escher-vis/js/src/TooltipContainer.js":function(e,t,n){function r(e,t,n,r){var i=e.append("div").attr("id","tooltip-container");this.placed_div=h(i,t),i.on("mouseover",this.cancel_hide_tooltip.bind(this)),i.on("mouseleave",this.hide.bind(this)),this.map=t,this.setup_map_callbacks(t),this.zoom_container=r,this.setup_zoom_callbacks(r),this.tooltip_component=n,this.tooltip_function=_.isFunction(n)?function(e){n({state:e,el:i.node()})}:null,this.tinier_tooltip=f.checkType(f.COMPONENT,n)?f.run(n,i.node()):null,this.delay_hide_timeout=null}function i(e){e.callback_manager.set("show_tooltip.tooltip_container",function(t,n){e.settings.get_option("enable_tooltips")&&this.show(t,n)}.bind(this)),e.callback_manager.set("hide_tooltip.tooltip_container",this.hide.bind(this)),e.callback_manager.set("delay_hide_tooltip.tooltip_container",this.delay_hide.bind(this))}function o(e){e.callback_manager.set("zoom.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this)),e.callback_manager.set("go_to.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this))}function s(){return this.placed_div.is_visible()}function a(e,t){if(this.cancel_hide_tooltip(),!_.contains(["reaction_label","node_label","gene_label"],e))throw new Error("Tooltip not supported for object type "+e);var n={x:t.label_x,y:t.label_y+10};this.placed_div.place(n);const r={biggId:t.bigg_id,name:t.name,loc:n,data:t.data_string,type:e.replace("_label","").replace("node","metabolite")};null!==this.tooltip_function?this.tooltip_function(r):this.tinier_tooltip&&this.tinier_tooltip.reducers.setContainerData(r)}function c(){this.placed_div.hide()}function u(){this.delay_hide_timeout=setTimeout(function(){this.hide()}.bind(this),100)}function l(){null!==this.delay_hide_timeout&&clearTimeout(this.delay_hide_timeout)}var d=n("./node_modules/escher-vis/js/src/utils.js"),h=n("./node_modules/escher-vis/js/src/PlacedDiv.js"),f=n("./node_modules/tinier/lib/tinier.js"),_=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),p=d.make_class();p.prototype={init:r,setup_map_callbacks:i,setup_zoom_callbacks:o,is_visible:s,show:a,hide:c,delay_hide:u,cancel_hide_tooltip:l},e.exports=p},"./node_modules/escher-vis/js/src/UndoStack.js":function(e,t,n){function r(){this.stack=Array(40),this.current=-1,this.oldest=-1,this.newest=-1,this.end_of_stack=!0,this.top_of_stack=!0}function i(e,t){return e+1>t-1?0:e+1}function o(e,t){return e-1<0?t-1:e-1}function s(e,t){this.current=i(this.current,this.stack.length),this.end_of_stack?this.oldest=this.current:this.oldest==this.current&&(this.oldest=i(this.oldest,this.stack.length)),this.stack[this.current]={undo:e,redo:t},this.newest=this.current,this.top_of_stack=!0,this.end_of_stack=!1}function a(){if(this.end_of_stack)return console.warn("End of stack.");this.stack[this.current].undo(),this.current==this.oldest?this.end_of_stack=!0:this.current=o(this.current,this.stack.length),this.top_of_stack=!1}function c(){if(this.top_of_stack)return console.warn("Top of stack.");this.end_of_stack||(this.current=i(this.current,this.stack.length)),this.stack[this.current].redo(),this.current==this.newest&&(this.top_of_stack=!0),this.end_of_stack=!1}var u=n("./node_modules/escher-vis/js/src/utils.js"),l=u.make_class();l.prototype={init:r,push:s,undo:a,redo:c},e.exports=l},"./node_modules/escher-vis/js/src/ZoomContainer.js":function(e,t,n){function r(e,t,n,r){e.classed("escher-container",!0),e.on("touchstart touchmove",function(){k.event.stopPropagation()}),r&&(j("html").classed("fill-screen",!0),j("body").classed("fill-screen",!0),e.classed("fill-screen-div",!0));var i=e.append("div").attr("class","escher-zoom-container"),o=i.append("div").attr("class","escher-3d-transform-container"),s=o.append("svg").attr("class","escher-svg").attr("xmlns","http://www.w3.org/2000/svg");s.select(".zoom-g").remove();var a=s.append("g").attr("class","zoom-g");this.selection=e,this.zoom_container=i,this.css3_transform_container=o,this.svg=s,this.zoomed_sel=a,this.window_translate={x:0,y:0},this.window_scale=1,this._scroll_behavior=t,this._use_3d_transform=n,this._pan_drag_on=!0,this._zoom_behavior=null,this._zoom_timeout=null,this._svg_scale=this.window_scale,this._svg_translate=this.window_translate,this.callback_manager=new b,this._update_scroll()}function i(e){this._scroll_behavior=e,this._update_scroll()}function o(e){this._use_3d_transform=e}function s(e){y.isUndefined(e)?this._pan_drag_on=!this._pan_drag_on:this._pan_drag_on=e,this._pan_drag_on?this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1):this.zoomed_sel.style("cursor",null).classed("cursor-grab",!1).classed("cursor-grabbing",!1),this._update_scroll()}function a(){if(!y.contains(["zoom","pan","none"],this._scroll_behavior))throw Error("Bad value for scroll_behavior: "+this._scroll_behavior);if(this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null).on("dblclick.zoom",null).on("mousewheel.escher",null).on("DOMMouseScroll.escher",null).on("wheel.escher",null).on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),this._zoom_behavior=w().on("start",function(){k.event.sourceEvent&&"mousedown"===k.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!1).classed("cursor-grabbing",!0),null!==k.event.sourceEvent&&(k.event.sourceEvent.stopPropagation(),k.event.sourceEvent.preventDefault())}.bind(this)).on("zoom",function(){this._go_to_callback(k.event.transform.k,{x:k.event.transform.x,y:k.event.transform.y})}.bind(this)).on("end",function(){k.event.sourceEvent&&"mouseup"===k.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1)}.bind(this)),this.zoom_container.call(this._zoom_behavior),this.zoom_container.on("dblclick.zoom",null),this._pan_drag_on||this.zoom_container.on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),"zoom"!==this._scroll_behavior&&this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null),"pan"===this._scroll_behavior){var e=function(){var e=k.event,t=.5;e.stopPropagation(),e.preventDefault(),e.returnValue=!1;var n=function(e,n){return(y.isUndefined(e)?n:-e/1.5)*t},r={x:this.window_translate.x-n(e.wheelDeltaX,e.deltaX),y:this.window_translate.y-n(e.wheelDeltaY,e.deltaY)};this.go_to(this.window_scale,r)}.bind(this);this.zoom_container.on("mousewheel.escher",e),this.zoom_container.on("DOMMouseScroll.escher",e),this.zoom_container.on("wheel.escher",e)}this.go_to(this.window_scale,this.window_translate)}function c(e,t){if(v.check_undefined(arguments,["scale","translate"]),!e)throw new Error("Bad scale value");if(!t||!("x"in t)||!("y"in t)||y.isNaN(t.x)||y.isNaN(t.y))throw new Error("Bad translate value");var n=x.translate(t.x,t.y).scale(e);this.zoom_container.call(this._zoom_behavior.transform,n)}function u(e,t){this.window_scale=e,this.window_translate=t,this._use_3d_transform?(y.isNull(this._zoom_timeout)||clearTimeout(this._zoom_timeout),this._go_to_3d(e,t,this._svg_scale,this._svg_translate),this._zoom_timeout=y.delay(function(){this._go_to_svg(e,t)}.bind(this),100)):this._go_to_svg(e,t),this.callback_manager.run("go_to")}function l(e,t,n,r){var i=e/n,o=v.c_minus_c(t,v.c_times_scalar(r,i)),s="translate("+o.x+"px,"+o.y+"px) scale("+i+")";this.css3_transform_container.style("transform",s),this.css3_transform_container.style("-webkit-transform",s),this.css3_transform_container.style("transform-origin","0 0"),this.css3_transform_container.style("-webkit-transform-origin","0 0")}function d(){this.css3_transform_container.style("transform",null),this.css3_transform_container.style("-webkit-transform",null),this.css3_transform_container.style("transform-origin",null),this.css3_transform_container.style("-webkit-transform-origin",null)}function h(e,t,n){this.callback_manager.run("svg_start"),y.defer(function(){this._clear_3d(),this.zoomed_sel.attr("transform","translate("+t.x+","+t.y+") scale("+e+")"),this._svg_scale=e,this._svg_translate=t,y.defer(function(){this.callback_manager.run("svg_finish"),y.isUndefined(n)||n()}.bind(this))}.bind(this))}function f(e){var t=this.get_size(),n={x:t.width/2-((t.width/2-this.window_translate.x)*e+this.window_translate.x),y:t.height/2-((t.height/2-this.window_translate.y)*e+this.window_translate.y)};this.go_to(this.window_scale*e,v.c_plus_c(this.window_translate,n))}function _(){this.zoom_by(1.5)}function p(){this.zoom_by(.667)}function m(){var e=parseInt(this.selection.style("width"),10),t=parseInt(this.selection.style("height"),10);if(y.isNaN(e)||y.isNaN(t))throw new Error("Size not defined for ZoomContainer element.");return{width:e,height:t}}function g(e){var t=120,n=this.get_size(),r={x:{min:-this.window_translate.x/this.window_scale+t/this.window_scale,max:-this.window_translate.x/this.window_scale+(n.width-t)/this.window_scale},y:{min:-this.window_translate.y/this.window_scale+t/this.window_scale,max:-this.window_translate.y/this.window_scale+(n.height-t)/this.window_scale}};e.x<r.x.min?(this.window_translate.x=this.window_translate.x-(e.x-r.x.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):e.x>r.x.max&&(this.window_translate.x=this.window_translate.x-(e.x-r.x.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate)),e.y<r.y.min?(this.window_translate.y=this.window_translate.y-(e.y-r.y.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):e.y>r.y.max&&(this.window_translate.y=this.window_translate.y-(e.y-r.y.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate))}var v=n("./node_modules/escher-vis/js/src/utils.js"),b=n("./node_modules/escher-vis/js/src/CallbackManager.js"),y=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),w=n("./node_modules/d3-zoom/index.js").zoom,x=(n("./node_modules/d3-zoom/index.js").zoomTransform,n("./node_modules/d3-zoom/index.js").zoomIdentity),j=n("./node_modules/d3-selection/index.js").select,k=n("./node_modules/d3-selection/index.js"),M=v.make_class();M.prototype={init:r,set_scroll_behavior:i,set_use_3d_transform:o,_update_scroll:a,toggle_pan_drag:s,go_to:c,_go_to_callback:u,_go_to_3d:l,_clear_3d:d,_go_to_svg:h,zoom_by:f,zoom_in:_,zoom_out:p,get_size:m,translate_off_screen:g},e.exports=M},"./node_modules/escher-vis/js/src/build.js":function(e,t,n){function r(e){if(Math.abs(e)>Math.PI)throw new Error("Angle must be between -PI and PI");return Math.abs(e)<Math.PI/7||Math.abs(e-Math.PI)<Math.PI/7?{x:-50,y:-40}:e>0?{x:15*(1-Math.abs(e-Math.PI/2)/(Math.PI/2)),y:10+50*(e-Math.PI/2)}:{x:15*(1-Math.abs(e+Math.PI/2)/(Math.PI/2)),y:10-50*(Math.abs(e)-Math.PI/2)}}function i(e,t,n,r,i,o){var s=18*i.length,a=t-(t>o)-n/2>=-1;return Math.abs(e)<Math.PI/7?r||a?{x:.3*-s,y:40}:{x:.3*-s,y:-20}:Math.abs(e-Math.PI)<Math.PI/7?r||!a?{x:.3*-s,y:40}:{x:.3*-s,y:-20}:r?{x:25-38*Math.abs(Math.abs(e)-Math.PI/2),y:(Math.abs(e)-Math.PI/2)*(2*(e>0)-1)*50}:e<0&&a||e>0&&!a?{x:15,y:0}:{x:.5*-s,y:30}}function o(e,t,n,o,a,c,u,l){l=g.to_radians_norm(l);var h=String(++c.reactions),f={x:a.x,y:a.y},_=350,p=[f,g.c_plus_c(f,{x:_,y:0})],v={x:(p[0].x+p[1].x)/2,y:(p[0].y+p[1].y)/2},b=r(l),y=20,w={name:t.name,bigg_id:t.bigg_id,reversibility:t.reversibility,gene_reaction_rule:t.gene_reaction_rule,genes:g.clone(t.genes),metabolites:g.clone(t.metabolites)};g.extend(w,{label_x:v.x+b.x,label_y:v.y+b.y,segments:{}});var x=[],j=[],k=0,M=0,E=!1;for(var z in w.metabolites){var S=n[z],A=w.metabolites[z],T=S.formula,O={coefficient:A,bigg_id:z,name:S.name};if(A<0){O.index=k;var C=/C([0-9]+)/.exec(T);a.bigg_id===O.bigg_id?x.push([O.index,1/0]):C&&-1===u.indexOf(g.decompartmentalize(O.bigg_id)[0])&&x.push([O.index,parseInt(C[1])]),k++}else{O.index=M;var C=/C([0-9]+)/.exec(T);a.bigg_id===O.bigg_id?(j.push([O.index,1/0]),E=!0):C&&-1===u.indexOf(g.decompartmentalize(O.bigg_id)[0])&&j.push([O.index,parseInt(C[1])]),M++}w.metabolites[z]=O}var N=function(e,t){return t[1]>e[1]?t:e},D=x.reduce(N,[0,0])[0],I=j.reduce(N,[0,0])[0];for(var z in w.metabolites){var S=w.metabolites[z];S.coefficient<0?(S.is_primary=S.index===D,S.count=k):(S.is_primary=S.index===I,S.count=M)}var P={},F=[{node_type:"anchor_reactants",dis:{x:y*(E?1:-1),y:0}},{node_type:"center",dis:{x:0,y:0}},{node_type:"anchor_products",dis:{x:y*(E?-1:1),y:0}}],U={};F.map(function(e){var t=String(++c.nodes),n="center"===e.node_type?"midmarker":"multimarker";P[t]={node_type:n,x:v.x+e.dis.x,y:v.y+e.dis.y,connected_segments:[],name:null,bigg_id:null,label_x:null,label_y:null,node_is_primary:null,data:null},U[e.node_type]=t}),[[U.anchor_reactants,U.center,"reactants"],[U.anchor_products,U.center,"products"]].map(function(e){var t=e[0],n=e[1],r=String(++c.segments),i=0===k&&"reactants"===e[2]&&w.reversibility||0===M&&"products"===e[2];w.segments[r]={b1:null,b2:null,from_node_id:t,to_node_id:n,from_node_coefficient:null,to_node_coefficient:null,reversibility:w.reversibility,data:w.data,reverse_flux:w.reverse_flux,unconnected_segment_with_arrow:i},P[t].connected_segments.push({segment_id:r,reaction_id:h}),P[n].connected_segments.push({segment_id:r,reaction_id:h})});var L=P;for(var z in w.metabolites){var R,q,S=w.metabolites[z];S.coefficient<0?(R=D,q=U.anchor_reactants):(R=I,q=U.anchor_products);var B=d(S,R,p,v,_,E);if(a.bigg_id===S.bigg_id){var H=String(++c.segments);w.segments[H]={b1:B.b1,b2:B.b2,from_node_id:q,to_node_id:o,from_node_coefficient:null,to_node_coefficient:S.coefficient,reversibility:w.reversibility},a.connected_segments.push({segment_id:H,reaction_id:h}),L[q].connected_segments.push({segment_id:H,reaction_id:h})}else{var H=String(++c.segments),V=String(++c.nodes);w.segments[H]={b1:B.b1,b2:B.b2,from_node_id:q,to_node_id:V,from_node_coefficient:null,to_node_coefficient:S.coefficient,reversibility:w.reversibility};var Y=i(l,S.index,S.count,S.is_primary,S.bigg_id,R);L[V]={connected_segments:[{segment_id:H,reaction_id:h}],x:B.circle.x,y:B.circle.y,node_is_primary:S.is_primary,label_x:B.circle.x+Y.x,label_y:B.circle.y+Y.y,name:S.name,bigg_id:S.bigg_id,node_type:"metabolite"},L[q].connected_segments.push({segment_id:H,reaction_id:h})}}var W=[];for(var e in w.metabolites)W.push({bigg_id:e,coefficient:w.metabolites[e].coefficient});w.metabolites=W;var X={};X[h]=w;var $=m(X);return L[o]=a,s(L,X,$,l,f),{new_reactions:X,new_beziers:$,new_nodes:L}}function s(e,t,n,r,i){var o=function(e){return null===e?null:g.rotate_coords(e,r,i)},s=[],a=[];for(var u in e){var l=e[u],d=o({x:l.x,y:l.y}),h=c(l,t,d);l.connected_segments.map(function(e){var r=t[e.reaction_id];if(void 0!==r){var i=e.segment_id,s=r.segments[i];if(s.to_node_id==u&&s.b2){var a=o(s.b2),c=f(i,"b2");s.b2=g.c_plus_c(s.b2,a),n[c].x=s.b2.x,n[c].y=s.b2.y}else if(s.from_node_id==u&&s.b1){var a=o(s.b1),c=f(i,"b1");s.b1=g.c_plus_c(s.b1,a),n[c].x=s.b1.x,n[c].y=s.b1.y}}}),a=g.unique_concat([a,h.reaction_ids]),s.push(u)}return{node_ids:s,reaction_ids:a}}function a(e,t,n,r,i){var o=c(e,n,i);return e.connected_segments.map(function(e){var s=n[e.reaction_id];if(!v.isUndefined(s)){var a=e.segment_id,c=s.segments[a];[["b1","from_node_id"],["b2","to_node_id"]].forEach(function(e){var n=e[0],o=e[1];if(c[o]===t&&c[n]){c[n]=g.c_plus_c(c[n],i);var s=r[f(a,n)];s.x=c[n].x,s.y=c[n].y}}),o.reaction_ids.indexOf(e.reaction_id)<0&&o.reaction_ids.push(e.reaction_id)}}),o}function c(e,t,n){e.x=e.x+n.x,e.y=e.y+n.y,e.label_x=e.label_x+n.x,e.label_y=e.label_y+n.y;var r=[];return e.connected_segments.map(function(i){var o=t[i.reaction_id];r.indexOf(i.reaction_id)<0&&(r.push(i.reaction_id),"midmarker"==e.node_type&&(o.label_x=o.label_x+n.x,o.label_y=o.label_y+n.y))}),{reaction_ids:r}}function u(e,t,n){var r=Math.floor(n/2);return e*(t-r+(t>=r))}function l(e,t,n,r){var i=Math.floor(r/2);return t+Math.abs(n-i+(n>=i))*e}function d(e,t,n,r,i,o){var s=n[0];n=[g.c_minus_c(n[0],s),g.c_minus_c(n[1],s)],r=g.c_minus_c(r,s);var a,c,d=80,h=.4,f=.25,_=.3*d,p=50,m=20,v=e.count-1;e.is_primary?a=20:(a=10,c=e.index>t?e.index-1:e.index);var b,y,w,x,j=i-a,k=[{x:a,y:0},{x:j,y:0}];return e.coefficient<0!==o&&e.is_primary?(b={x:k[0].x,y:k[0].y},w={x:r.x*(1-h)+k[0].x*h,y:r.y*(1-h)+k[0].y*h},x={x:r.x*f+b.x*(1-f),y:r.y*f+b.y*(1-f)},y={x:n[0].x,y:n[0].y}):e.coefficient<0!==o?(b={x:k[0].x+l(m,p,c,v),y:k[0].y+u(_,c,v)},w={x:r.x*(1-h)+k[0].x*h,y:r.y*(1-h)+k[0].y*h},x={x:r.x*f+b.x*(1-f),y:r.y*f+b.y*(1-f)},y={x:n[0].x+l(m,p,c,v),y:n[0].y+u(d,c,v)}):e.coefficient>0!==o&&e.is_primary?(b={x:k[1].x,y:k[1].y},w={x:r.x*(1-h)+k[1].x*h,y:r.y*(1-h)+k[1].y*h},x={x:r.x*f+b.x*(1-f),y:r.y*f+b.y*(1-f)},y={x:n[1].x,y:n[1].y}):e.coefficient>0!==o&&(b={x:k[1].x-l(m,p,c,v),y:k[1].y+u(_,c,v)},w={x:r.x*(1-h)+k[1].x*h,y:r.y*(1-h)+k[1].y*h},x={x:r.x*f+b.x*(1-f),y:r.y*f+b.y*(1-f)},y={x:n[1].x-l(m,p,c,v),y:n[1].y+u(d,c,v)}),{b1:g.c_plus_c(s,w),b2:g.c_plus_c(s,x),circle:g.c_plus_c(s,y)}}function h(e,t,n){return{id:String(++e.text_labels),label:{text:t,x:n.x,y:n.y}}}function f(e,t){return e+"_"+t}function _(e){var t=[];for(var n in e){var r=e[n];for(var i in r.segments){var o=r.segments[i];["b1","b2"].forEach(function(e){null!==o[e]&&t.push(f(i,e))})}}return t}function p(e,t){var n={};for(var r in e){var i=e[r];["b1","b2"].forEach(function(e){var o=i[e];if(null!==o){var s=f(r,e);n[s]={bezier:e,x:o.x,y:o.y,reaction_id:t,segment_id:r}}})}return n}function m(e){var t={};for(var n in e){var r=e[n],i=p(r.segments,n);g.extend(t,i)}return t}var g=n("./node_modules/escher-vis/js/src/utils.js"),v=n("./node_modules/escher-vis/node_modules/underscore/underscore.js");e.exports={get_met_label_loc:i,new_reaction:o,rotate_nodes:s,move_node_and_dependents:a,new_text_label:h,bezier_id_for_segment_id:f,bezier_ids_for_reaction_ids:_,new_beziers_for_segments:p,new_beziers_for_reactions:m}},"./node_modules/escher-vis/js/src/complete.ly.js":function(e,t,n){/**
 * @license
 *
 * complete.ly 1.0.0
 * MIT Licensing
 * Copyright (c) 2013 Lorenzo Puccetti
 *
 * This Software shall be used for doing good things, not bad things.
 *
 *
 * Modified by Zachary King (c) 2014.
 *
 **/
var r=n("./node_modules/escher-vis/js/src/utils.js");e.exports=function(e,t){function n(e){return void 0===h&&(h=document.createElement("span"),h.style.visibility="hidden",h.style.position="fixed",h.style.outline="0",h.style.margin="0",h.style.padding="0",h.style.border="0",h.style.left="0",h.style.whiteSpace="pre",h.style.fontSize=t.fontSize,h.style.fontFamily=t.fontFamily,h.style.fontWeight="normal",document.body.appendChild(h)),h.innerHTML=String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),h.getBoundingClientRect().right}document=r.get_document(e),window=r.get_window(e),t=t||{},t.fontSize=t.fontSize||"13px",t.fontFamily=t.fontFamily||"sans-serif",t.promptInnerHTML=t.promptInnerHTML||"",t.color=t.color||"#333",t.hintColor=t.hintColor||"#aaa",t.backgroundColor=t.backgroundColor||"#fff",t.dropDownBorderColor=t.dropDownBorderColor||"#aaa",t.dropDownZIndex=t.dropDownZIndex||"100",t.dropDownOnHoverBackgroundColor=t.dropDownOnHoverBackgroundColor||"#ddd";var i=document.createElement("input");i.type="text",i.spellcheck=!1,i.style.fontSize=t.fontSize,i.style.fontFamily=t.fontFamily,i.style.color=t.color,i.style.backgroundColor=t.backgroundColor,i.style.width="100%",i.style.outline="0",i.style.border="0",i.style.margin="0",i.style.padding="0";var o=i.cloneNode();o.disabled="",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.borderColor="transparent",o.style.boxShadow="none",o.style.color=t.hintColor,i.style.backgroundColor="transparent",i.style.verticalAlign="top",i.style.position="relative";var s=document.createElement("div");s.style.position="relative",s.style.outline="0",s.style.border="0",s.style.margin="0",s.style.padding="0";var a=document.createElement("div");if(a.style.position="absolute",a.style.outline="0",a.style.margin="0",a.style.padding="0",a.style.border="0",a.style.fontSize=t.fontSize,a.style.fontFamily=t.fontFamily,a.style.color=t.color,a.style.backgroundColor=t.backgroundColor,a.style.top="0",a.style.left="0",a.style.overflow="hidden",a.innerHTML=t.promptInnerHTML,a.style.background="transparent",void 0===document.body)throw"document.body is undefined. The library was wired up incorrectly.";document.body.appendChild(a);var c=a.getBoundingClientRect().right;s.appendChild(a),a.style.visibility="visible",a.style.left="-"+c+"px",s.style.marginLeft=c+"px",s.appendChild(o),s.appendChild(i);var u=document.createElement("div");u.style.position="absolute",u.style.visibility="hidden",u.style.outline="0",u.style.margin="0",u.style.padding="0",u.style.textAlign="left",u.style.fontSize=t.fontSize,u.style.fontFamily=t.fontFamily,u.style.backgroundColor=t.backgroundColor,u.style.zIndex=t.dropDownZIndex,u.style.cursor="default",u.style.borderStyle="solid",u.style.borderWidth="1px",u.style.borderColor=t.dropDownBorderColor,u.style.overflowX="hidden",u.style.whiteSpace="pre",u.style.overflowY="scroll";var l=function(e){var n=[],r=0,i=-1,o=null,s=function(){this.style.outline="1px solid #ddd"},a=function(){this.style.outline="0"},c=function(e){e.preventDefault(),u.onmouseselection(this.id)},u={hide:function(){e.style.visibility="hidden"},refresh:function(i,o){e.style.visibility="hidden",r=0,e.innerHTML="";var l=window.innerHeight||document.documentElement.clientHeight,d=e.parentNode.getBoundingClientRect(),h=d.top-6,f=l-d.bottom-6;n=[];for(var _=0;_<o.length;_++){var m=o[_].matches.filter(function(e){return 0==e.toLowerCase().indexOf(i.toLowerCase())});if(0!=m.length){var g=document.createElement("div");if(g.style.color=t.color,g.onmouseover=s,g.onmouseout=a,g.onmousedown=function(e){e.preventDefault()},g.ondblclick=c,g.__hint=m[0],g.id=o[_].id,g.innerHTML=o[_].html,n.push(g),e.appendChild(g),n.length>=p.display_limit){var v=document.createElement("div");v.innerHTML=" "+(o.length-n.length)+" more",n.push(v),e.appendChild(v);break}}}0!==n.length&&(u.highlight(0),h>3*f?(e.style.maxHeight=h+"px",e.style.top="",e.style.bottom="100%"):(e.style.top="100%",e.style.bottom="",e.style.maxHeight=f+"px"),e.style.visibility="visible")},highlight:function(e){-1!=i&&n[i]&&(n[i].style.backgroundColor=t.backgroundColor),n[e].style.backgroundColor=t.dropDownOnHoverBackgroundColor,i=e,o=n[e]},move:function(t){return"hidden"===e.style.visibility?"":r+t===-1||r+t===n.length?n[r].__hint:(r+=t,u.highlight(r),n[r].__hint)},onmouseselection:function(){},get_current_row:function(){return o}};return u},d=l(u);d.onmouseselection=function(e){p.onEnter(e),p.input.focus()},s.appendChild(u),e.appendChild(s);var h,f,_,p={get_hint:function(e){return e},display_limit:1e3,onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},onChange:function(){p.repaint()},startFrom:0,options:[],wrapper:s,input:i,hint:o,dropDown:u,prompt:a,setText:function(e){o.value=e,i.value=e},getText:function(){return i.value},hideDropDown:function(){d.hide()},repaint:function(){var e=i.value,t=p.startFrom,r=p.options,s=r.length,a=e.substring(t);f=e.substring(0,t),o.value="";for(var c=0;c<s;c++){var l=r[c].matches.filter(function(e){return 0==e.toLowerCase().indexOf(a.toLowerCase())});if(0!=l.length){o.value=p.get_hint(l[0]);break}}u.style.left=n(f)+"px",d.refresh(a,p.options)}};!function(e,t){_=e.value;var n=function(){var n=e.value;_!==n&&(_=n,t(n))};e.addEventListener("input",n,!1),e.addEventListener("keyup",n,!1),e.addEventListener("change",n,!1)}(i,function(e){p.onChange(e),p.repaint()});var m=function(e){e=e||window.event;var t=e.keyCode;if(33!=t&&34!=t)if(39!=t&&35!=t&&9!=t){if(13==t){var n=d.get_current_row().id;return void p.onEnter(n)}if(40==t){var r=d.move(1);return""==r&&p.onArrowDown(),void(o.value=p.get_hint(r))}if(38==t){var r=d.move(-1);return""==r&&p.onArrowUp(),o.value=p.get_hint(r),e.preventDefault(),void e.stopPropagation()}o.value=""}else if(9==t&&(e.preventDefault(),e.stopPropagation(),0==o.value.length&&p.onTab()),o.value.length>0){i.value=o.value;var s=_!=i.value;_=i.value,s&&p.onChange(i.value)}};return i.addEventListener("keydown",m,!1),p}},"./node_modules/escher-vis/js/src/data_styles.js":function(e,t,n){function r(e,t){var n={},r=[null];for(var i in e){r=e[i].map(function(){return null});break}for(var o in t){var s=t[o],a=s.bigg_id,c={};s.genes.forEach(function(t){["bigg_id","name"].forEach(function(n){var i=e[t[n]]||g.clone(r),o=c[t.bigg_id];if(void 0===o)c[t.bigg_id]=i;else for(var s=0;s<i.length;s++){var a=i[s];null!==a&&(o[s]=a)}})}),n[a]=c}return n}function i(e,t,n){if(null===e)return null;if(-1===["reaction_data","metabolite_data","gene_data"].indexOf(t))throw new Error("Invalid name argument: "+t);if(e instanceof Array||(e=[e]),function(){null===e||(1===e.length||(2===e.length||console.warn("Bad data style: "+t)))}(),e=g.array_to_object(e),"gene_data"===t){if(void 0===n)throw new Error("Must pass all_reactions argument for gene_data");e=r(e,n)}return e}function o(e,t,n){function r(e){return isFinite(e)?e:null}function i(e,t){return t?Math.abs(e):e}function o(e,t,n){return n?Math.abs(t-e):t-e}function s(e,t,n){if(0==e||0==t)return null;var r=t>=e?t/e:-e/t;return n?Math.abs(r):r}function a(e,t,n){if(0==e)return null;if(t/e<0)return null;var r=Math.log(t/e)/Math.log(2);return n?Math.abs(r):r}if(null===e)return null;var c=-1!=t.indexOf("abs");if(1==e.length){var u=m(e[0]);return null===u?null:i(u,c)}if(2!=e.length)throw new Error("Data array must be of length 1 or 2");var l=e.map(m);if(null===l[0]||null===l[1])return null;if("diff"==n)return o(l[0],l[1],c);if("fold"==n)return r(s(l[0],l[1],c));if("log2_fold"==n)return r(a(l[0],l[1],c));throw new Error("Bad data compare_style: "+n)}function s(e){return null!==e&&null!==e[0]&&e[0]<0}function a(e,t,n,r,i,s){function a(e,t){return null===e?"nd":t(e)}var c=e,u=null===t,l={};return n.forEach(function(e){var n=e.bigg_id;if(!(n in l))if(l[n]=!0,u)c=h(c,n,n+"\n");else{if(!(n in t))return;var i=t[n],d=o(i,r,s),f=null===d?y:b(".3g");if(1===i.length)c=h(c,n,n+" ("+a(i[0],f)+")\n");else if(2===i.length){var _,p=v.any(i,function(e){return null!==m(e)});_=p?n+" ("+a(i[0],f)+", "+a(i[1],f)+": "+a(d,f)+")\n":n+" ("+a(i[0],f)+", "+a(i[1],f)+")\n",c=h(c,n,_)}}}),c=c.replace(x,"\n").replace(j,"$1"),c.split("\n").map(function(e){for(var t=0,r=n.length;t<r;t++){var o=n[t];if(-1!==e.indexOf(o.bigg_id))return"name"===i&&(e=h(e,o.bigg_id,o.name)),{bigg_id:o.bigg_id,name:o.name,text:e}}return{bigg_id:null,name:null,text:e}})}function c(e,t){function n(e,t){return null===e?"(nd)":t(e)}if(null===e)return n(null);if(1===e.length){var r=null===t?y:b(".3g");return n(e[0],r)}if(2===e.length){var r=null===t?y:b(".3g"),i=n(e[0],r);return i+=", "+n(e[1],r),i+=": "+n(t,r)}return""}function u(e){var t=e[0].length,n=[];if(t<2||t>3)throw new Error("CSV file must have 2 or 3 columns");for(var r=1;r<t;r++)n[r-1]={};return e.slice(1).forEach(function(e){for(var t=1,r=e.length;t<r;t++)n[t-1][e[0]]=e[t]}),n}function l(e){var t=e.replace(k,"$1$2").replace(M,"").split(" ").filter(function(e){return""!=e});return g.unique_strings_array(t)}function d(e,t,n){var r=[null],i=1;for(var o in t){r=t[o].map(function(){return null}),i=r.length;break}if(""==e)return g.clone(r);for(var s=[],a=0;a<i;a++){var c=e,u=!0;for(var o in t){var l=m(t[o][a]);null===l?l=0:u=!1,c=h(c,o,l)}if(u)s.push(null);else{for(;;){var d=c;if(d=d.replace(E," $1 "),d=d.replace(A,function(e,t,n,r){return t+n.split(z).map(parseFloat).reduce(function(e,t){return e+t})+r}),(d=d.replace(T,function(e,t,r,i){var o=r.split(S).map(parseFloat);return t+("min"==n?Math.min.apply(null,o):o.reduce(function(e,t){return e+t})/o.length)+i}))==c)break;c=d}var f=Number(c);isNaN(f)?(console.warn("Could not evaluate "+e),s.push(null)):s.push(f)}}return s}function h(e,t,n){function r(e){return e.replace(w,"\\$1")}var i="(^|[\\s\\(\\)])",o="([\\s\\(\\)]|$)",s=i+r(t)+o;return e.replace(new RegExp(s,"g"),"$1"+n+"$2")}function f(e,t,n,r,i){v.isUndefined(i)&&(i=Object.keys(e));var a,u,l;return null===t?(i.map(function(t){a=e[t],a.data=null,a.data_string="";for(u in a.segments)l=a.segments[u],l.data=null;a.gene_string=null}),!1):(i.map(function(i){a=e[i];var d=t[a.bigg_id]||t[a.name]||null,h=o(d,n,r),f=s(d),_=c(d,h);a.data=h,a.data_string=_,a.reverse_flux=f,a.gene_string=null;for(u in a.segments)l=a.segments[u],l.data=a.data,l.reverse_flux=a.reverse_flux}),!0)}function _(e,t,n,r,i){v.isUndefined(i)&&(i=Object.keys(e));return null===t?(i.map(function(t){e[t].data=null,e[t].data_string=""}),!1):(i.map(function(i){var s=e[i],a=t[s.bigg_id]||t[s.name]||null,u=o(a,n,r),l=c(a,u);s.data=u,s.data_string=l}),!0)}function p(e,t,n,r,i,u,l){if(v.isUndefined(l)&&(l=Object.keys(e)),null===t)return l.map(function(t){var n=e[t];n.data=null,n.data_string="",n.reverse_flux=!1;for(var r in n.segments){n.segments[r].data=null}n.gene_string=null}),!1;var h=[null];for(var f in t){for(var _ in t[f]){h=t[f][_].map(function(){return null});break}break}return l.map(function(l){var f,_,p=e[l],m=p.gene_reaction_rule,b=t[p.bigg_id];v.isUndefined(b)?(_={},f=g.clone(h)):(_=b,f=d(m,_,u));var y=o(f,n,i),w=s(f),x=c(f,y);p.data=y,p.data_string=x,p.reverse_flux=w;for(var j in p.segments){var k=p.segments[j];k.data=p.data,k.reverse_flux=p.reverse_flux}p.gene_string=a(m,_,p.genes,n,r,i)}),!0}function m(e){var t=Number(e);return isNaN(t)||parseFloat(e)!=t?null:t}var g=n("./node_modules/escher-vis/js/src/utils.js"),v=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),b=n("./node_modules/d3-format/index.js").format;e.exports={import_and_check:i,text_for_data:c,float_for_data:o,reverse_flux_for_data:s,gene_string_for_data:a,csv_converter:u,genes_for_gene_reaction_rule:l,evaluate_gene_reaction_rule:d,replace_gene_in_rule:h,apply_reaction_data_to_reactions:f,apply_metabolite_data_to_nodes:_,apply_gene_data_to_reactions:p};var y=function(e){return e},w=/([.*+?^=!:${}()|\[\]\/\\])/g,x=/\n\s*\n/g,j=/\n\s*(\)*)\s*$/,k=/([\(\) ])(?:and|or)([\)\( ])/gi,M=/[\(\)]/g,E=/\(\s*(\S+)\s*\)/g,z=/\s+or\s+/i,S=/\s+and\s+/i,A=/(^|\()(\s*-?[0-9.]+\s+(?:or\s+-?[0-9.]+\s*)+)(\)|$)/gi,T=/(^|\(|or\s)(\s*-?[0-9.]+\s+(?:and\s+-?[0-9.]+\s*)+)(\sor|\)|$)/gi},"./node_modules/escher-vis/js/src/inline.js":function(e,t){e.exports={version:"1.6.0",builder_embed:"svg.escher-svg .gene-label,svg.escher-svg .label{text-rendering:optimizelegibility;cursor:default}svg.escher-svg #mouse-node{fill:none}svg.escher-svg #canvas{stroke:#ccc;stroke-width:7px;fill:#fff}svg.escher-svg .resize-rect{fill:#000;opacity:0;stroke:none}svg.escher-svg .label{font-family:sans-serif;font-style:italic;font-weight:700;font-size:8px;fill:#000;stroke:none}svg.escher-svg .reaction-label{font-size:30px;fill:#202078;text-rendering:optimizelegibility}svg.escher-svg .node-label{font-size:20px}svg.escher-svg .gene-label{font-size:18px;fill:#202078}svg.escher-svg .text-label .label,svg.escher-svg .text-label-input{font-size:50px}svg.escher-svg .node-circle{stroke-width:2px}svg.escher-svg .midmarker-circle,svg.escher-svg .multimarker-circle{fill:#fff;fill-opacity:.2;stroke:#323232}svg.escher-svg g.selected .node-circle{stroke-width:6px;stroke:#1471c7}svg.escher-svg g.selected .label{fill:#1471c7}svg.escher-svg .metabolite-circle{stroke:#a24510;fill:#e0865b}svg.escher-svg g.selected .metabolite-circle{stroke:#050200}svg.escher-svg .segment{stroke:#334E75;stroke-width:10px;fill:none}svg.escher-svg .arrowhead{fill:#334E75}svg.escher-svg .stoichiometry-label-rect{fill:#fff;opacity:.5}svg.escher-svg .stoichiometry-label{fill:#334E75;font-size:17px}svg.escher-svg .membrane{fill:none;stroke:#fb0}svg.escher-svg .brush .extent{fill-opacity:.1;fill:#000;stroke:#fff;shape-rendering:crispEdges}svg.escher-svg #brush-container .background{fill:none}svg.escher-svg .bezier-circle{fill:#fff}svg.escher-svg .bezier-circle.b1{stroke:red}svg.escher-svg .bezier-circle.b2{stroke:#00f}svg.escher-svg .connect-line{stroke:#c8c8c8}svg.escher-svg .direction-arrow{stroke:#000;stroke-width:1px;fill:#fff;opacity:.3}svg.escher-svg .start-reaction-cursor{cursor:pointer}svg.escher-svg .start-reaction-target{stroke:#646464;fill:none;opacity:.5}svg.escher-svg .rotation-center-line{stroke:red;stroke-width:5px}svg.escher-svg .highlight{fill:#D97000;text-decoration:underline}svg.escher-svg .cursor-grab{cursor:grab;cursor:-webkit-grab}svg.escher-svg .cursor-grabbing{cursor:grabbing;cursor:-webkit-grabbing}svg.escher-svg .edit-text-cursor{cursor:text}"}},"./node_modules/escher-vis/js/src/main.js":function(e,t,n){/**
* @license
*
* Escher
* Author: Zachary King
*
* The MIT License (MIT)
*
* This software is Copyright © 2015 The Regents of the University of
* California. All Rights Reserved.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
* THE SOFTWARE.
*/
e.exports={version:n("./node_modules/escher-vis/js/src/inline.js").version,Builder:n("./node_modules/escher-vis/js/src/Builder.js"),Map:n("./node_modules/escher-vis/js/src/Map.js"),Behavior:n("./node_modules/escher-vis/js/src/Behavior.js"),KeyManager:n("./node_modules/escher-vis/js/src/KeyManager.js"),DataMenu:n("./node_modules/escher-vis/js/src/DataMenu.js"),UndoStack:n("./node_modules/escher-vis/js/src/UndoStack.js"),CobraModel:n("./node_modules/escher-vis/js/src/CobraModel.js"),utils:n("./node_modules/escher-vis/js/src/utils.js"),SearchIndex:n("./node_modules/escher-vis/js/src/SearchIndex.js"),Settings:n("./node_modules/escher-vis/js/src/Settings.js"),data_styles:n("./node_modules/escher-vis/js/src/data_styles.js"),ui:n("./node_modules/escher-vis/js/src/ui.js"),static:n("./node_modules/escher-vis/js/src/static.js"),ZoomContainer:n("./node_modules/escher-vis/js/src/ZoomContainer.js"),libs:{_:n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),underscore:n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),tinier:n("./node_modules/tinier/lib/tinier.js"),baconjs:n("./node_modules/baconjs/dist/Bacon.js"),mousetrap:n("./node_modules/mousetrap/mousetrap.js"),vkbeautify:n("./node_modules/vkbeautify/index.js"),d3_selection:n("./node_modules/d3-selection/index.js"),d3_select:n("./node_modules/d3-selection/index.js").select,d3_json:n("./node_modules/d3-request/index.js").json}}},"./node_modules/escher-vis/js/src/static.js":function(e,t,n){function r(e,t,n,r,a){var c=o.parse_url_components(window,r),u=function(e){e(null)},l=function(e){e(null)};if(c.map_name){var d=i("map",c.map_name,n,e);d&&(u=function(e){s(d,function(t,n){t&&console.warn(t),e(n)})})}if(c.model_name){var h=i("model",c.model_name,n,t);h&&(l=function(e){s(h,function(t,n){t&&console.warn(t),e(n)})})}c.hasOwnProperty("enable_editing")&&(r.enable_editing="true"===c.enable_editing.toLowerCase()),u(function(e){l(function(t){a(e,t,r)})})}function i(e,t,n,r){var i=n[e+"s"].filter(function(n){return n[e+"_name"]==t});if(0==i.length)throw new Error("Bad "+e+" "+t);return r+encodeURIComponent(i[0].organism)+"/"+encodeURIComponent(i[0][e+"_name"])+".json"}var o=n("./node_modules/escher-vis/js/src/utils.js"),s=n("./node_modules/d3-request/index.js").json;e.exports={load_map_model_from_url:r}},"./node_modules/escher-vis/js/src/ui.js":function(e,t,n){function r(e,t){var n=t.ignore_bootstrap||!1;e.attr("class","btn btn-default simple-button");var r=e.append("span"),i=r.append("span");"id"in t&&e.attr("id",t.id),"text"in t&&i.text(t.text),"icon"in t&&!n&&r.classed(t.icon,!0),n||i.attr("class","hidden"),"key"in t&&c(e,t.key),"key_text"in t&&"tooltip"in t&&null!==t.key_text?e.attr("title",t.tooltip+t.key_text):"tooltip"in t&&e.attr("title",t.tooltip)}function i(e,t){r(e.append("button"),t)}function o(e){var t=e.append("li").attr("class","btn-group-vertical").attr("data-toggle","buttons");return{button:function(e){var n=(e.ignore_bootstrap,t.append("label"));return n.append("input").attr("type","radio"),r(n,e),this}}}function s(e){var t=e.attr("class","btn-group-vertical");return{button:function(e){return r(t.append("button"),e),this}}}function a(e,t,n){void 0===n&&(n=!1);var r=e.append("li").attr("class","dropdown");r.append("button").text(t+" ").attr("class","btn btn-link btn-sm dropdown-button").attr("data-toggle","dropdown").append("b").attr("class","caret");var i=r.append("ul").attr("class","dropdown-menu").classed("pull-right",n).attr("role","menu").attr("aria-labelledby","dLabel");return{dropdown:r,button:function(e){var t=i.append("li").attr("role","presentation").datum(e),n=t.append("a").attr("href","#"),r=n.append("span").attr("class","dropdown-button-icon"),o=n.append("span").attr("class","dropdown-button-text");if("id"in e&&t.attr("id",e.id),"key_text"in e&&"text"in e&&null!==e.key_text?o.text(" "+e.text+e.key_text):"text"in e&&o.text(" "+e.text),"icon"in e&&r.classed(e.icon,!0),"key"in e)c(n,e.key);else if("input"in e){var s=e.input,a=s.accept_csv?l(n,t,s.pre_fn,s.fn,s.failure_fn):u(n,t,s.pre_fn,s.fn,s.failure_fn);"assign"in s&&"key"in s&&(s.assign[s.key]=a)}return this},divider:function(){return i.append("li").attr("role","presentation").attr("class","divider"),this}}}function c(e,t){e.on("click",function(){t.fn.call(t.target)})}function u(e,t,n,r,i){var o=t.append("input").attr("type","file").style("display","none").on("change",function(){d.load_json(this.files[0],function(e,t){r(e,t),this.value=""}.bind(this),n,i)});return e.on("click",function(e){o.node().click()}),function(){o.node().click()}}function l(e,t,n,r,i){var o=t.append("input").attr("type","file").style("display","none").on("change",function(){d.load_json_or_csv(this.files[0],h.csv_converter,function(e,t){r(e,t),this.value=""}.bind(this),n,i)});return e.on("click",function(e){o.node().click()}),function(){o.node().click()}}var d=n("./node_modules/escher-vis/js/src/utils.js"),h=n("./node_modules/escher-vis/js/src/data_styles.js");e.exports={individual_button:i,radio_button_group:o,button_group:s,dropdown_menu:a,set_json_input_button:u,set_json_or_csv_input_button:l}},"./node_modules/escher-vis/js/src/utils.js":function(e,t,n){function r(){try{new Blob}catch(e){alert("Blob not supported")}}function i(e,t,n){if(void 0===e||null===e)return t;var r={};for(var i in t){var o=i in e&&null!==e[i]&&void 0!==e[i],s=o?e[i]:t[i];n&&i in n&&(s=parseFloat(s),isNaN(s)&&(o?(console.warn("Bad float for option "+i),s=parseFloat(t[i]),isNaN(s)&&(console.warn("Bad float for default "+i),s=null)):(console.warn("Bad float for default "+i),s=null))),r[i]=s}return r}function o(e){for(var t=e.node();t.hasChildNodes();)t.removeChild(t.lastChild)}function s(e,t){var n="";return e&&oe(e,function(e,r){e&&console.warn(e),n=r,t(n)}),!1}function a(e,t){return-1!==e.indexOf(t,e.length-t.length)}function c(e,t,n,r){return r?(t&&console.warn("File "+t+" overridden by value."),void n.call(e,null,r)):t?void(a(t,"json")?ie(t,function(t,r){n.call(e,t,r)}):a(t,"css")?oe(t,function(t,r){n.call(e,t,r)}):n.call(e,"Unrecognized file type",null)):void n.call(e,"No filename",null)}function u(e,t,n){0===t.length&&n.call(e);for(var r=-1,i=t.length;++r<t.length;)c(e,t[r].file,function(t,r){this.call(e,t,r),--i||n.call(e)}.bind(t[r].callback),t[r].value)}function l(){var e,t=function(n){if(!(this instanceof t)){e=!0;var r=new t(arguments);return e=!1,r}"function"==typeof this.init&&this.init.apply(this,e?n:arguments)};return t}function d(e,t){e.select("defs").remove();var n=e.append("defs"),r=n.node();return r.parentNode.insertBefore(r,r.parentNode.firstChild),n.append("style").attr("type","text/css").text(t),n}function h(e,t,n,r,i,o,s,a){var c={};for(var u in r)void 0===r[u]?console.warn("Undefined value for id "+u+" in object. Ignoring."):c[u]=r[u];var l=e.select(t).selectAll(n).data(p(c,i),function(e){return e[i]}),d=o?o(l.enter()).merge(l):l;s&&d.call(s),a&&l.exit().call(a)}function f(e,t,n,r,i,o,s){var a=e.selectAll(t).data(function(e){return p(e[n],r)},function(e){return e[r]}),c=i?i(a.enter()).merge(a):a;o&&c.call(o),s&&a.exit().call(s)}function _(e,t){var n=[];for(var r in e){var i=v(e[r]);i[t]=r,n.push(i)}return n}function p(e,t){var n=[];for(var r in e){var i=e[r];i[t]=r,n.push(i)}return n}function m(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!=t[n])return!1;return!0}function g(e){for(var t={},n=0,r=e.length;n<r;n++)for(var i=e[n],o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];if(c in t)t[c][n]=i[c];else{for(var u=[],l=0;l<r;l++)u[l]=null;u[n]=i[c],t[c]=u}}return t}function v(e){return re.isArray(e)?re.map(e,function(e){return v(e)}):re.isObject(e)?re.mapObject(e,function(e,t){return v(e)}):e}function b(e,t,n){void 0===n&&(n=!1);for(var r in t){if(r in e&&!n)throw new Error("Attribute "+r+" already in object.");e[r]=t[r]}}function y(e){var t=[];return e.forEach(function(e){e.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),t}function w(e){for(var t=[],n=0,r=e.length;n<r;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function x(e,t,n){var r;return function(){var i=this,o=arguments,s=function(){r=null,n||e.apply(i,o)},a=n&&!r;clearTimeout(r),r=setTimeout(s,t),a&&e.apply(i,o)}}function j(e,t){for(var n={},r=-1;++r<t.length;)n[t[r]]=v(e[t[r]]);return t.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function k(e,t){for(var n={},r=-1;++r<t.length;)n[t[r]]=e[t[r]];return t.length!==Object.keys(n).length&&console.warn("did not find correct reaction subset"),n}function M(e,t){return null===e||null===t||void 0===e||void 0===t?null:{x:e.x+t.x,y:e.y+t.y}}function E(e,t){return null===e||null===t||void 0===e||void 0===t?null:{x:e.x-t.x,y:e.y-t.y}}function z(e,t){return{x:e.x*t,y:e.y*t}}function S(e,t){r();var n=JSON.stringify(e),i=new Blob([n],{type:"application/json"});ce(i,t+".json")}function A(e,t,n,r){window.File&&window.FileReader&&window.FileList&&window.Blob||t("The File APIs are not fully supported in this browser.",null);var i=new window.FileReader;if(i.onload=function(e){var n,r=e.target.result;try{n=JSON.parse(r)}catch(e){return void t(e,null)}t(null,n)},void 0!==n&&null!==n)try{n()}catch(e){console.warn(e)}i.onabort=function(e){try{r()}catch(e){console.warn(e)}},i.onerror=function(e){try{r()}catch(e){console.warn(e)}},i.readAsText(e)}function T(e,t,n,r,i,o){var s=function(e){var r,i,o=e.target.result;try{r=JSON.parse(o)}catch(e){i="JSON error: "+e;try{r=t(se(o))}catch(e){return void n(i+"\nCSV error: "+e,null)}}n(null,r)};if(void 0!==o&&null!==o)return console.warn("Debugging load_json_or_csv"),s(o);window.File&&window.FileReader&&window.FileList&&window.Blob||n("The File APIs are not fully supported in this browser.",null);var a=new window.FileReader;if(void 0!==r&&null!==r)try{r()}catch(e){console.warn(e)}a.onabort=function(e){try{i()}catch(e){console.warn(e)}},a.onerror=function(e){try{i()}catch(e){console.warn(e)}},a.onload=s,a.readAsText(e)}function O(e,t,n){r();var i=(new XMLSerializer).serializeToString(t.node());n&&(i=ne.xml(i)),i='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+i;var o=new Blob([i],{type:"image/svg+xml"});ce(o,e+".svg")}function C(e,t,n){r();var i=(new XMLSerializer).serializeToString(t.node());n&&(i=ne.xml(i)),i='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+i;var o=document.createElement("canvas"),s=o.getContext("2d"),a=t.node().getBBox(),c=a.width+a.x,u=a.height+a.y;c<1e4&&u<1e4?(o.width=c,o.height=u):o.width>o.height?(o.width=1e4,o.height=u/c*1e4):(o.width=c/u*1e4,o.height=1e4);var l=new Image;l.src="data:image/svg+xml;base64,"+btoa(i),l.onload=function(){s.fillStyle="#FFF",s.fillRect(0,0,o.width,o.height),s.drawImage(l,0,0,o.width,o.height),o.toBlob(function(t){ce(t,e+".png")})}}function N(e,t,n){return e.map(function(e){return D(e,t,n)})}function D(e,t,n){return{x:Math.cos(-t)*(e.x-n.x)+Math.sin(-t)*(e.y-n.y)+n.x-e.x,y:-Math.sin(-t)*(e.x-n.x)+Math.cos(-t)*(e.y-n.y)+n.y-e.y}}function I(e){var t=e[1].x-e[0].x,n=e[1].y-e[0].y;return 0===t&&n>=0?Math.PI/2:0===t&&n<0?3*Math.PI/2:t>=0&&n>=0?Math.atan(n/t):t>=0?Math.atan(n/t)+2*Math.PI:Math.atan(n/t)+Math.PI}function P(e){return 180*e/Math.PI}function F(e){return e<-Math.PI?e+=2*Math.ceil(e/(-2*Math.PI))*Math.PI:e>Math.PI&&(e-=2*Math.ceil(e/(2*Math.PI))*Math.PI),e}function U(e){return F(Math.PI/180*e)}function L(e,t,n){var r=Math.atan2(t.x-n.x,n.y-t.y);return Math.atan2(t.x-n.x+e.x,n.y-t.y-e.y)-r}function R(e,t){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function q(e,t){t.map(function(n,r){void 0===e[r]&&console.error("Argument is undefined: "+String(t[r]))})}function B(e,t){return e+"_"+t}function H(e){var t=/(.*)_([a-z0-9]{1,2})$/,n=t.exec(e);return null!==n?n.slice(1,3):[e,null]}function V(e){return e.reduce(function(e,t){return e+t})/e.length}function Y(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return e.length%2==1?e[t]:(e[t-1]+e[t])/2}function W(e){e.sort(function(e,t){return e-t});var t=Math.floor(e.length/2);return 1===e.length?[e[0],e[0],e[0]]:e.length%2==1?[Y(e.slice(0,t)),e[t],Y(e.slice(t+1))]:[Y(e.slice(0,t)),(e[t-1]+e[t])/2,Y(e.slice(t))]}function X(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function $(){return X(12)}function J(e,t){for(e instanceof ae&&(e=e.node());null!==e.parentNode;)if(e=e.parentNode,void 0!==e.tagName&&e.tagName.toLowerCase()===t.toLowerCase())return!0;return!1}function G(e,t){return void 0!==t&&null!==t&&(t=t.replace(/^\/|\/$/g,""),e=[t,e].join("/")),e.replace(/^\/|\/$/g,"")+".json"}function Z(e,t){re.isUndefined(t)&&(t={});for(var n=e.location.search.substring(1),r=n.split("&"),i=0,o=r.length;i<o;i++){var s=r[i].split("="),a=decodeURIComponent(s[1]);if(s[0].indexOf("[]")===s[0].length-2){var c=s[0].replace("[]","");c in t||(t[c]=[]),t[c].push(a)}else t[s[0]]=a}return t}function K(e){return e.ownerDocument}function Q(e){return K(e).defaultView}function ee(e){if(-1!==e.indexOf("skew")||-1!==e.indexOf("matrix"))throw new Error("d3_transform_catch does not work with skew or matrix");var t=/translate\s*\(\s*([0-9.-]+)\s*,\s*([0-9.-]+)\s*\)/.exec(e),n=re.isNull(t),r=n?0:Number(t[1]),i=n?0:Number(t[2]),o=/rotate\s*\(\s*([0-9.-]+)\s*\)/.exec(e),s=re.isNull(o),a=s?0:Number(o[1]),c=/scale\s*\(\s*([0-9.-]+)\s*\)/.exec(e);return{translate:[r,i],rotate:a,scale:re.isNull(c)?0:Number(c[1])}}function te(e){var t=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))};try{return t().toLowerCase().indexOf(e)>-1}catch(e){return!1}}var ne=n("./node_modules/vkbeautify/index.js"),re=n("./node_modules/escher-vis/node_modules/underscore/underscore.js"),ie=n("./node_modules/d3-request/index.js").json,oe=n("./node_modules/d3-request/index.js").text,se=n("./node_modules/d3-dsv/index.js").csvParseRows,ae=n("./node_modules/d3-selection/index.js").selection;try{var ce=n("./node_modules/file-saver/FileSaver.js").saveAs}catch(e){console.warn("Not a browser, so FileSaver.js not available.")}e.exports={set_options:i,remove_child_nodes:o,load_css:s,load_files:u,load_the_file:c,make_class:l,setup_defs:d,draw_an_object:h,draw_a_nested_object:f,make_array:_,make_array_ref:p,compare_arrays:m,array_to_object:g,clone:v,extend:b,unique_concat:y,unique_strings_array:w,debounce:x,object_slice_for_ids:j,object_slice_for_ids_ref:k,c_plus_c:M,c_minus_c:E,c_times_scalar:z,download_json:S,load_json:A,load_json_or_csv:T,download_svg:O,download_png:C,rotate_coords_recursive:N,rotate_coords:D,get_angle:I,to_degrees:P,to_radians_norm:U,angle_for_event:L,distance:R,check_undefined:q,compartmentalize:B,decompartmentalize:H,mean:V,median:Y,quartiles:W,random_characters:X,generate_map_id:$,check_for_parent_tag:J,name_to_url:G,parse_url_components:Z,get_document:K,get_window:Q,d3_transform_catch:ee,check_browser:te}},"./node_modules/escher-vis/node_modules/underscore/underscore.js":function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,o,s){for(;o>=0&&o<s;o+=e){var a=i?i[o]:o;r=n(r,t[a],a,t)}return r}return function(n,r,i,o){r=j(r,o,4);var s=!T(n)&&x.keys(n),a=(s||n).length,c=e>0?0:a-1;return arguments.length<3&&(i=n[s?s[c]:c],c+=e),t(n,r,i,s,c,a)}}function o(e){return function(t,n,r){n=k(n,r);for(var i=A(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function s(e,t,n){return function(r,i,o){var s=0,a=A(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(_.call(r,s,a),x.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}function a(e,t){var n=I.length,r=e.constructor,i=x.isFunction(r)&&r.prototype||d,o="constructor";for(x.has(e,o)&&!x.contains(t,o)&&t.push(o);n--;)(o=I[n])in e&&e[o]!==i[o]&&!x.contains(t,o)&&t.push(o)}var c=this,u=c._,l=Array.prototype,d=Object.prototype,h=Function.prototype,f=l.push,_=l.slice,p=d.toString,m=d.hasOwnProperty,g=Array.isArray,v=Object.keys,b=h.bind,y=Object.create,w=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};void 0!==e&&e.exports&&(t=e.exports=x),t._=x,x.VERSION="1.8.3";var j=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?x.identity:x.isFunction(e)?j(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return k(e,t,1/0)};var M=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,c=0;c<a;c++){var u=s[c];t&&void 0!==n[u]||(n[u]=o[u])}return n}},E=function(e){if(!x.isObject(e))return{};if(y)return y(e);w.prototype=e;var t=new w;return w.prototype=null,t},z=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,A=z("length"),T=function(e){var t=A(e);return"number"==typeof t&&t>=0&&t<=S};x.each=x.forEach=function(e,t,n){t=j(t,n);var r,i;if(T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=x.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},x.map=x.collect=function(e,t,n){t=k(t,n);for(var r=!T(e)&&x.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(e,t,n){var r;if(void 0!==(r=T(e)?x.findIndex(e,t,n):x.findKey(e,t,n))&&-1!==r)return e[r]},x.filter=x.select=function(e,t,n){var r=[];return t=k(t,n),x.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},x.reject=function(e,t,n){return x.filter(e,x.negate(k(t)),n)},x.every=x.all=function(e,t,n){t=k(t,n);for(var r=!T(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},x.some=x.any=function(e,t,n){t=k(t,n);for(var r=!T(e)&&x.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n,r){return T(e)||(e=x.values(e)),("number"!=typeof n||r)&&(n=0),x.indexOf(e,t,n)>=0},x.invoke=function(e,t){var n=_.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t&&null!=e){e=T(e)?e:x.values(e);for(var a=0,c=e.length;a<c;a++)(r=e[a])>o&&(o=r)}else t=k(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},x.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t&&null!=e){e=T(e)?e:x.values(e);for(var a=0,c=e.length;a<c;a++)(r=e[a])<o&&(o=r)}else t=k(t,n),x.each(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},x.shuffle=function(e){for(var t,n=T(e)?e:x.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=x.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},x.sample=function(e,t,n){return null==t||n?(T(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=k(t,n),x.pluck(x.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};return n=k(n,r),x.each(t,function(r,o){var s=n(r,o,t);e(i,r,s)}),i}};x.groupBy=O(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=O(function(e,t,n){e[n]=t}),x.countBy=O(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?_.call(e):T(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:T(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return x.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},x.first=x.head=x.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,n){return _.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,n){return _.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var C=function(e,t,n,r){for(var i=[],o=0,s=r||0,a=A(e);s<a;s++){var c=e[s];if(T(c)&&(x.isArray(c)||x.isArguments(c))){t||(c=C(c,t,n));var u=0,l=c.length;for(i.length+=l;u<l;)i[o++]=c[u++]}else n||(i[o++]=c)}return i};x.flatten=function(e,t){return C(e,t,!1)},x.without=function(e){return x.difference(e,_.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],o=[],s=0,a=A(e);s<a;s++){var c=e[s],u=n?n(c,s,e):c;t?(s&&o===u||i.push(c),o=u):n?x.contains(o,u)||(o.push(u),i.push(c)):x.contains(i,c)||i.push(c)}return i},x.union=function(){return x.uniq(C(arguments,!0,!0))},x.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=A(e);r<i;r++){var o=e[r];if(!x.contains(t,o)){for(var s=1;s<n&&x.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},x.difference=function(e){var t=C(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,A).length||0,n=Array(t),r=0;r<t;r++)n[r]=x.pluck(e,r);return n},x.object=function(e,t){for(var n={},r=0,i=A(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),o=0,s=A(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o},x.indexOf=s(1,x.findIndex,x.sortedIndex),x.lastIndexOf=s(-1,x.findLastIndex),x.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var N=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=E(e.prototype),s=e.apply(o,i);return x.isObject(s)?s:o};x.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,_.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=_.call(arguments,2),r=function(){return N(e,r,t,this,n.concat(_.call(arguments)))};return r},x.partial=function(e){var t=_.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),s=0;s<i;s++)o[s]=t[s]===x?arguments[r++]:t[s];for(;r<arguments.length;)o.push(arguments[r++]);return N(e,n,this,this,o)};return n},x.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return x.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},x.delay=function(e,t){var n=_.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var r,i,o,s=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:x.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var u=x.now();a||!1!==n.leading||(a=u);var l=t-(u-a);return r=this,i=arguments,l<=0||l>t?(s&&(clearTimeout(s),s=null),a=u,o=e.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(c,l)),o}},x.debounce=function(e,t,n){var r,i,o,s,a,c=function(){var u=x.now()-s;u<t&&u>=0?r=setTimeout(c,t-u):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=x.now();var u=n&&!r;return r||(r=setTimeout(c,t)),u&&(a=e.apply(o,i),o=i=null),a}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},x.once=x.partial(x.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return D&&a(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&a(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},x.mapObject=function(e,t,n){t=k(t,n);for(var r,i=x.keys(e),o=i.length,s={},a=0;a<o;a++)r=i[a],s[r]=t(e[r],r,e);return s},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=M(x.allKeys),x.extendOwn=x.assign=M(x.keys),x.findKey=function(e,t,n){t=k(t,n);for(var r,i=x.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r},x.pick=function(e,t,n){var r,i,o={},s=e;if(null==s)return o;x.isFunction(t)?(i=x.allKeys(s),r=j(t,n)):(i=C(arguments,!1,!1,1),r=function(e,t,n){return t in n},s=Object(s));for(var a=0,c=i.length;a<c;a++){var u=i[a],l=s[u];r(l,u,s)&&(o[u]=l)}return o},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(C(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(r,t)}}return x.pick(e,t,n)},x.defaults=M(x.allKeys,!0),x.create=function(e,t){var n=E(e);return t&&x.extendOwn(n,t),n},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0};var P=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!P(e[c],t[c],n,r))return!1}else{var u,l=x.keys(e);if(c=l.length,x.keys(t).length!==c)return!1;for(;c--;)if(u=l[c],!x.has(t,u)||!P(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(e,t){return P(e,t)},x.isEmpty=function(e){return null==e||(T(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length)},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=g||function(e){return"[object Array]"===p.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&m.call(e,t)},x.noConflict=function(){return c._=u,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=z,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var r=Array(Math.max(0,e));t=j(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=x.invert(F),L=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};x.escape=L(F),x.unescape=L(U),x.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),x.isFunction(r)?r.call(e):r};var R=0;x.uniqueId=function(e){var t=++R+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+B[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(H,V),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,x)},c=t.variable||"obj";return a.source="function("+c+"){\n"+o+"}",a},x.chain=function(e){var t=x(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),Y(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Y(this,n)}}),x.each(["concat","join","slice"],function(e){var t=l[e];x.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return x}.apply(t,r))&&(e.exports=i)}).call(this)},"./node_modules/file-saver/FileSaver.js":function(e,t,n){var r,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",l=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,l)},h=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){c(e)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},_=function(t,c,l){l||(t=f(t));var _,p=this,m=t.type,g=m===u,v=function(){h(p,"writestart progress write writeend".split(" "))},b=function(){if((a||g&&s)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,v()},r.readAsDataURL(t),void(p.readyState=p.INIT)}if(_||(_=n().createObjectURL(t)),g)e.location.href=_;else{e.open(_,"_blank")||(e.location.href=_)}p.readyState=p.DONE,v(),d(_)};if(p.readyState=p.INIT,i)return _=n().createObjectURL(t),void setTimeout(function(){r.href=_,r.download=c,o(r),v(),d(_),p.readyState=p.DONE});b()},p=_.prototype,m=function(e,t,n){return new _(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=i:null!==n("./node_modules/webpack/buildin/amd-define.js")&&null!==n("./node_modules/webpack/buildin/amd-options.js")&&void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)},"./node_modules/mousetrap/mousetrap.js":function(e,t,n){var r;!function(i,o,s){function a(e,t,n){if(e.addEventListener)return void e.addEventListener(t,n,!1);e.attachEvent("on"+t,n)}function c(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return w[e.which]?w[e.which]:x[e.which]?x[e.which]:String.fromCharCode(e.which).toLowerCase()}function u(e,t){return e.sort().join(",")===t.sort().join(",")}function l(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){if(e.preventDefault)return void e.preventDefault();e.returnValue=!1}function h(e){if(e.stopPropagation)return void e.stopPropagation();e.cancelBubble=!0}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function _(){if(!y){y={};for(var e in w)e>95&&e<112||w.hasOwnProperty(e)&&(y[w[e]]=e)}return y}function p(e,t,n){return n||(n=_()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function g(e,t){var n,r,i,o=[];for(n=m(e),i=0;i<n.length;++i)r=n[i],k[r]&&(r=k[r]),t&&"keypress"!=t&&j[r]&&(r=j[r],o.push("shift")),f(r)&&o.push(r);return t=p(r,o,t),{key:r,modifiers:o,action:t}}function v(e,t){return null!==e&&e!==o&&(e===t||v(e.parentNode,t))}function b(e){function t(e){e=e||{};var t,n=!1;for(t in y)e[t]?n=!0:y[t]=0;n||(j=!1)}function n(e,t,n,r,i,o){var s,a,c=[],l=n.type;if(!m._callbacks[e])return[];for("keyup"==l&&f(e)&&(t=[e]),s=0;s<m._callbacks[e].length;++s)if(a=m._callbacks[e][s],(r||!a.seq||y[a.seq]==a.level)&&l==a.action&&("keypress"==l&&!n.metaKey&&!n.ctrlKey||u(t,a.modifiers))){var d=!r&&a.combo==i,h=r&&a.seq==r&&a.level==o;(d||h)&&m._callbacks[e].splice(s,1),c.push(a)}return c}function r(e,t,n,r){m.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&(d(t),h(t))}function i(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=c(e);if(t)return"keyup"==e.type&&w===t?void(w=!1):void m.handleKey(t,l(e),e)}function s(){clearTimeout(v),v=setTimeout(t,1e3)}function _(e,n,i,o){function a(t){return function(){j=t,++y[e],s()}}function u(n){r(i,n,e),"keyup"!==o&&(w=c(n)),setTimeout(t,10)}y[e]=0;for(var l=0;l<n.length;++l){var d=l+1===n.length,h=d?u:a(o||g(n[l+1]).action);p(n[l],h,o,e,l)}}function p(e,t,r,i,o){m._directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var s,a=e.split(" ");if(a.length>1)return void _(e,a,t,r);s=g(e,r),m._callbacks[s.key]=m._callbacks[s.key]||[],n(s.key,s.modifiers,{type:s.action},i,e,o),m._callbacks[s.key][i?"unshift":"push"]({callback:t,modifiers:s.modifiers,action:s.action,seq:i,level:o,combo:e})}var m=this;if(e=e||o,!(m instanceof b))return new b(e);m.target=e,m._callbacks={},m._directMap={};var v,y={},w=!1,x=!1,j=!1;m._handleKey=function(e,i,o){var s,a=n(e,i,o),c={},u=0,l=!1;for(s=0;s<a.length;++s)a[s].seq&&(u=Math.max(u,a[s].level));for(s=0;s<a.length;++s)if(a[s].seq){if(a[s].level!=u)continue;l=!0,c[a[s].seq]=1,r(a[s].callback,o,a[s].combo,a[s].seq)}else l||r(a[s].callback,o,a[s].combo);var d="keypress"==o.type&&x;o.type!=j||f(e)||d||t(c),x=l&&"keydown"==o.type},m._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)p(e[r],t,n)},a(e,"keypress",i),a(e,"keydown",i),a(e,"keyup",i)}if(i){for(var y,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M=1;M<20;++M)w[111+M]="f"+M;for(M=0;M<=9;++M)w[M+96]=M.toString();b.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},b.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!v(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t]);y=null},b.init=function(){var e=b(o);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),i.Mousetrap=b,void 0!==e&&e.exports&&(e.exports=b),(r=function(){return b}.call(t,n,t,e))!==s&&(e.exports=r)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},"./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./app/styles/builder.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./app/styles/builder.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./node_modules/tinier/lib/tinier.js":function(e,t,n){"use strict";function r(){}function i(e){return function(){return e}}function o(e){return e[e.length-1]}function s(e){return[e.slice(0,-1),o(e)]}function a(e){return[e[0],e.slice(1)]}function c(e){return e.reduce(function(e,t){var n,r=t[0],i=t[1];return De({},e,(n={},n[r]=i,n))},{})}function u(e,t){return e&&"string"!=typeof e&&e.hasOwnProperty(t)?e[t]:null}function l(e){return void 0===e}function d(e){return null!=e&&"object"===(void 0===e?"undefined":Ne(e))}function h(e){return Array.isArray(e)}function f(e){return"string"==typeof e}function _(e){return"number"==typeof e}function p(e){return"boolean"==typeof e}function m(e){return"function"==typeof e}function g(e){return null!==e}function v(e,t){var n={};for(var r in e)n[r]=t(e[r],r);return n}function b(e,t,n){var r=n;for(var i in e)r=t(r,e[i],i);return r}function y(e){for(var t=Math.max.apply(null,e.filter(function(e){return null!==e}).map(function(e){return e.length})),n=[],r=function(t){n.push(e.map(function(e){return null!==e&&t<e.length?e[t]:null}))},i=0;i<t;i++)r(i);return n}function w(e){for(var t=e.length,n={},r=0;r<t;r++){var i=e[r];if(null!==i)for(var o in i)n[o]=!0}var s={};for(var a in n){s[a]=Array(t);for(var c=0;c<t;c++){var l=e[c];s[a][c]=u(l,a)}}return s}function x(e,t){var n={};for(var r in e){var i=e[r];t(i,r)&&(n[r]=i)}return n}function j(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(!p(r))throw new Error("Not a boolean: "+r);if(r)return!0}return!1}function k(e){setTimeout(e,1)}function M(e,t){if(!f(e))throw new Error("First argument must be a string");if(!d(t))throw new Error("Second argument must be an object");return t.type=e,t}function E(e,t){if(null===t)return e===qe;if("string"!=typeof e)throw new Error("First argument must be a string");if(l(t))throw new Error("Bad second argument");return u(t,"type")===e}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;for(var r in t)if(r===qe&&null===e||r===Ue&&h(e)||d(e)&&E(r,e))return t[r](e);return Le in t&&d(e)?t[Le](e):n(e)}function S(e){throw new Error("Unrecognized type in pattern matching: "+e)}function A(e){var t;return z(e,(t={},t[Ie]=function(){return!0},t[Pe]=function(){return!0},t[Fe]=function(){return!0},t[Ue]=function(e){return j(e.map(A))},t[Le]=function(e){return j(Object.keys(e).map(function(t){return A(e[t])}))},t))}function T(e,t,n){var r,i=function(n,r){var i=null===r?e:u(e,r);if(null!==e&&null===i)throw new Error("Shape of the bindings object does not match the model.Model: "+t+"  Bindings object: "+e)},o=function(t,r){T(u(e,r),t,u(n,r))};z(t,(r={},r[Pe]=function(r){if(null!==e&&j(Object.keys(e).map(function(e){return!(e in n)})))throw new Error("Shape of the bindings object does not match the model. Model: "+t+" Bindings object: "+e);v(n,i)},r[Ie]=function(r){if(null!==e&&n.length!==e.length)throw new Error("Shape of the bindings object does not match the model. Model: "+t+" Bindings object: "+e);n.map(i)},r[Fe]=function(e){return i(n,null)},r[Ue]=function(n){if(null!==e&&!h(e))throw new Error("Shape of the bindings object does not match the model. Model: "+t+" Bindings object: "+e);n.map(o)},r[Le]=function(n){if(null!==e&&h(e))throw new Error("Shape of the bindings object does not match the model. Model: "+t+" Bindings object: "+e);v(n,o)},r))}function O(e,t,n){return T(e,t,n),e}function C(e,t,n,i,o,s,a,c){var u=oe(e,t,a.callReducer),l=se(e,t,a.callSignal),d=ae(e,t,a.callMethod,u,l),h={state:n,methods:d,reducers:u,signals:l,el:s,lastRenderedEl:o};if(null===s&&i!==Ve&&t.render!==r)throw new Error("No binding provided for component "+t.displayName+" at ["+e.join(", ")+"].");if(i===Ve)return t.willUnmount(h),{bindings:null,lastRenderedEl:o};var f=i===Be||i===He||s!==o;i===Be?t.willMount(h):f&&t.willUpdate(h),c.verbose&&f&&console.log("Rendering "+t.displayName+" at ["+e.join(", ")+"].");var _=f?O(t.render(h),t.model,n):null;if(f&&null===_&&A(t.model))throw new Error("The render function of component "+t.displayName+" did not return new bindings");return i===Be?k(function(){return t.didMount(h)}):f&&k(function(){return t.didUpdate(h)}),{bindings:_,lastRenderedEl:f?s:o}}function N(e){var t;return z(e,(t={},t[Re]=function(e){return e.data},t[Le]=function(e){return v(e,N)},t[Ue]=function(e){return e.map(N)},t[qe]=function(){return null},t))}function D(e,t,n,r,i,o,s,a){var c,l=function(n,r){var c=n[0],l=n[1],d=null!==r?t.component:t,h=null!==r?I(e,r):e,f=null!==r?u(i,r):i,_=null!==r?u(o,r):o,p=C(h,d,l,c.data,u(f,"data"),_,s,a),m=null!==p.bindings?p.bindings:N(f.children),g=p.lastRenderedEl,v=D(h,d.model,l,c.children,u(f,"children"),m,s,a);return M(Re,{data:g,children:v})},d=function(t,c){return D(I(e,c),t,u(n,c),r[c],u(i,c),u(o,c),s,a)};return z(t,(c={},c[Pe]=function(e){return v(w([r,n]),l)},c[Ie]=function(e){return y([r,n]).map(l)},c[Fe]=function(e){return l([r,n],null)},c[Ue]=function(e){return e.map(d)},c[Le]=function(e){return v(e,d)},c))}function I(e,t){if(null===t)return e;var n=e.slice(0);return n.push(t),n}function P(e,t){return null!==e&&null!==t&&e.length===t.length&&e.reduce(function(e,n,r){return e&&n===t[r]},!0)}function F(e,t){return e.reduce(function(e,t){return E(Re,e)?e.children[t]:e[t]},t)}function U(e,t,n){if(0===e.length)return n;var r,i=a(e),o=i[0],s=i[1];return"string"==typeof o?De({},t,(r={},r[o]=U(s,F([o],t),n),r)):[].concat(t.slice(0,o),[U(s,F([o],t),n)],t.slice(o+1))}function L(e,t,n){if(0===e.length)return n;var r=s(e),i=r[0],o=r[1],a=F(i,t);return E(Re,a)?a.children[o]=n:a[o]=n,t}function R(e,t){var n=e;return{get:function(e){return F(e,n)},set:function(e,r){n=t?L(e,n,r):U(e,n,r)}}}function q(e,t){var n;null!==t&&z(e,(n={},n[Pe]=function(n){if(!d(t)||h(t))throw new Error("Shape of the new state does not match the model. Model: "+n+"  State: "+t);v(t,function(t){return q(e.component.model,t)})},n[Ie]=function(n){if(!h(t))throw new Error("Shape of the new state does not match the model.Model: "+n+"  State: "+t);t.map(function(t){return q(e.component.model,t)})},n[Fe]=function(n){q(e.model,t)},n[Ue]=function(e){if(!h(t))throw new Error("Shape of the new state does not match the model.Model: "+e+"  State: "+t);e.map(function(e,n){return q(e,u(t,n))})},n[Le]=function(e){if(!d(t)||h(t))throw new Error("Shape of the new state does not match the model. Model: "+e+"  State: "+t);v(e,function(e,n){return q(e,u(t,n))})},n))}function B(e,t,n,r,i,o,s){var a=r(e,n),c=r(t,n);if(a&&!c)return Be;if(a&&c){var u=null===n?e!==t:e[n]!==t[n],l=P(o,s);return u&&i({state:e,lastState:t,componentTriggeredUpdate:l})?He:null}return!a&&c?Ve:null}function H(e,t,n,r,i){var o;return z(e,(o={},o[Pe]=function(e){var o=function(e,t){return d(e)&&t in e&&null!==e[t]};return v(Object.assign({},t||{},n||{}),function(s,a){var c=B(t,n,a,o,e.component.shouldUpdate,I(r,a),i),l=H(e.component.model,u(t,a),u(n,a),I(r,a),i);return M(Re,{data:c,children:l})})},o[Ie]=function(e){var o=function(e,t){return h(e)&&t<e.length&&null!==e[t]},s=Math.max(h(t)?t.length:0,h(n)?n.length:0);return Array.apply(null,{length:s}).map(function(s,a){var c=B(t,n,a,o,e.component.shouldUpdate,I(r,a),i),l=H(e.component.model,u(t,a),u(n,a),I(r,a),i);return M(Re,{data:c,children:l})})},o[Fe]=function(e){var o=function(e,t){return null!==e},s=B(t,n,null,o,e.shouldUpdate,r,i),a=H(e.model,t||null,n||null,r,i);return M(Re,{data:s,children:a})},o[Ue]=function(e){return e.map(function(e,o){return H(e,u(t,o),u(n,o),I(r,o),i)})},o[Le]=function(e){return v(e,function(e,o){return H(e,u(t,o),u(n,o),I(r,o),i)})},o))}function V(e,t,n,r,i){var o=H(e,t,n,r,i);return{minSignals:{diff:o,address:r,modelNode:e},minUpdate:{diff:o,address:r,modelNode:e}}}function Y(){var e={_onFns:[]};return e.on=function(t){if(!m(t))throw new Error('First argument to "on" must be a function');e._onFns=[].concat(e._onFns,[t])},e.call=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e._onFns.map(function(e){return e.apply(void 0,n)})},e}function W(e){var t={_callFns:[]};t.call=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length>1||!d(n[0]))throw new Error("Call only accepts a single object as argument.");t._callFns.map(function(e){return(0,e.fn)(n[0])})},t._onFns=[];var n=e?"onEach":"on";return t[n]=function(e){if(!m(e))throw new Error('Argument to "'+n+'" must be a function');t._onFns.push(function(t){return function(){if(arguments.length>1||!d(arguments.length<=0?void 0:arguments[0]))throw new Error("On function only accepts a single object as argument.");var n="string"==typeof t?De({k:t},arguments.length<=0?void 0:arguments[0]):"number"==typeof t?De({i:t},arguments.length<=0?void 0:arguments[0]):arguments.length<=0?void 0:arguments[0];e(n)}})},t}function X(e,t){return c(e.map(function(e){return[e,W(t)]}))}function $(e){var t;return z(e,(t={},t[Pe]=function(e){return X(e.component.signalNames,!0)},t[Ie]=function(e){return X(e.component.signalNames,!0)},t[Fe]=function(e){return X(e.signalNames,!1)},t[Ue]=function(e){return e.map($).filter(g)},t[Le]=function(e){return x(v(e,$),g)},t),i(null))}function J(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return z(e,(r={},r[Re]=function(e){return t(n,e.data,o)},r[Ue]=function(e){return e.reduce(function(e,n,r){return J(n,t,e,I(o,r))},n)},r[Le]=function(e){return b(e,function(e,n,r){return J(n,t,e,I(o,r))},n)},r),i(n))}function G(e,t,n){var r=X(e.signalNames,!1),i=$(e.model),o=oe(t,e,n.callReducer),s=se(t,e,n.callSignal),a=ae(t,e,n.callMethod,o,s);return e.signalSetup({methods:a,reducers:o,signals:r,childSignals:i}),{signalsAPI:r,childSignalsAPI:i}}function Z(e,t,n,r,o){var s,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=function(n,r){var i=n[0],s=n[1],l=null!==r?e.component:e,d=null!==r?I(t,r):t,h=i.data;if(h!==Be){if(h===Ve)return null;var f=J(i.children,function(e,t,n){return{hasCreated:e.hasCreated||t===Be,destroyed:t===Ve?[].concat(e.destroyed,[n]):e.destroyed}},{hasCreated:!1,destroyed:[]}),_=f.hasCreated;f.destroyed.map(function(e){v(e.reduce(function(t,n,r){if(n in t)return t[n];if(r===e.length-1)return t;throw new Error("Bad address "+e+" for object "+s.data.childSignalsAPI)},s.data.childSignalsAPI),function(t){t._callFns=t._callFns.filter(function(t){return!P(t.address,e)})})});var p=_?s.data.childSignalsAPI:null,m=_?[]:null,g=Z(l.model,d,i.children,u(s,"children"),o,p,m);return M(Re,{data:u(s,"data"),children:g})}var b=function(){var e=G(l,d,o),t=e.signalsAPI,n=e.childSignalsAPI,h=null===c?null:I(c,r),f=v(w([t,a]),function(e,t){var n=e[0],i=e[1],o=Y();return n._onFns.map(function(e){return o.on(e())}),n._callFns=[{fn:o.call,address:null}],null!==i&&(i._onFns.map(function(e){return o.on(e(r))}),i._callFns=[].concat(i._callFns,[{fn:o.call,address:h}])),o}),_={signals:f,signalsAPI:t,childSignalsAPI:n},p=Z(l.model,d,i.children,u(s,"children"),o,n,[]);return{v:M(Re,{data:_,children:p})}}();if("object"===(void 0===b?"undefined":Ne(b)))return b.v},d=function(e,n){var r=e[0],i=e[1],s=e[2],a=e[3],u=I(t,n),l=null===c?null:I(c,n);return Z(r,u,i,s,o,a,l)};return z(e,(s={},s[Pe]=function(e){return x(v(w([n,r]),l),g)},s[Ie]=function(e){return y([n,r]).map(l).filter(g)},s[Fe]=function(e){return l([n,r],null)},s[Ue]=function(e){return y([e,n,r,a]).map(d)},s[Le]=function(e){return v(w([e,n,r,a]),d)},s),i(null))}function K(e){return M(Pe,{component:e})}function Q(e){return M(Ie,{component:e})}function ee(e){return e.state!==e.lastState}function te(e,t){v(e,function(e,n){n in t||console.error("Unexpected argument "+n)})}function ne(e){return function(){if(0===arguments.length)return e({});if(arguments.length>1||!d(arguments.length<=0?void 0:arguments[0]))throw new Error("Reducers can only take 1 or 0 arguments, and the argument should be an object.");return e(arguments.length<=0?void 0:arguments[0])}}function re(e){return v(e,function(e,t){return function(){if(1===arguments.length&&d(arguments.length<=0?void 0:arguments[0])){if("state"in(arguments.length<=0?void 0:arguments[0]))return e(arguments.length<=0?void 0:arguments[0]);throw new Error('The argument to the reducer must have a "state" attribute.')}throw new Error("Reducers can only take 1 arguments, and the argument should be an object.")}})}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={displayName:"",signalNames:[],signalSetup:r,model:{},init:i({}),reducers:{},methods:{},willMount:r,didMount:r,shouldUpdate:ee,willUpdate:r,didUpdate:r,willUnmount:r,render:r};if(te(e,t),"init"in e&&(e.init=ne(e.init)),"reducers"in e&&(e.reducersRaw=e.reducers,e.reducers=re(e.reducers)),e.model&&E(Fe,e.model))throw new Error("The model cannot be another Component. The top level of the model should be an array or an object literal");return M(Fe,De({},t,e))}function oe(e,t,n){return v(t.reducersRaw,function(r,i){return function(){if(0===arguments.length)n(e,t,r,{},i);else{if(arguments.length>1||!d(arguments.length<=0?void 0:arguments[0]))throw new Error("Reducers can only take 1 or 0 arguments, and the argument should be an object.");n(e,t,r,arguments.length<=0?void 0:arguments[0],i)}}})}function se(e,t,n){return c(t.signalNames.map(function(t){return[t,{call:function(r){return n(e,t,r)}}]}))}function ae(e,t,n,r,i){var o=v(t.methods,function(t){return function(s){"undefined"!=typeof Event&&s instanceof Event?n(e,t,i,o,r,this,s,{}):n(e,t,i,o,r,null,null,s)}});return o}function ce(e,t){return function(t,n,r,i,o,s,a,c){if(null===e.get([]))throw new Error("Cannot call method before the app is initialized (e.g. in signalSetup).");var u=e.get(t);n(De({state:u,signals:r,methods:i,reducers:o,target:s,event:a},c))}}function ue(e,t){return function(n,r,i){t.verbose&&console.log("Called signal "+r+" at ["+n.join(", ")+"]."),e.get(n).data.signals[r].call(i)}}function le(e,t,n,r,i,o){return function(s,a,c,u,l){if(!m(c))throw new Error("Reducer "+l+" is not a function");var d=t.get(s),h=c(De({},u,{state:d}));o.verbose&&(console.log("Called reducer "+l+" for "+a.displayName+" at ["+s.join(", ")+"]."),console.log(d),console.log(h)),q(a.model,h);var f=t.get([]);t.set(s,h);var _=V(e,t.get([]),f,[],s),p=_.minSignals,g=_.minUpdate,v=r.get(p.address),b=Z(p.modelNode,p.address,p.diff,v,i);r.set(p.address,b);var y=n.get(g.address),w=y.data,x=t.get(g.address),j=D(g.address,g.modelNode,x,g.diff,y,w,i,o);n.set(g.address,j)}}function de(e,t,n,r,i){var o={};return o.callMethod=ce(t,i),o.callSignal=ue(r,i),o.callReducer=le(e,t,n,r,o,i),o}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=R(null,!1),i=M(Re,{data:t,children:null}),o=R(i,!0),s=R(null,!0),a=de(e,r,o,s,n),c="initialState"in n?n.initialState:e.init(),l=function(e){return e.newState},d=function(t){return a.callReducer([],e,l,{newState:t},"setState")};d(c);var h=function(){return r.get([])},f=function(e){return r.set([],e)},_=oe([],e,a.callReducer),p=se([],e,a.callSignal);return{setState:d,setStateNoRender:f,getState:h,reducers:_,methods:ae([],e,a.callMethod,_,p),signals:u(s.get([]).data,"signals")}}function fe(e){var t={};for(var n in e)t[e[n]]=n;return t}function _e(e,t){var n={};return e.map(function(e){return n[e[t]]=e}),n}function pe(e,t){if(l(e[0]))return t;var n=e[0];if(f(n)){var r;return r={},r[n]=pe(e.slice(1),t),r}var i=Array(n+1);return i[n]=pe(e.slice(1),t),i}function me(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if(!h(i))throw Error("Incompatible bindings: mix of types");var o=i.length;o>t&&(t=o)}for(var s=[],a=0;a<t;a++)for(var c=0,u=e.length;c<u;c++){var l=e[c];null!=l[a]&&(null!=s[a]?s[a]=ve([l[a],s[a]]):s[a]=l[a])}return s}function ge(e){return e.reduce(function(e,t){if(h(t))throw Error("Incompatible bindings: mix of types");for(var n in t)t[n]&&(e[n]?e[n]=ve([t[n],e[n]]):e[n]=t[n]);return e},{})}function ve(e){return h(e[0])?me(e):ge(e)}function be(e){return e&&"object"===(void 0===e?"undefined":Ne(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function ye(e){return e&&"object"===(void 0===e?"undefined":Ne(e))&&null!==e&&3===e.nodeType&&"string"==typeof e.nodeName}function we(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return M(We,{tagName:e,attributes:null==t?{}:t,children:r})}function xe(e){var t=h(e)?e:[e];return M(Ye,{address:t})}function je(e){var t=e.indexOf(":");if(-1!==t){var n=e.slice(0,t);if(n in Ze){return{name:"xmlns"===n?e:e.slice(t+1),explicit:Ze[n]}}return{name:e,explicit:null}}return{name:e,explicit:null}}function ke(e,t){var n=e.tagName,r=je(n),i=r.name,o=r.explicit,s=null!==o?o:n in Ze?Ze[n]:t.namespaceURI;return Ae(s===Ze.xhtml?document.createElement(i):document.createElementNS(s,i),e)}function Me(e){for(var t=/([^:; ]+):/g,n=[],r=void 0;null!==(r=t.exec(e));)n.push(r[1]);return n}function Ee(e){return e.replace(/-(.)/g,function(e){return e.toUpperCase()}).replace(/-/g,"")}function ze(e){return e.slice(2).toLowerCase()}function Se(e,t,n,r){var i=!0===r?n:r;e===Ze.xhtml?t.setAttribute(n,i):t.setAttributeNS(e,n,i)}function Ae(e,t){var n=null,r=e.namespaceURI;e.hasOwnProperty(Xe)&&(v(e[Xe],function(t,n){e.removeEventListener(n,t)}),delete e[Xe]),v(t.attributes,function(i,o){if("id"===o)e.id=i;else if("style"!==o||f(i))if(0===o.indexOf("on")){if(e.hasOwnProperty(Xe)||(e[Xe]={}),null!==i){var s=ze(o);if(!m(i)&&null!==i)throw new Error(i+" is not a function.");e[Xe][s]=i,e.addEventListener(s,i)}}else if(o in $e){var a=je(o),c=(a.name,a.explicit);Se(null!==c?c:r,e,$e[c],i)}else if(o in Ge)Ge[o](e,t.tagName,i);else if("then"===o){if(null!==i){if(!m(i))throw new Error(i+" is not a function or null.");n=i}}else{var u=je(o),l=u.name,d=u.explicit;Se(null!==d?d:r,e,l,i)}else v(i,function(t,n){e.style.setProperty(n,t)})});for(var i=[],o=0,s=e.attributes.length;o<s;o++)i.push(e.attributes[o].name);i.filter(function(e){return!(e in t.attributes)||!1===t.attributes[e]}).map(function(n){n in Je?e.removeAttribute(Je[n]):n in Ge?Ge[n](e,t.tagName):e.removeAttribute(n)});var a=t.attributes.style;return a&&!f(a)&&Me(e.style.cssText).filter(function(e){return!(e in a||Ee(e)in a)}).map(function(t){return e.style.removeProperty(t)}),n&&k(function(){return n(e)}),e}function Te(e){return e.reduce(function(e,t){return h(t)?[].concat(e,t):[].concat(e,[t])},[]).filter(g)}function Oe(e,t){for(var n=e.childNodes.length-1;n>=t;n--)e.removeChild(e.childNodes[n])}function Ce(e){if(!be(e))throw new Error("First argument must be a DOM Element.");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Te(n),o=u(i,0);if(Ke(o)){if(1!==i.length)throw new Error("A binding cannot have siblings in TinierDOM. At binding: [ "+o.address.join(", ")+" ].");return ve([pe(o.address,e)])}var s=Array.from(e.children).filter(function(e){return e.id}),a=_e(s,"id"),c=i.map(function(t,n){if(l(t))throw new Error("Children in Tinier Elements cannot be undefined.");if(Qe(t)){var r=e.childNodes[n];if(t.attributes.id in a){var i=a[t.attributes.id];return r?e.replaceChild(i,r):e.appendChild(i),Ce.apply(void 0,[i].concat(t.children))}if(r){if(r.tagName&&r.tagName.toLowerCase()===t.tagName.toLowerCase()){var o=r.id?r.cloneNode(!0):r;return Ae(o,t),r.id&&e.replaceChild(o,r),Ce.apply(void 0,[o].concat(t.children))}var s=ke(t,e);return e.replaceChild(s,r),Ce.apply(void 0,[s].concat(t.children))}var c=ke(t,e);return e.appendChild(c),Ce.apply(void 0,[c].concat(t.children))}if(Ke(t))throw new Error("A binding cannot have siblings in TinierDOM. At binding: [ "+t.address.join(", ")+" ].");var u=e.childNodes[n],d=String(t);return ye(u)?u.textContent=d:u?e.replaceChild(document.createTextNode(d),u):e.appendChild(document.createTextNode(d)),null});return Oe(e,i.length),ve(c.filter(function(e){return null!==e}))}t.__esModule=!0;var Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.tail=s,t.head=a,t.fromPairs=c,t.get=u,t.isUndefined=l,t.isObject=d,t.isArray=h,t.isString=f,t.isNumber=_,t.isBoolean=p,t.isFunction=m,t.notNull=g,t.mapValues=v,t.reduceValues=b,t.zipArrays=y,t.zipObjects=w,t.filterValues=x,t.any=j,t.tagType=M,t.checkType=E,t.match=z,t.hasChildren=A,t.checkRenderResult=O,t.updateEl=C,t.addressWith=I,t.addressEqual=P,t.makeTree=R,t.checkState=q,t.diffWithModelMin=V,t.makeSignal=Y,t.makeOneSignalAPI=W,t.makeChildSignalsAPI=$,t.reduceChildren=J,t.mergeSignals=Z,t.objectOf=K,t.arrayOf=Q,t.createComponent=ie,t.patchMethods=ae,t.makeCallMethod=ce,t.makeCallReducer=le,t.makeStateCallers=de,t.run=he,t.addressToObj=pe,t.objectForBindings=ve,t.createElement=we,t.bind=xe,t.createDOMElement=ke,t.getStyles=Me,t.updateDOMElement=Ae,t.render=Ce;var Ie=t.ARRAY_OF="@TINIER_ARRAY_OF",Pe=t.OBJECT_OF="@TINIER_OBJECT_OF",Fe=t.COMPONENT="@TINIER_COMPONENT",Ue=t.ARRAY="@TINIER_ARRAY",Le=t.OBJECT="@TINIER_OBJECT",Re=t.NODE="@TINIER_NODE",qe=t.NULL="@TINIER_NULL",Be=(t.STRING="@TINIER_STRING",t.NUMBER="@TINIER_NUMBER",t.BOOLEAN="@TINIER_BOOLEAN",t.ANY="@TINIER_ANY",t.NO_ARGUMENT="@TINIER_NO_ARGUMENT",t.TOP="@TINIER_TOP",t.CREATE="@TINIER_CREATE"),He=t.UPDATE="@TINIER_UPDATE",Ve=t.DESTROY="@TINIER_DESTROY",Ye=t.BINDING="@TINIER_BINDING",We=t.ELEMENT="@TINIER_ELEMENT",Xe="@TINIER_LISTENERS",$e={},Je=fe($e),Ge={checked:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("input"!==t)throw new Error('"checked" attribute is only supported on input elements.');e.checked=n},value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(-1===["input","textarea"].indexOf(t))throw new Error('"value" attribute is only supported on input and textarea elements.');e.value=n}},Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ke=function(e){return E(Ye,e)},Qe=function(e){return E(We,e)};t.default={arrayOf:Q,objectOf:K,createComponent:ie,run:he,bind:xe,createElement:we,render:Ce}},"./node_modules/vkbeautify/index.js":function(e,t){/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,s=0,a="",c=0,u=t?n(t):this.shift;for(c=0;c<i;c++)r[c].search(/<!/)>-1?(a+=u[s]+r[c],o=!0,(r[c].search(/-->/)>-1||r[c].search(/\]>/)>-1||r[c].search(/!DOCTYPE/)>-1)&&(o=!1)):r[c].search(/-->/)>-1||r[c].search(/\]>/)>-1?(a+=r[c],o=!1):/^<\w/.exec(r[c-1])&&/^<\/\w/.exec(r[c])&&/^<[\w:\-\.\,]+/.exec(r[c-1])==/^<\/[\w:\-\.\,]+/.exec(r[c])[0].replace("/","")?(a+=r[c],o||s--):r[c].search(/<\w/)>-1&&-1==r[c].search(/<\//)&&-1==r[c].search(/\/>/)?a=a+=o?r[c]:u[s++]+r[c]:r[c].search(/<\w/)>-1&&r[c].search(/<\//)>-1?a=a+=o?r[c]:u[s]+r[c]:r[c].search(/<\//)>-1?a=a+=o?r[c]:u[--s]+r[c]:r[c].search(/\/>/)>-1?a=a+=o?r[c]:u[s]+r[c]:r[c].search(/<\?/)>-1?a+=u[s]+r[c]:r[c].search(/xmlns\:/)>-1||r[c].search(/xmlns\=/)>-1?a+=u[s]+r[c]:a+=r[c];return"\n"==a[0]?a.slice(1):a},r.prototype.json=function(e,t){var t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,s="",a=0,c=t?n(t):this.shift;for(a=0;a<i;a++)/\{/.exec(r[a])?s+=c[o++]+r[a]:/\}/.exec(r[a])?s+=c[--o]+r[a]:(/\*\\/.exec(r[a]),s+=c[o]+r[a]);return s.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),s=r.length,a=[],c=0,u=this.step,l=0,d="",h=0,f=t?n(t):this.shift;for(h=0;h<s;h++)a=h%2?a.concat(r[h]):a.concat(o(r[h],u));for(s=a.length,h=0;h<s;h++){l=i(a[h],l),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[h])?(c++,d+=f[c]+a[h]):/\'/.exec(a[h])?(l<1&&c&&c--,d+=a[h]):(d+=f[c]+a[h],l<1&&c&&c--)}return d=d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},"./node_modules/webpack/buildin/amd-define.js":function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},"./node_modules/webpack/buildin/amd-options.js":function(e,t){(function(t){e.exports=t}).call(t,{})}});
